// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function F(c){return function(){return this[c]}}function G(c){return function(){return c}}var aa,H,I,da,J,K,ea,fa,ga,ha,ka,la,L,ma,na,M,oa,pa,N,qa,P,Q,ra,sa,R,ta,ua,va,wa,xa,S,ya,za,Aa,Ba,T,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,U,rb,sb,tb,V,ub,vb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(d,a,k,f){this.set(d,a,k,f)}function g(){this.Mb=this.Lb=this.Ob=this.Nb=this.jc=this.ic=this.cb=this.bb=0}function e(a,k,f,q){a<k?f<q?(t=a<f?a:f,d=k>q?k:q):(t=a<q?a:q,d=k>f?k:f):f<q?(t=k<f?k:f,d=a>q?a:q):(t=k<q?k:q,d=a>f?a:f)}function h(){this.ob=this.pb=null;this.Nd=0;r?this.pb=new Set:this.ob={};this.Mc=[];this.mc=!0}function b(d){s[u++]=d}function a(){this.gc=this.df=this.y=this.uf=0}function f(d){this.kd=[];this.Ug=this.Wg=this.Xg=this.Vg=0;this.zl(d)}function m(d,a){this.sj=
d;this.rj=a;this.cells={}}function v(d,a,f){var q;return k.length?(q=k.pop(),q.Kk=d,q.x=a,q.y=f,q):new aa(d,a,f)}function n(d,a,k){this.Kk=d;this.x=a;this.y=k;this.Ue=new H}I=function(d){window.console&&window.console.log&&window.console.log(d)};da=function(d){return"undefined"===typeof d};J=function(d){return"number"===typeof d};K=function(d){return"string"===typeof d};ea=function(d){return 0<d&&0===(d-1&d)};fa=function(d){--d;for(var a=1;32>a;a<<=1)d|=d>>a;return d+1};ga=function(d){return 0>d?
-d:d};ha=function(d,a){return d<a?d:a};ka=Math.PI;la=function(d){return d+0.5|0};L=function(d){return 0<=d?d|0:(d|0)-1};ma=function(d){var a=d|0;return a===d?a:a+1};na=function(d,a,k,f,q,l,r,b){var m,s,e,u;d<k?(s=d,m=k):(s=k,m=d);q<r?(u=q,e=r):(u=r,e=q);if(m<u||s>e)return!1;a<f?(s=a,m=f):(s=f,m=a);l<b?(u=l,e=b):(u=b,e=l);if(m<u||s>e)return!1;m=q-d+r-k;s=l-a+b-f;d=k-d;a=f-a;q=r-q;l=b-l;b=ga(a*q-l*d);return ga(q*s-l*m)>b?!1:ga(d*s-a*m)<=b};c.prototype.set=function(d,a,k,f){this.left=d;this.top=a;this.right=
k;this.bottom=f};c.prototype.copy=function(d){this.left=d.left;this.top=d.top;this.right=d.right;this.bottom=d.bottom};c.prototype.width=function(){return this.right-this.left};c.prototype.height=function(){return this.bottom-this.top};c.prototype.offset=function(d,a){this.left+=d;this.top+=a;this.right+=d;this.bottom+=a;return this};c.prototype.normalize=function(){var d=0;this.left>this.right&&(d=this.left,this.left=this.right,this.right=d);this.top>this.bottom&&(d=this.top,this.top=this.bottom,
this.bottom=d)};c.prototype.Pb=function(d,a){return d>=this.left&&d<=this.right&&a>=this.top&&a<=this.bottom};c.prototype.Kj=function(d){return this.left===d.left&&this.top===d.top&&this.right===d.right&&this.bottom===d.bottom};M=c;g.prototype.$e=function(d){this.bb=d.left;this.cb=d.top;this.ic=d.right;this.jc=d.top;this.Nb=d.right;this.Ob=d.bottom;this.Lb=d.left;this.Mb=d.bottom};g.prototype.Ji=function(d,a){if(0===a)this.$e(d);else{var k=Math.sin(a),f=Math.cos(a),q=d.left*k,l=d.top*k,r=d.right*
k,k=d.bottom*k,b=d.left*f,m=d.top*f,s=d.right*f,f=d.bottom*f;this.bb=b-l;this.cb=m+q;this.ic=s-l;this.jc=m+r;this.Nb=s-k;this.Ob=f+r;this.Lb=b-k;this.Mb=f+q}};g.prototype.offset=function(d,a){this.bb+=d;this.cb+=a;this.ic+=d;this.jc+=a;this.Nb+=d;this.Ob+=a;this.Lb+=d;this.Mb+=a;return this};var t=0,d=0;g.prototype.Zg=function(a){e(this.bb,this.ic,this.Nb,this.Lb);a.left=t;a.right=d;e(this.cb,this.jc,this.Ob,this.Mb);a.top=t;a.bottom=d};g.prototype.Pb=function(d,a){var k=this.ic-this.bb,f=this.jc-
this.cb,q=this.Nb-this.bb,l=this.Ob-this.cb,r=d-this.bb,b=a-this.cb,m=k*k+f*f,s=k*q+f*l,f=k*r+f*b,e=q*q+l*l,u=q*r+l*b,v=1/(m*e-s*s),k=(e*f-s*u)*v,m=(m*u-s*f)*v;if(0<=k&&0<m&&1>k+m)return!0;k=this.Lb-this.bb;f=this.Mb-this.cb;m=k*k+f*f;s=k*q+f*l;f=k*r+f*b;v=1/(m*e-s*s);k=(e*f-s*u)*v;m=(m*u-s*f)*v;return 0<=k&&0<m&&1>k+m};oa=g;pa=function(d,a){for(var k in a)a.hasOwnProperty(k)&&(d[k]=a[k]);return d};N=function(d,a){var k,f;a=L(a);if(!(0>a||a>=d.length))if(0===a)d.shift();else if(a===d.length-1)d.pop();
else{k=a;for(f=d.length-1;k<f;k++)d[k]=d[k+1];d.length=f}};qa=function(d,a){d.length=a.length;var k,f;k=0;for(f=a.length;k<f;k++)d[k]=a[k]};P=function(d,a){var k=d.indexOf(a);-1!==k&&N(d,k)};Q=function(d){return d/(180/ka)};ra=function(d){return d*(180/ka)};sa=function(d){d%=360;0>d&&(d+=360);return d};R=function(d){d%=2*ka;0>d&&(d+=2*ka);return d};ta=function(d){return sa(ra(d))};ua=function(d){return R(Q(d))};va=function(d,a,k,f){return Math.atan2(f-a,k-d)};wa=function(d,a){if(d===a)return 0;var k=
Math.sin(d),f=Math.cos(d),q=Math.sin(a),l=Math.cos(a),k=k*q+f*l;return 1<=k?0:-1>=k?ka:Math.acos(k)};xa=function(d,a,k){var f=Math.sin(d),q=Math.cos(d),l=Math.sin(a),r=Math.cos(a);return Math.acos(f*l+q*r)>k?0<q*l-f*r?R(d+k):R(d-k):R(a)};S=function(d,a){var k=Math.sin(d),f=Math.cos(d),q=Math.sin(a),l=Math.cos(a);return 0>=f*q-k*l};ya=function(d,a,k,f){d=k-d;a=f-a;return Math.sqrt(d*d+a*a)};za=function(d,a){return!d!==!a};Aa=function(d){for(var a in d)if(d.hasOwnProperty(a))return!0;return!1};Ba=function(d){for(var a in d)d.hasOwnProperty(a)&&
delete d[a]};var q=+new Date;T=function(){if("undefined"!==typeof window.performance){var d=window.performance;if("undefined"!==typeof d.now)return d.now();if("undefined"!==typeof d.webkitNow)return d.webkitNow();if("undefined"!==typeof d.mozNow)return d.mozNow();if("undefined"!==typeof d.msNow)return d.msNow()}return Date.now()-q};var r="undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;h.prototype.contains=function(d){return r?this.pb.has(d):this.ob.hasOwnProperty(d.toString())};
h.prototype.add=function(d){if(r)this.pb.has(d)||(this.pb.add(d),this.mc=!1);else{var a=d.toString();this.ob.hasOwnProperty(a)||(this.ob[a]=d,this.Nd++,this.mc=!1)}return this};h.prototype.remove=function(d){r?this.pb.has(d)&&(this.pb["delete"](d),this.mc=!1):(d=d.toString(),this.ob.hasOwnProperty(d)&&(delete this.ob[d],this.Nd--,this.mc=!1));return this};h.prototype.clear=function(){r?this.pb.clear():(this.ob={},this.Nd=0);this.Mc.length=0;this.mc=!0;return this};h.prototype.Tb=function(){return r?
0===this.pb.size:0===this.Nd};var s=null,u=0;h.prototype.Hl=function(){if(!this.mc){if(r)this.Mc.length=this.pb.size,s=this.Mc,u=0,this.pb.forEach(b),s=null,u=0;else{this.Mc.length=this.Nd;var d,a=0;for(d in this.ob)this.ob.hasOwnProperty(d)&&(this.Mc[a++]=this.ob[d])}this.mc=!0}};h.prototype.lf=function(){this.Hl();return this.Mc};H=h;a.prototype.add=function(d){this.y=d-this.uf;this.df=this.gc+this.y;this.uf=this.df-this.gc-this.y;this.gc=this.df};a.prototype.reset=function(){this.gc=this.df=this.y=
this.uf=0};Ca=a;Da=function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.zl=function(d){this.xi=d;this.Xe=d.length/2;this.kd.length=d.length;this.vf=this.wf=-1;this.ah=0};f.prototype.Zk=function(){return!this.xi.length};f.prototype.eb=function(){for(var d=this.kd,a=d[0],k=a,f=d[1],q=f,l,r,m=1,b=this.Xe;m<b;++m)r=2*m,l=d[r],r=d[r+1],l<a&&(a=l),l>k&&(k=l),r<f&&(f=r),r>q&&(q=r);this.Vg=a;this.Wg=k;this.Xg=f;this.Ug=q};f.prototype.$e=function(d,a,k){this.kd.length=8;this.Xe=4;var f=
this.kd;f[0]=d.left-a;f[1]=d.top-k;f[2]=d.right-a;f[3]=d.top-k;f[4]=d.right-a;f[5]=d.bottom-k;f[6]=d.left-a;f[7]=d.bottom-k;this.wf=d.right-d.left;this.vf=d.bottom-d.top;this.eb()};f.prototype.qj=function(d,a,k){if(this.wf!==d||this.vf!==a||this.ah!==k){this.wf=d;this.vf=a;this.ah=k;var f,q,l,r,m,b=0,s=1,e=this.xi,u=this.kd;0!==k&&(b=Math.sin(k),s=Math.cos(k));k=0;for(l=this.Xe;k<l;k++)f=2*k,q=f+1,r=e[f]*d,m=e[q]*a,u[f]=r*s-m*b,u[q]=m*s+r*b;this.eb()}};f.prototype.Pb=function(d,a){var k=this.kd;if(d===
k[0]&&a===k[1])return!0;var f,q,l,r=this.Xe,m=this.Vg-110,b=this.Xg-101,s=this.Wg+131,e=this.Ug+120,u,v,c=0,h=0;for(f=0;f<r;f++)q=2*f,l=2*((f+1)%r),u=k[q],q=k[q+1],v=k[l],l=k[l+1],na(m,b,d,a,u,q,v,l)&&c++,na(s,e,d,a,u,q,v,l)&&h++;return 1===c%2||1===h%2};Ea=f;m.prototype.th=function(d,a,k){var f;f=this.cells[d];return f?(f=f[a])?f:k?(f=v(this,d,a),this.cells[d][a]=f):null:k?(f=v(this,d,a),this.cells[d]={},this.cells[d][a]=f):null};m.prototype.Ng=function(d){return L(d/this.sj)};m.prototype.Og=function(d){return L(d/
this.rj)};m.prototype.update=function(d,a,f){var q,l,r,m,b;if(a)for(q=a.left,l=a.right;q<=l;++q)for(r=a.top,m=a.bottom;r<=m;++r)if(!f||!f.Pb(q,r))if(b=this.th(q,r,!1))b.remove(d),b.Tb()&&(b.Ue.clear(),1E3>k.length&&k.push(b),this.cells[q][r]=null);if(f)for(q=f.left,l=f.right;q<=l;++q)for(r=f.top,m=f.bottom;r<=m;++r)a&&a.Pb(q,r)||this.th(q,r,!0).Pk(d)};Fa=m;var k=[];n.prototype.Tb=function(){return this.Ue.Tb()};n.prototype.Pk=function(d){this.Ue.add(d)};n.prototype.remove=function(d){this.Ue.remove(d)};
aa=n;var l="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Ga=function(d){return 0>=d||11<=d?"source-over":l[d-1]};Ha=function(d,a,k){if(k)switch(d.ma=k.ONE,d.la=k.ONE_MINUS_SRC_ALPHA,a){case 1:d.ma=k.ONE;d.la=k.ONE;break;case 3:d.ma=k.ONE;d.la=k.ZERO;break;case 4:d.ma=k.ONE_MINUS_DST_ALPHA;d.la=k.ONE;break;case 5:d.ma=k.DST_ALPHA;d.la=k.ZERO;break;case 6:d.ma=k.ZERO;d.la=k.SRC_ALPHA;break;case 7:d.ma=k.ONE_MINUS_DST_ALPHA;
d.la=k.ZERO;break;case 8:d.ma=k.ZERO;d.la=k.ONE_MINUS_SRC_ALPHA;break;case 9:d.ma=k.DST_ALPHA;d.la=k.ONE_MINUS_SRC_ALPHA;break;case 10:d.ma=k.ONE_MINUS_DST_ALPHA,d.la=k.SRC_ALPHA}};Ia=function(d){return la(1E6*d)/1E6};Ja=function(d,a){return"string"!==typeof d||"string"!==typeof a||d.length!==a.length?!1:d===a?!0:d.toLowerCase()===a.toLowerCase()}})();var wb="undefined"!==typeof Float32Array?Float32Array:Array;function xb(c){var g=new wb(3);c&&(g[0]=c[0],g[1]=c[1],g[2]=c[2]);return g}
function Y(c){var g=new wb(16);c&&(g[0]=c[0],g[1]=c[1],g[2]=c[2],g[3]=c[3],g[4]=c[4],g[5]=c[5],g[6]=c[6],g[7]=c[7],g[8]=c[8],g[9]=c[9],g[10]=c[10],g[11]=c[11],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]);return g}function yb(c,g){g[0]=c[0];g[1]=c[1];g[2]=c[2];g[3]=c[3];g[4]=c[4];g[5]=c[5];g[6]=c[6];g[7]=c[7];g[8]=c[8];g[9]=c[9];g[10]=c[10];g[11]=c[11];g[12]=c[12];g[13]=c[13];g[14]=c[14];g[15]=c[15]}
function zb(c,g){var e=g[0],h=g[1];g=g[2];c[0]*=e;c[1]*=e;c[2]*=e;c[3]*=e;c[4]*=h;c[5]*=h;c[6]*=h;c[7]*=h;c[8]*=g;c[9]*=g;c[10]*=g;c[11]*=g}
function Ab(c,g,e,h){h||(h=Y());var b,a,f,m,v,n,t,d,q=c[0],r=c[1];c=c[2];a=e[0];f=e[1];b=e[2];e=g[1];n=g[2];q===g[0]&&r===e&&c===n?(c=h,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(e=q-g[0],n=r-g[1],t=c-g[2],d=1/Math.sqrt(e*e+n*n+t*t),e*=d,n*=d,t*=d,g=f*t-b*n,b=b*e-a*t,a=a*n-f*e,(d=Math.sqrt(g*g+b*b+a*a))?(d=1/d,g*=d,b*=d,a*=d):a=b=g=0,f=n*a-t*b,m=t*g-e*a,v=e*b-n*g,(d=Math.sqrt(f*f+m*m+v*v))?(d=1/d,f*=d,m*=d,v*=d):v=m=f=0,
h[0]=g,h[1]=f,h[2]=e,h[3]=0,h[4]=b,h[5]=m,h[6]=n,h[7]=0,h[8]=a,h[9]=v,h[10]=t,h[11]=0,h[12]=-(g*q+b*r+a*c),h[13]=-(f*q+m*r+v*c),h[14]=-(e*q+n*r+t*c),h[15]=1)}
(function(){function c(a){this.Uf=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.bh=xb([0,0,100]);this.ci=xb([0,0,0]);this.Zi=xb([0,1,0]);this.Kg=xb([1,1,1]);this.fg=Y();this.Na=Y();this.Uh=Y();this.Bf=Y();this.d=a;this.Gh()}function g(a,f,m){this.d=a;this.fe=f;this.name=m;this.Ma=a.getAttribLocation(f,"aPos");this.Wb=a.getAttribLocation(f,"aTex");this.ai=a.getUniformLocation(f,"matP");this.cd=a.getUniformLocation(f,"matMV");this.dd=a.getUniformLocation(f,
"opacity");this.bi=a.getUniformLocation(f,"samplerFront");this.Td=a.getUniformLocation(f,"samplerBack");this.Gc=a.getUniformLocation(f,"destStart");this.Fc=a.getUniformLocation(f,"destEnd");this.dg=a.getUniformLocation(f,"seconds");this.cg=a.getUniformLocation(f,"pixelWidth");this.bg=a.getUniformLocation(f,"pixelHeight");this.ag=a.getUniformLocation(f,"layerScale");this.dd&&a.uniform1f(this.dd,1);this.bi&&a.uniform1i(this.bi,0);this.Td&&a.uniform1i(this.Td,1);this.Gc&&a.uniform2f(this.Gc,0,0);this.Fc&&
a.uniform2f(this.Fc,1,1);this.vc=!1}function e(a,f){this.type=a;this.k=f;this.d=f.d;this.mb=this.Ra=this.pi=0;this.m=this.ab=null;this.yg=[]}c.prototype.Gh=function(){var a=this.d,f;this.Vh=1;this.Cc=this.Bc=null;this.hh=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Wh=a.ONE;this.Th=a.ONE_MINUS_SRC_ALPHA;this.kg=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.kg);this.me=Array(4);
this.he=Array(4);for(f=0;4>f;f++)this.me[f]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.me[f]),this.he[f]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.he[f]);this.xb=0;this.Ok=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ok);this.Jg=new Float32Array(16E3);this.Bg=new Float32Array(16E3);this.hl=new Float32Array(32E3);for(var m=new Uint16Array(12E3),b=f=0;12E3>f;)m[f++]=b,m[f++]=b+1,m[f++]=b+2,m[f++]=b,m[f++]=b+2,m[f++]=b+3,b+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,m,a.STATIC_DRAW);
this.lg=this.tb=0;this.$=[];f=this.Af({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.$.push(f);
f=this.Af({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.$.push(f);for(var e in Bb)Bb.hasOwnProperty(e)&&this.$.push(this.Af(Bb[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Kb=[];this.wb=0;this.xa=!1;this.ih=this.Od=-1;this.yd=null;this.hk=a.createFramebuffer();this.Ci=null;this.hc=xb([0,0,0]);this.rb(0)};c.prototype.Af=function(a,f,b){var e=this.d,c=e.createShader(e.FRAGMENT_SHADER);
e.shaderSource(c,a.src);e.compileShader(c);if(!e.getShaderParameter(c,e.COMPILE_STATUS))return e.deleteShader(c),null;var h=e.createShader(e.VERTEX_SHADER);e.shaderSource(h,f);e.compileShader(h);if(!e.getShaderParameter(h,e.COMPILE_STATUS))return e.deleteShader(c),e.deleteShader(h),null;f=e.createProgram();e.attachShader(f,c);e.attachShader(f,h);e.linkProgram(f);if(!e.getProgramParameter(f,e.LINK_STATUS))return e.deleteShader(c),e.deleteShader(h),e.deleteProgram(f),null;e.useProgram(f);e.deleteShader(c);
e.deleteShader(h);b=new g(e,f,b);b.Ff=a.Ff||0;b.Gf=a.Gf||0;b.gh=!!a.gh;b.Qg=!!a.Qg;b.g=a.g||[];a=0;for(c=b.g.length;a<c;a++)b.g[a][1]=e.getUniformLocation(f,b.g[a][0]),e.uniform1f(b.g[a][1],0);return b};c.prototype.Of=function(a){var f,b;f=0;for(b=this.$.length;f<b;f++)if(this.$[f].name===a)return f;return-1};c.prototype.wi=function(a,f,b){var e=this.Na,c=this.fg,h=[0,0,0,0,0,0,0,0];h[0]=e[0]*a+e[4]*f+e[12];h[1]=e[1]*a+e[5]*f+e[13];h[2]=e[2]*a+e[6]*f+e[14];h[3]=e[3]*a+e[7]*f+e[15];h[4]=c[0]*h[0]+
c[4]*h[1]+c[8]*h[2]+c[12]*h[3];h[5]=c[1]*h[0]+c[5]*h[1]+c[9]*h[2]+c[13]*h[3];h[6]=c[2]*h[0]+c[6]*h[1]+c[10]*h[2]+c[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],b[0]=(0.5*h[4]+0.5)*this.width,b[1]=(0.5*h[5]+0.5)*this.height)};c.prototype.md=function(a,f,b){if(this.width!==a||this.height!==f||b){this.qc();this.width=a;this.height=f;this.d.viewport(0,0,a,f);f=a/f;var e=this.fg,h;h=1*Math.tan(45*Math.PI/360);f*=h;a=-f;b=-h;e||(e=Y());var c=f-a,d=h-b;e[0]=2/c;e[1]=0;e[2]=
0;e[3]=0;e[4]=0;e[5]=2/d;e[6]=0;e[7]=0;e[8]=(f+a)/c;e[9]=(h+b)/d;e[10]=-1001/999;e[11]=-1;e[12]=0;e[13]=0;e[14]=-2E3/999;e[15]=0;Ab(this.bh,this.ci,this.Zi,this.Na);a=[0,0];f=[0,0];this.wi(0,0,a);this.wi(1,1,f);this.Kg[0]=1/(f[0]-a[0]);this.Kg[1]=-1/(f[1]-a[1]);a=0;for(f=this.$.length;a<f;a++)b=this.$[a],b.vc=!1,b.ai&&(this.d.useProgram(b.fe),this.d.uniformMatrix4fv(b.ai,!1,this.fg));this.d.useProgram(this.$[this.Od].fe);this.d.bindTexture(this.d.TEXTURE_2D,null);this.d.activeTexture(this.d.TEXTURE1);
this.d.bindTexture(this.d.TEXTURE_2D,null);this.d.activeTexture(this.d.TEXTURE0);this.Cc=this.Bc=null}};c.prototype.$b=function(){Ab(this.bh,this.ci,this.Zi,this.Na);zb(this.Na,this.Kg)};c.prototype.translate=function(a,f){if(0!==a||0!==f){this.hc[0]=a;this.hc[1]=f;this.hc[2]=0;var b=this.Na,e=this.hc,h=e[0],c=e[1],e=e[2];b[12]=b[0]*h+b[4]*c+b[8]*e+b[12];b[13]=b[1]*h+b[5]*c+b[9]*e+b[13];b[14]=b[2]*h+b[6]*c+b[10]*e+b[14];b[15]=b[3]*h+b[7]*c+b[11]*e+b[15]}};c.prototype.scale=function(a,f){if(1!==a||
1!==f)this.hc[0]=a,this.hc[1]=f,this.hc[2]=1,zb(this.Na,this.hc)};c.prototype.Di=function(a){if(0!==a){var f=this.Na,b,e=Math.sin(a);a=Math.cos(a);var h=f[0],c=f[1],d=f[2],q=f[3],r=f[4],s=f[5],u=f[6],k=f[7];b?f!==b&&(b[8]=f[8],b[9]=f[9],b[10]=f[10],b[11]=f[11],b[12]=f[12],b[13]=f[13],b[14]=f[14],b[15]=f[15]):b=f;b[0]=h*a+r*e;b[1]=c*a+s*e;b[2]=d*a+u*e;b[3]=q*a+k*e;b[4]=h*-e+r*a;b[5]=c*-e+s*a;b[6]=d*-e+u*a;b[7]=q*-e+k*a}};c.prototype.kc=function(){for(var a=!1,f=0;16>f;f++)if(this.Uh[f]!==this.Na[f]){a=
!0;break}a&&(a=this.$a(),a.type=5,a.m?yb(this.Na,a.m):a.m=Y(this.Na),yb(this.Na,this.Uh),this.xa=!1)};e.prototype.Ej=function(){this.d.bindTexture(this.d.TEXTURE_2D,this.ab)};e.prototype.Fj=function(){var a=this.d;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ab);a.activeTexture(a.TEXTURE0)};e.prototype.Bj=function(){var a=this.pi,f=this.k;f.hh=a;f=f.yd;f.dd&&this.d.uniform1f(f.dd,a)};e.prototype.yj=function(){this.d.drawElements(this.d.TRIANGLES,this.mb,this.d.UNSIGNED_SHORT,2*this.Ra)};
e.prototype.Aj=function(){this.d.blendFunc(this.Ra,this.mb)};e.prototype.Gj=function(){var a,f,b,e=this.k.$,h=this.k.ih;a=0;for(f=e.length;a<f;a++)b=e[a],a===h&&b.cd?(this.d.uniformMatrix4fv(b.cd,!1,this.m),b.vc=!0):b.vc=!1;yb(this.m,this.k.Bf)};e.prototype.zj=function(){var a=this.d,f=this.k;this.ab?(f.Cc===this.ab&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),f.Cc=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,f.hk),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,this.ab,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};e.prototype.wj=function(){var a=this.d;0===this.Ra?(a.clearColor(this.m[0],this.m[1],this.m[2],this.m[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.m[0],this.m[1],this.m[2],this.m[3]),a.clearColor(0,0,0,0),a.clear(this.d.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};e.prototype.xj=function(){var a=this.d,f=this.k,b=f.$[1];a.useProgram(b.fe);
!b.vc&&b.cd&&(a.uniformMatrix4fv(b.cd,!1,f.Bf),b.vc=!0);a.enableVertexAttribArray(b.Ma);a.bindBuffer(a.ARRAY_BUFFER,f.kg);a.vertexAttribPointer(b.Ma,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Ra/4,this.mb);b=f.yd;a.useProgram(b.fe);0<=b.Ma&&(a.enableVertexAttribArray(b.Ma),a.bindBuffer(a.ARRAY_BUFFER,f.me[f.xb]),a.vertexAttribPointer(b.Ma,2,a.FLOAT,!1,0,0));0<=b.Wb&&(a.enableVertexAttribArray(b.Wb),a.bindBuffer(a.ARRAY_BUFFER,f.he[f.xb]),a.vertexAttribPointer(b.Wb,2,a.FLOAT,!1,0,0))};e.prototype.Cj=
function(){var a=this.d,f=this.k,b=f.$[this.Ra];f.ih=this.Ra;f.yd=b;a.useProgram(b.fe);!b.vc&&b.cd&&(a.uniformMatrix4fv(b.cd,!1,f.Bf),b.vc=!0);b.dd&&a.uniform1f(b.dd,f.hh);0<=b.Ma&&(a.enableVertexAttribArray(b.Ma),a.bindBuffer(a.ARRAY_BUFFER,f.me[f.xb]),a.vertexAttribPointer(b.Ma,2,a.FLOAT,!1,0,0));0<=b.Wb&&(a.enableVertexAttribArray(b.Wb),a.bindBuffer(a.ARRAY_BUFFER,f.he[f.xb]),a.vertexAttribPointer(b.Wb,2,a.FLOAT,!1,0,0))};e.prototype.Dj=function(){var a,f,b=this.k.yd,e=this.d;b.Td&&this.k.Cc!==
this.ab&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.ab),this.k.Cc=this.ab,e.activeTexture(e.TEXTURE0));b.cg&&e.uniform1f(b.cg,this.m[0]);b.bg&&e.uniform1f(b.bg,this.m[1]);b.Gc&&e.uniform2f(b.Gc,this.m[2],this.m[3]);b.Fc&&e.uniform2f(b.Fc,this.m[4],this.m[5]);b.ag&&e.uniform1f(b.ag,this.m[6]);b.dg&&e.uniform1f(b.dg,T()/1E3);if(b.g.length)for(a=0,f=b.g.length;a<f;a++)e.uniform1f(b.g[a][1],this.yg[a])};c.prototype.$a=function(){this.wb===this.Kb.length&&this.Kb.push(new e(0,this));
return this.Kb[this.wb++]};c.prototype.qc=function(){if(0!==this.wb&&!this.d.isContextLost()){var a=this.d;0<this.lg&&(a.bindBuffer(a.ARRAY_BUFFER,this.kg),a.bufferData(a.ARRAY_BUFFER,this.hl.subarray(0,this.lg),a.STREAM_DRAW),b&&0<=b.Ma&&"<point>"===b.name&&a.vertexAttribPointer(b.Ma,4,a.FLOAT,!1,0,0));if(0<this.tb){var b=this.yd;a.bindBuffer(a.ARRAY_BUFFER,this.me[this.xb]);a.bufferData(a.ARRAY_BUFFER,this.Jg.subarray(0,this.tb),a.STREAM_DRAW);b&&0<=b.Ma&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ma,
2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.he[this.xb]);a.bufferData(a.ARRAY_BUFFER,this.Bg.subarray(0,this.tb),a.STREAM_DRAW);b&&0<=b.Wb&&"<point>"!==b.name&&a.vertexAttribPointer(b.Wb,2,a.FLOAT,!1,0,0)}for(var e,a=0,b=this.wb;a<b;a++)switch(e=this.Kb[a],e.type){case 1:e.yj();break;case 2:e.Ej();break;case 3:e.Bj();break;case 4:e.Aj();break;case 5:e.Gj();break;case 6:e.zj();break;case 7:e.wj();break;case 8:e.xj();break;case 9:e.Cj();break;case 10:e.Dj();break;case 11:e.Fj()}this.lg=this.tb=
this.wb=0;this.xa=!1;this.xb++;4<=this.xb&&(this.xb=0)}};c.prototype.ee=function(a){if(a!==this.Vh){var b=this.$a();b.type=3;this.Vh=b.pi=a;this.xa=!1}};c.prototype.Pa=function(a){if(a!==this.Bc){var b=this.$a();b.type=2;this.Bc=b.ab=a;this.xa=!1}};c.prototype.ac=function(a,b){if(a!==this.Wh||b!==this.Th){var e=this.$a();e.type=4;e.Ra=a;e.mb=b;this.Wh=a;this.Th=b;this.xa=!1}};c.prototype.Ii=function(){this.ac(this.d.ONE,this.d.ONE_MINUS_SRC_ALPHA)};c.prototype.Ai=function(a,b,e,h,c,g,d,q){15992<=
this.tb&&this.qc();var r=this.tb,s=this.Jg,u=this.Bg;if(this.xa)this.Kb[this.wb-1].mb+=6;else{var k=this.$a();k.type=1;k.Ra=3*(r/4);k.mb=6;this.xa=!0}s[r]=a;u[r++]=0;s[r]=b;u[r++]=0;s[r]=e;u[r++]=1;s[r]=h;u[r++]=0;s[r]=c;u[r++]=1;s[r]=g;u[r++]=1;s[r]=d;u[r++]=0;s[r]=q;u[r++]=1;this.tb=r};c.prototype.Kc=function(a,b,e,h,c,g,d,q,r){15992<=this.tb&&this.qc();var s=this.tb,u=this.Jg,k=this.Bg;if(this.xa)this.Kb[this.wb-1].mb+=6;else{var l=this.$a();l.type=1;l.Ra=3*(s/4);l.mb=6;this.xa=!0}var l=r.left,
y=r.top,z=r.right;r=r.bottom;u[s]=a;k[s++]=l;u[s]=b;k[s++]=y;u[s]=e;k[s++]=z;u[s]=h;k[s++]=y;u[s]=c;k[s++]=z;u[s]=g;k[s++]=r;u[s]=d;k[s++]=l;u[s]=q;k[s++]=r;this.tb=s};c.prototype.rb=function(a){if(this.Od!==a){if(!this.$[a]){if(0===this.Od)return;a=0}var b=this.$a();b.type=9;this.Od=b.Ra=a;this.xa=!1}};c.prototype.Zd=function(a){a=this.$[a];return!(!a.Gc&&!a.Fc)};c.prototype.mg=function(a){a=this.$[a];return!!(a.Gc||a.Fc||a.gh)};c.prototype.ml=function(a){a=this.$[a];return 0!==a.Ff||0!==a.Gf};c.prototype.tk=
function(a){return this.$[a].Ff};c.prototype.uk=function(a){return this.$[a].Gf};c.prototype.vk=function(a,b){return this.$[a].g[b][2]};c.prototype.We=function(a){return this.$[a].Qg};c.prototype.ld=function(a,b,e,h,c,g,d,q,r){var s=this.$[this.Od];if(s.cg||s.bg||s.dg||s.Td||s.Gc||s.Fc||s.ag||r.length){var u=this.$a();u.type=10;u.m?yb(this.Na,u.m):u.m=Y();u.m[0]=b;u.m[1]=e;u.m[2]=h;u.m[3]=c;u.m[4]=g;u.m[5]=d;u.m[6]=q;u.ab=s.Td?a:null;if(r.length)for(u.yg.length=r.length,a=0,b=r.length;a<b;a++)u.yg[a]=
r[a];this.xa=!1}};c.prototype.clear=function(a,b,e,h){var c=this.$a();c.type=7;c.Ra=0;c.m||(c.m=Y());c.m[0]=a;c.m[1]=b;c.m[2]=e;c.m[3]=h;this.xa=!1};c.prototype.clearRect=function(a,b,e,h){var c=this.$a();c.type=7;c.Ra=1;c.m||(c.m=Y());c.m[0]=a;c.m[1]=b;c.m[2]=e;c.m[3]=h;this.xa=!1};c.prototype.ll=function(){this.qc();this.d.flush()};var h=[],b={};c.prototype.$h=function(a,f,e){var c;c=!0;f=!!f;var g=a.src+","+c+","+f+(c?",undefined":""),t=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(g))return t=
b[g],t.re++,t;this.qc();var d=this.d,q=ea(a.width)&&ea(a.height),t=d.createTexture();d.bindTexture(d.TEXTURE_2D,t);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=d.RGBA,s=d.RGBA,u=d.UNSIGNED_BYTE;if(e&&!this.Uf)switch(e){case 1:s=r=d.RGB;break;case 2:u=d.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=d.UNSIGNED_SHORT_5_5_5_1;break;case 4:s=r=d.RGB,u=d.UNSIGNED_SHORT_5_6_5}!q&&c?(e=document.createElement("canvas"),e.width=fa(a.width),e.height=fa(a.height),e.getContext("2d").drawImage(a,0,0,a.width,
a.height,0,0,e.width,e.height),d.texImage2D(d.TEXTURE_2D,0,r,s,u,e)):d.texImage2D(d.TEXTURE_2D,0,r,s,u,a);c?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE));f?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),q?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):
d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST));d.bindTexture(d.TEXTURE_2D,null);this.Bc=null;t.vd=a.width;t.ud=a.height;t.re=1;t.$g=g;h.push(t);return b[g]=t};c.prototype.Qb=function(a,b,e){var c;this.qc();var g=this.d;this.Uf&&(c=!1);var t=g.createTexture();g.bindTexture(g.TEXTURE_2D,t);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,a,b,0,g.RGBA,c?g.UNSIGNED_SHORT_4_4_4_4:
g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,e?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,e?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.Bc=null;t.vd=a;t.ud=b;h.push(t);return t};c.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.re&&1<a.re?a.re--:(this.qc(),a===this.Bc&&(this.d.bindTexture(this.d.TEXTURE_2D,
null),this.Bc=null),a===this.Cc&&(this.d.activeTexture(this.d.TEXTURE1),this.d.bindTexture(this.d.TEXTURE_2D,null),this.d.activeTexture(this.d.TEXTURE0),this.Cc=null),P(h,a),"undefined"!==typeof a.$g&&delete b[a.$g],this.d.deleteTexture(a)))};c.prototype.qb=function(a){if(a!==this.Ci){var b=this.$a();b.type=6;this.Ci=b.ab=a;this.xa=!1}};Ka=c})();
(function(){function c(d){if(d&&(d.getContext||d.dc)&&!d.c2runtime){d.c2runtime=this;var a=this;this.Lh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk);this.Yk=!this.Lh&&"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.zc=!!d.dc;this.Tk="undefined"!==typeof window.AppMobi||this.zc;if(this.Ab=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),
CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)});this.nb=this.zc||this.Ab;this.Mh=/tizen/i.test(navigator.userAgent);this.Kh=/android/i.test(navigator.userAgent)&&!this.Mh;this.Uf=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.Rh=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Qh=/ipad/i.test(navigator.userAgent);this.$k=this.Rh||this.Qh;this.Tf=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);
this.Rk=/amazonwebappplatform/i.test(navigator.userAgent);this.Wk=/firefox/i.test(navigator.userAgent);this.Ub="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.Nh=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Oh=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Uk=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Sk=this.Kh&&!this.Tf&&!this.Wk&&!this.Rk&&!this.nb;this.devicePixelRatio=
1;this.Zc=this.Yk||this.Lh||this.Tk||this.Ab||this.Kh||this.$k||this.Oh||this.Uk||this.Mh;this.Zc||(this.Zc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Ub||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Ub=!0);this.Vk="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=d;this.dh=document.getElementById("c2canvasdiv");this.F=
this.k=this.d=null;this.Jf="";this.De=!1;this.li=this.mi=0;this.canvas.oncontextmenu=function(d){d.preventDefault&&d.preventDefault();return!1};this.canvas.onselectstart=function(d){d.preventDefault&&d.preventDefault();return!1};this.zc&&(window.c2runtime=this);this.Ub&&(window.bn=function(d){d.preventDefault();return!1},window.cn=function(d){d.preventDefault();return!1},require("nw.gui").App.clearCache());this.width=d.width;this.height=d.height;this.u=this.width;this.r=this.height;this.ve=this.width;
this.ue=this.height;this.Qd=window.innerWidth;this.Pd=window.innerHeight;this.P=!0;this.Ld=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.f=[];this.U=[];this.$f={};this.Za=[];this.Ef={};this.rc=[];this.ne=[];this.jf=[];this.lj=[];this.mj=[];this.gb=new H;this.Vf=!1;this.Bb=0;this.Xf=!1;this.wa=[];this.Cb=this.na=this.Pe=this.xg="";this.ge=this.Li=!1;this.zf=this.Ud=this.Rb=this.Wc=0;this.ke=1;this.ad=new Ca;this.Me=0;this.di=!0;this.Te=this.Ee=this.Ae=this.je=
this.Rd=this.If=0;this.xf=null;this.kh=[];this.Df=[];this.ye=-1;this.eg=[[]];this.Fg=this.Se=0;this.og(null);this.Ad=this.hi=this.Wd=0;this.cf=[];this.gf=this.Ye=0;this.Le=!0;this.Re=0;this.Kd=!1;this.Al=0;this.Lk=!1;this.Zf=0;this.pg=!1;this.ji=new H;this.ki=new H;this.ol=[];new Ea([]);new Ea([]);this.Rc=[];this.oe={};this.Vc={};this.Qc={};this.qd={};this.Yg={};this.Zh=this.Oe=this.ya=this.Ha=this.Yh=this.Ne=this.M=null;this.pd=this.Yf=!1;this.Kf=[null,null];this.tc=0;this.Ic={};this.af=this.bd=
null;this.load();this.devicePixelRatio=(this.Ac=!this.nb&&this.Il&&!this.Sk)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ka();var b,f=this.rf&&!(this.Ub||this.Nh||this.Oh);0<this.Ea&&this.setSize(window.innerWidth,window.innerHeight,!0);try{!this.Ij||!this.Ab&&this.nb||(b={alpha:f,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.d=d.getContext("webgl",b)||d.getContext("experimental-webgl",b))}catch(e){}if(this.d){this.nb||
(this.ha=document.createElement("canvas"),jQuery(this.ha).appendTo(this.canvas.parentNode),this.ha.oncontextmenu=G(!1),this.ha.onselectstart=G(!1),this.ha.width=this.ve,this.ha.height=this.ue,jQuery(this.ha).css({width:this.ve+"px",height:this.ue+"px"}),this.ti(),this.jg=this.ha.getContext("2d"));this.k=new Ka(this.d,this.Zc);this.k.md(d.width,d.height);this.F=null;this.canvas.addEventListener("webglcontextlost",function(d){d.preventDefault();a.el();console.log("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.k.Gh();a.k.md(a.k.width,a.k.height,!0);a.Ha=null;a.ya=null;a.Kf[0]=null;a.Kf[1]=null;a.fl();a.P=!0;console.log("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);var k,l,y,c,h,m;d=0;for(b=this.f.length;d<b;d++)for(l=this.f[d],f=0,k=l.n.length;f<k;f++)c=l.n[f],c.ia=this.k.Of(c.id),this.pd=this.pd||this.k.Zd(c.ia);d=0;for(b=this.Za.length;d<b;d++){h=this.Za[d];f=0;for(k=h.n.length;f<
k;f++)c=h.n[f],c.ia=this.k.Of(c.id);f=0;for(k=h.B.length;f<k;f++)for(m=h.B[f],l=0,y=m.n.length;l<y;l++)c=m.n[l],c.ia=this.k.Of(c.id),this.pd=this.pd||this.k.Zd(c.ia)}}else{if(0<this.Ea&&this.zc){this.canvas=null;document.oncontextmenu=G(!1);document.onselectstart=G(!1);this.F=AppMobi.canvas.getContext("2d");try{this.F.samplingMode=this.G?"smooth":"sharp",this.F.globalScale=1,this.F.HTML5CompatibilityMode=!0,this.F.imageSmoothingEnabled=this.G}catch(g){}0!==this.width&&0!==this.height&&(this.F.width=
this.width,this.F.height=this.height)}this.F||(b=this.Ab?{antialias:!!this.G,alpha:f}:{alpha:f},this.F=d.getContext("2d",b),this.F.webkitImageSmoothingEnabled=this.G,this.F.mozImageSmoothingEnabled=this.G,this.F.msImageSmoothingEnabled=this.G,this.F.imageSmoothingEnabled=this.G);this.jg=this.ha=null}this.ff=function(){a.ie()};window==window.top||this.nb||this.Nh||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},
!0));"undefined"!==typeof cr_is_preview&&(this.Ab&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(I("Reloading for continuous preview"),this.Pe="__c2_continuouspreview",this.ge=!0),this.gl&&!this.Zc&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));0===this.Ea&&this.Ac&&1<this.devicePixelRatio&&this.setSize(this.da,this.ca,!0);this.Ui();this.go();this.R={}}}function g(d){d.target.result.createObjectStore("saves",
{keyPath:"slot"})}function e(d,a,b,f){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=g;e.onerror=f;e.onsuccess=function(k){k=k.target.result;k.onerror=f;k.transaction(["saves"],"readwrite").objectStore("saves").put({slot:d,data:a}).onsuccess=b}}function h(d,a,b){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=g;f.onerror=b;f.onsuccess=function(f){f=f.target.result;f.onerror=b;var k=f.transaction(["saves"]).objectStore("saves").get(d);k.onsuccess=function(){k.result?a(k.result.data):
a(null)}}}function b(){I("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function a(d){var a,b={};for(a in d)!d.hasOwnProperty(a)||d[a]instanceof H||d[a]&&"undefined"!==typeof d[a].$m||(b[a]=d[a]);return b}c.prototype.setSize=function(d,a,b){var f=0,e=0,k=0,l=0,l=0;if(this.Qd!==d||this.Pd!==a||b){this.Qd=d;this.Pd=a;var c=this.Ea,h=document.mozFullScreen||document.webkitIsFullScreen||
!!document.msFullscreenElement||document.fullScreen||this.Kd;if(h||0!==this.Ea||b)h&&0<this.tc&&(c=this.tc),4<=c?(b=this.da/this.ca,d/a>b?(k=a*b,5===c?(l=k/this.da,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),k=this.da*l,l*=this.ca,f=(d-k)/2,e=(a-l)/2,d=k,a=l):(f=(d-k)/2,d=k)):(l=d/b,5===c?(l/=this.ca,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),k=this.da*l,l*=this.ca,f=(d-k)/2,e=(a-l)/2,d=k):e=(a-l)/2,a=l),h&&!this.Ub&&(e=f=0),f=Math.floor(f),e=Math.floor(e),d=Math.floor(d),a=Math.floor(a)):this.Ub&&
this.Kd&&0===this.sh&&(f=Math.floor((d-this.da)/2),e=Math.floor((a-this.ca)/2),d=this.da,a=this.ca),2>c&&(this.td=this.devicePixelRatio),this.Ac&&this.Qh&&1<this.devicePixelRatio&&(1024<=d&&(d=1023),1024<=a&&(a=1023)),h=this.devicePixelRatio,this.ve=d,this.ue=a,this.width=Math.round(d*h),this.height=Math.round(a*h),this.P=!0,this.aj?(this.u=this.width,this.r=this.height,this.Ja=!0):this.width<this.da&&this.height<this.ca||1===c?(this.u=this.width,this.r=this.height,this.Ja=!0):(this.u=this.da,this.r=
this.ca,this.Ja=!1,2===c?(b=this.da/this.ca,c=this.Qd/this.Pd,c<b?this.u=this.r*c:c>b&&(this.r=this.u/c)):3===c&&(b=this.da/this.ca,c=this.Qd/this.Pd,c>b?this.u=this.r*c:c<b&&(this.r=this.u/c))),this.dh&&!this.nb&&(jQuery(this.dh).css({width:d+"px",height:a+"px","margin-left":f,"margin-top":e}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:d+"px",height:a+"px"})),this.canvas&&(this.canvas.width=Math.round(d*h),this.canvas.height=Math.round(a*h),this.Ac&&jQuery(this.canvas).css({width:d+
"px",height:a+"px"})),this.ha&&(this.ha.width=d,this.ha.height=a,jQuery(this.ha).css({width:d+"px",height:a+"px"})),this.k&&this.k.md(Math.round(d*h),Math.round(a*h)),this.zc&&this.F&&(this.F.width=d,this.F.height=a),this.F&&(this.F.webkitImageSmoothingEnabled=this.G,this.F.mozImageSmoothingEnabled=this.G,this.F.msImageSmoothingEnabled=this.G,this.F.imageSmoothingEnabled=this.G),this.Ui()}};c.prototype.Ui=function(){if(this.nj&&0!==this.ig){var d="portrait";2===this.ig&&(d="landscape");screen.lockOrientation?
screen.lockOrientation(d):screen.webkitLockOrientation?screen.webkitLockOrientation(d):screen.mozLockOrientation?screen.mozLockOrientation(d):screen.msLockOrientation&&screen.msLockOrientation(d)}};c.prototype.el=function(){this.Yf=!0;var d,a,b;d=0;for(a=this.f.length;d<a;d++)b=this.f[d],b.ni&&b.ni()};c.prototype.fl=function(){this.Yf=!1;var d,a,b;d=0;for(a=this.f.length;d<a;d++)b=this.f[d],b.oi&&b.oi()};c.prototype.ti=function(){if(!this.nb){var d=document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||document.msFullscreenElement||this.Kd?jQuery(this.canvas).offset():jQuery(this.canvas).position();d.position="absolute";jQuery(this.ha).css(d)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(d){var a;if(d&&!this.Ld)for(I("[Construct 2] Suspending"),this.Ld=!0,0!==this.Ye&&f&&f(this.Ye),0!==this.gf&&clearTimeout(this.gf),d=0,a=this.cf.length;d<
a;d++)this.cf[d](!0);else if(!d&&this.Ld){I("[Construct 2] Resuming");this.Ld=!1;this.Me=T();this.Rd=T();d=this.Ud=this.Ee=0;for(a=this.cf.length;d<a;d++)this.cf[d](!1);this.ie()}};c.prototype.load=function(){var d=Cb();this.name=d[0];this.rh=d[1];this.Ea=d[11];this.sh=d[11];this.da=d[9];this.ca=d[10];this.qi=this.da/2;this.ri=this.ca/2;this.nb&&(4<=d[11]||0===d[11])&&(I("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.sh=this.Ea=
3);this.Hg=d[17];this.Sd=d[18];0===this.Sd&&(this.bd=new Image,this.bd.src="loading-logo.png");this.Wd=d[20];this.sb=new Z(this);var a,b,f,e,k,l,c,h,m;a=0;for(b=d[2].length;a<b;a++)c=d[2][a],La(c),m=new c[0](this),m.zg=c[1],m.Vb=c[2],m.fi=c[9],m.Oa&&m.Oa(),this.plugins.push(m);d=Cb();a=0;for(b=d[3].length;a<b;a++){c=d[3][a];k=c[1];m=null;f=0;for(e=this.plugins.length;f<e;f++)if(this.plugins[f]instanceof k){m=this.plugins[f];break}var g=new m.qf(m);g.name=c[0];g.A=c[2];g.Sf=c[3].slice(0);g.Jl=c[3].length;
g.oj=c[4];g.ik=c[5];g.D=c[11];g.A?(g.ei=[],g.kb=this.Ad++,g.K=null):(g.ei=null,g.kb=-1,g.K=[]);g.Ce=null;g.Xc=null;g.nh=null;g.Ya=!1;g.ta=null;c[6]?(g.Oi=c[6][0],g.Pi=c[6][1],g.Cg=c[6][2]):(g.Oi=null,g.Pi=0,g.Cg=0);g.Zm=c[7]?c[7]:null;g.index=a;g.c=[];g.we=[];g.fc=[new Ma(g)];g.yb=0;g.hb=null;g.nd=!0;g.kf=Na;g.mk=Oa;g.sk=Pa;g.O=Qa;g.ae=Ra;g.ng=Sa;g.jd=Ta;g.Fe=Ua;g.Lf=Va;g.Nf=Wa;g.Sc=Xa;g.xh=Ya;g.eh=new Fa(this.da,this.ca);g.Rg=!0;g.Sg=!1;g.R={};g.toString=Za;g.U=[];f=0;for(e=c[8].length;f<e;f++){h=
c[8][f];var v=h[1],n=null;k=0;for(l=this.U.length;k<l;k++)if(this.U[k]instanceof v){n=this.U[k];break}n||(n=new v(this),n.gi=[],n.gg=new H,n.Oa&&n.Oa(),this.U.push(n));-1===n.gi.indexOf(g)&&n.gi.push(g);k=new n.qf(n);k.name=h[0];k.D=h[2];k.Oa();g.U.push(k)}g.global=c[9];g.Wf=c[10];g.n=[];f=0;for(e=c[12].length;f<e;f++)g.n.push({id:c[12][f][0],name:c[12][f][1],ia:-1,ub:!0,index:f});g.hn=c[13];this.Hg&&!g.A&&!g.Wf&&m.Vb||g.Oa();g.name&&(this.types[g.name]=g);this.f.push(g);m.zg&&(f=new m.Pc(g),f.uid=
this.Wd++,f.yi=this.hi++,f.wc=0,f.Dd=$a,f.toString=ab,f.$d=c[14],f.Oa(),g.c.push(f),this.Ic[f.uid.toString()]=f)}a=0;for(b=d[4].length;a<b;a++)for(k=d[4][a],l=this.f[k[0]],f=1,e=k.length;f<e;f++)c=this.f[k[f]],c.K.push(l),l.ei.push(c);a=0;for(b=d[23].length;a<b;a++){k=d[23][a];l=[];f=0;for(e=k.length;f<e;f++)l.push(this.f[k[f]]);f=0;for(e=l.length;f<e;f++)l[f].Ya=!0,l[f].ta=l}if(0<this.Ad)for(a=0,b=this.f.length;a<b;a++)if(c=this.f[a],!c.A&&c.K.length){c.Ce=Array(this.Ad);c.Xc=Array(this.Ad);c.nh=
Array(this.Ad);g=[];f=n=v=h=0;for(e=c.K.length;f<e;f++)for(m=c.K[f],c.Ce[m.kb]=h,h+=m.Jl,c.Xc[m.kb]=v,v+=m.oj,c.nh[m.kb]=n,n+=m.ik,k=0,l=m.n.length;k<l;k++)g.push(pa({},m.n[k]));c.n=g.concat(c.n);f=0;for(e=c.n.length;f<e;f++)c.n[f].index=f}a=0;for(b=d[5].length;a<b;a++)c=d[5][a],f=new bb(this,c),this.$f[f.name]=f,this.Za.push(f);a=0;for(b=d[6].length;a<b;a++)c=d[6][a],f=new cb(this,c),this.Ef[f.name]=f,this.rc.push(f);a=0;for(b=this.rc.length;a<b;a++)this.rc[a].S();a=0;for(b=this.jf.length;a<b;a++)this.jf[a].S();
this.jf.length=0;this.Yd=d[8];this.td=1;this.Ij=d[12];this.G=d[13];this.rf=d[14];this.Il=d[16];this.ig=d[19];this.nj=0<this.ig;this.gl=d[21];this.Ja=this.aj=d[22];this.bf=Date.now()};c.prototype.Tg=function(){var d=0,a=0,b=!0,f,e;f=0;for(e=this.ne.length;f<e;f++){var k=this.ne[f].tj;if(!k||0>=k)k=5E4;d+=k;this.ne[f].complete||this.ne[f].loaded?a+=k:b=!1}this.Jc=0==d?0:a/d;return b};c.prototype.go=function(){if(this.F||this.k){var d=this.F||this.jg;this.ha&&this.ti();this.Jc=0;this.Xh=-1;if(this.Tg())this.Jk();
else{var a=Date.now()-this.bf;if(d){var b=this.width,f=this.height,e=this.devicePixelRatio;this.ha&&(b=this.ve,f=this.ue,e=1);if(3!==this.Sd&&500<=a&&this.Xh!=this.Jc){d.clearRect(0,0,b,f);var a=b/2,f=f/2,b=0===this.Sd&&this.bd.complete,k=40*e,l=0,c=80*e,h;b&&(c=this.bd.width*e,h=this.bd.height*e,k=c/2,l=h/2,d.drawImage(this.bd,L(a-k),L(f-l),c,h));1>=this.Sd?(a=L(a-k)+0.5,f=L(f+(l+(b?12*e:0)))+0.5,d.fillStyle="DodgerBlue",d.fillRect(a,f,Math.floor(c*this.Jc),6*e),d.strokeStyle="black",d.strokeRect(a,
f,c,6*e),d.strokeStyle="white",d.strokeRect(a-1*e,f-1*e,c+2*e,8*e)):2===this.Sd&&(d.font="12pt Arial",d.fillStyle="#999",d.gn="middle",e=Math.round(100*this.Jc)+"%",b=d.measureText?d.measureText(e):null,d.fillText(e,a-(b?b.width:0)/2,f))}this.Xh=this.Jc}setTimeout(function(d){return function(){d.go()}}(this),100)}}};c.prototype.Jk=function(){this.ha&&(this.canvas.parentNode.removeChild(this.ha),this.ha=this.jg=null);this.bf=Date.now();this.Rd=T();var d,a,b;if(this.Hg)for(d=0,a=this.f.length;d<a;d++)b=
this.f[d],b.A||b.Wf||!b.ua.Vb||b.Oa();else this.Le=!1;d=0;for(a=this.Za.length;d<a;d++)this.Za[d].uj();2<=this.Ea&&(d=this.da/this.ca,a=this.width/this.height,this.td=2!==this.Ea&&a>d||2===this.Ea&&a<d?this.height/this.ca:this.width/this.da);this.rh?this.$f[this.rh].Ag():this.Za[0].Ag();this.Hg||(this.Re=1,this.trigger(Z.prototype.aa.Mg,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();this.ie();this.zc&&AppMobi.webview.execute("onGameReady();")};var m=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.ie=function(){if(this.M){var d=T();if(this.Lk&&this.pg&&29>d-this.Zf)this.pg=!1,this.Zf=d,m?this.Ye=m(this.ff,this.canvas):this.gf=setTimeout(this.ff,this.Zc?1:16);else{this.pg=!0;this.Zf=d;var a=this.Ea,b=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement;(b||this.Kd)&&0<this.tc&&(a=this.tc);if(0<a&&!this.Rh){var a=
window.innerWidth,f=window.innerHeight;this.Qd===a&&this.Pd===f||this.setSize(a,f)}this.nb||(b?(this.De||(this.Jf=jQuery(this.canvas).css("margin")||"0",this.De=!0),this.Tf||this.Ub||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.De?(this.Tf||this.Ub||jQuery(this.canvas).css("margin",this.Jf),this.Jf="",this.De=!1,0===this.Ea&&this.setSize(Math.round(this.mi/
this.devicePixelRatio),Math.round(this.li/this.devicePixelRatio),!0)):(this.mi=this.width,this.li=this.height));this.Le&&(b=this.Tg(),this.Re=this.Jc,b&&(this.Le=!1,this.Jc=1,this.trigger(Z.prototype.aa.Mg,null)));this.dl();!this.P&&!this.Ab||this.Yf||this.ge||(this.P=!1,this.k?this.ib():this.pc(),this.af&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.af[0],this.af[1]),this.trigger(Z.prototype.aa.ej,null)),this.af=null));this.an||(this.je++,this.Ae++,this.Ee++);this.Ud+=T()-d;this.Ld||
(m?this.Ye=m(this.ff,this.canvas):this.gf=setTimeout(this.ff,this.Zc?1:16))}}};c.prototype.dl=function(){var d,a,b,f,e,k,l,c,h;d=T();1E3<=d-this.Rd&&(this.Rd+=1E3,this.If=this.Ee,this.Ee=0,this.zf=this.Ud,this.Ud=0);this.di&&(0!==this.Me&&(a=d-this.Me,0!==a||this.Vk?(this.Rb=a/1E3,0.5<this.Rb?this.Rb=0:0.1<this.Rb&&(this.Rb=0.1)):(10<=this.jn&&(this.di=!1),this.Rb=1/60)),this.Me=d);this.Wc=this.Rb*this.ke;this.ad.add(this.Wc);d=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||
!!document.msFullscreenElement||this.Kd;2<=this.Ea||d&&0<this.tc?(a=this.da/this.ca,b=this.width/this.height,f=this.Ea,d&&0<this.tc&&(f=this.tc),this.td=2!==f&&b>a||2===f&&b<a?this.height/this.ca:this.width/this.da,this.M&&(this.M.Gi(this.M.scrollX),this.M.Hi(this.M.scrollY))):this.td=this.Ac?this.devicePixelRatio:1;this.ka();this.Bb++;this.sb.ql();this.Bb--;this.ka();this.Bb++;d=0;for(a=this.f.length;d<a;d++)if(l=this.f[d],!l.A&&(l.U.length||l.K.length))for(b=0,f=l.c.length;b<f;b++)for(c=l.c[b],
e=0,k=c.q.length;e<k;e++)c.q[e].ie();d=0;for(a=this.f.length;d<a;d++)if(l=this.f[d],!l.A&&(l.U.length||l.K.length))for(b=0,f=l.c.length;b<f;b++)for(c=l.c[b],e=0,k=c.q.length;e<k;e++)h=c.q[e],h.kl&&h.kl();b=this.ji.lf();d=0;for(a=b.length;d<a;d++)b[d].ie();this.Bb--;this.Mk();for(d=0;this.xf&&10>d++;)this.lh(this.xf);d=0;for(a=this.rc.length;d<a;d++)this.rc[d].Pf=!1;this.M.xe&&this.M.xe.Z();this.ol.length=0;this.Bb++;d=0;for(a=this.f.length;d<a;d++)if(l=this.f[d],!l.A&&(l.U.length||l.K.length))for(b=
0,f=l.c.length;b<f;b++)for(c=l.c[b],e=0,k=c.q.length;e<k;e++)h=c.q[e],h.Qi&&h.Qi();b=this.ki.lf();d=0;for(a=b.length;d<a;d++)b[d].Qi();this.Bb--};c.prototype.lh=function(d){var a=this.M;this.M.Bl();var b,f,e,k,l,c,h;if(this.k)for(b=0,f=this.f.length;b<f;b++)l=this.f[b],l.A||!l.Yi||l.global&&0!==l.c.length||-1!==d.Id.indexOf(l)||l.Yi();a==d&&(this.sb.Ba.length=0);d.Ag();b=0;for(f=this.f.length;b<f;b++)if(l=this.f[b],l.global||l.ua.zg)for(d=0,a=l.c.length;d<a;d++)if(c=l.c[d],c.hg&&c.hg(),c.q)for(e=
0,k=c.q.length;e<k;e++)h=c.q[e],h.hg&&h.hg();this.P=!0;this.ka()};c.prototype.lk=function(d){return d&&-1!==d.Vd?this.Rb*d.Vd:this.Wc};c.prototype.pc=function(){this.M.pc(this.F);this.zc&&this.F.present()};c.prototype.ib=function(){this.M.ib(this.k);this.k.ll()};c.prototype.Ah=function(d){return this.Ic[d.toString()]};c.prototype.Oc=function(d){var a,b;if(!this.gb.contains(d)){this.gb.add(d);if(d.Ya)for(a=0,b=d.siblings.length;a<b;a++)this.Oc(d.siblings[a]);this.Vf&&this.gb.Mc.push(d);this.Bb++;this.trigger(Object.getPrototypeOf(d.type.ua).aa.gj,
d);this.Bb--}};c.prototype.ka=function(){var d,a,b,f,e,k,l,c,h,g;this.Vf=!0;f=0;for(k=this.wa.length;f<k;f++)for(d=this.wa[f],a=d.type,a.c.push(d),e=0,l=a.K.length;e<l;e++)a.K[e].c.push(d),a.K[e].nd=!0;this.wa.length=0;k=this.gb.lf();for(f=0;f<k.length;f++){d=k[f];a=d.type;b=a.c;e=0;for(l=this.kh.length;e<l;e++)this.kh[e](d);P(b,d);0===b.length&&(a.Sg=!1);d.se&&a.eh.update(d,d.se,null);d.e&&(N(d.e.c,d.Ga()),d.e.Ca=!0);e=0;for(l=a.K.length;e<l;e++)P(a.K[e].c,d),a.K[e].nd=!0;if(d.q)for(e=0,l=d.q.length;e<
l;e++)b=d.q[e],b.Ve&&b.Ve(),b.Tc.gg.remove(d);this.ji.remove(d);this.ki.remove(d);e=0;for(l=this.sb.Ba.length;e<l;e++)if(h=this.sb.Ba[e],h.Aa.hasOwnProperty(a.index)&&P(h.Aa[a.index].yc,d),!a.A)for(b=0,c=a.K.length;b<c;b++)g=a.K[b],h.Aa.hasOwnProperty(g.index)&&P(h.Aa[g.index].yc,d);d.Ve&&d.Ve();this.Ic.hasOwnProperty(d.uid.toString())&&delete this.Ic[d.uid.toString()];this.Te--;64>a.we.length&&a.we.push(d);a.nd=!0}this.gb.Tb()||(this.P=!0);this.gb.clear();this.Vf=!1};var v=[];c.prototype.nc=function(d,
a,b,f,e,k){var l,c,h,g;if(!d)return null;var m=this.f[d[1]],n=m.ua.Vb;if(this.Le&&n&&!m.Wf||n&&!this.k&&11===d[0][11])return null;var t=a;n||(a=null);var p;m.we.length?(p=m.we.pop(),p.Yb=!0,m.ua.Pc.call(p,m)):(p=new m.ua.Pc(m),p.Yb=!1);p.uid=b&&!k?d[2]:this.Wd++;this.Ic[p.uid.toString()]=p;p.yi=this.hi++;p.wc=m.c.length;l=0;for(c=this.wa.length;l<c;++l)this.wa[l].type===m&&p.wc++;p.Dd=$a;h=d[3];if(p.Yb)Ba(p.R);else{p.R={};if("undefined"!==typeof cr_is_preview)for(p.Jh=[],p.Jh.length=h.length,l=0,
c=h.length;l<c;l++)p.Jh[l]=h[l][1];p.X=[];p.X.length=h.length}l=0;for(c=h.length;l<c;l++)p.X[l]=h[l][0];if(n){var w=d[0];p.x=da(f)?w[0]:f;p.y=da(e)?w[1]:e;p.z=w[2];p.width=w[3];p.height=w[4];p.depth=w[5];p.j=w[6];p.opacity=w[7];p.Fd=w[8];p.Gd=w[9];p.qa=w[10];l=w[11];!this.k&&m.n.length&&(p.qa=l);p.xd=Ga(p.qa);this.d&&Ha(p,p.qa,this.d);if(p.Yb){l=0;for(c=w[12].length;l<c;l++)for(h=0,g=w[12][l].length;h<g;h++)p.N[l][h]=w[12][l][h];p.va.set(0,0,0,0);p.se.set(0,0,-1,-1);p.qe.$e(p.va);p.tf.length=0}else{p.N=
w[12].slice(0);l=0;for(c=p.N.length;l<c;l++)p.N[l]=w[12][l].slice(0);p.C=[];p.Hb=[];p.Hb.length=m.n.length;p.va=new M(0,0,0,0);p.se=new M(0,0,-1,-1);p.qe=new oa;p.tf=[];p.oa=db;p.Ym=eb;p.Pb=fb;p.eb=gb;p.Ga=hb}p.Dl=!1;p.Fl=0;p.El=0;p.Cl=null;14===w.length&&(p.Dl=!0,p.Fl=w[13][0],p.El=w[13][1],p.Cl=w[13][2]);l=0;for(c=m.n.length;l<c;l++)p.Hb[l]=!0;p.Gb=ib;p.Gb();p.$i=!!p.C.length;p.sf=!0;m.Rg=!0;p.visible=!0;p.Vd=-1;p.e=a;p.Nc=a.c.length;"undefined"===typeof p.wd&&(p.wd=null);this.P=p.te=!0}p.toString=
ab;var x;l=v.length=0;for(c=m.K.length;l<c;l++)v.push.apply(v,m.K[l].U);v.push.apply(v,m.U);if(p.Yb)for(l=0,c=v.length;l<c;l++){var D=v[l];x=p.q[l];x.Yb=!0;D.Tc.Pc.call(x,D);w=d[4][l];h=0;for(g=w.length;h<g;h++)x.$d[h]=w[h];x.Oa();D.Tc.gg.add(p)}else for(p.q=[],l=0,c=v.length;l<c;l++)D=v[l],x=new D.Tc.Pc(D),x.Yb=!1,x.$d=d[4][l].slice(0),x.Oa(),p.q.push(x),D.Tc.gg.add(p);w=d[5];if(p.Yb)for(l=0,c=w.length;l<c;l++)p.$d[l]=w[l];else p.$d=w.slice(0);this.wa.push(p);a&&(a.c.push(p),1!==a.gd||1!==a.hd)&&
(m.Sg=!0);this.Te++;if(m.Ya){if(p.Ya=!0,p.Yb?p.siblings.length=0:p.siblings=[],!b&&!k){l=0;for(c=m.ta.length;l<c;l++)if(m.ta[l]!==m){if(!m.ta[l].hb)return null;p.siblings.push(this.nc(m.ta[l].hb,t,!1,n?p.x:f,n?p.y:e,!0))}l=0;for(c=p.siblings.length;l<c;l++)for(p.siblings[l].siblings.push(p),h=0;h<c;h++)l!==h&&p.siblings[l].siblings.push(p.siblings[h])}}else p.Ya=!1,p.siblings=null;p.Oa();l=0;for(c=p.q.length;l<c;l++)p.q[l].jl&&p.q[l].jl();return p};c.prototype.pk=function(d){var a,b;a=0;for(b=this.M.B.length;a<
b;a++){var f=this.M.B[a];if(Ja(f.name,d))return f}return null};c.prototype.qk=function(d){d=L(d);0>d&&(d=0);d>=this.M.B.length&&(d=this.M.B.length-1);return this.M.B[d]};c.prototype.yf=function(d){var a,b;a=0;for(b=d.length;a<b;a++)d[a].O().fa=!0};c.prototype.ae=function(d){var a,b;a=0;for(b=d.length;a<b;a++)d[a].ae()};c.prototype.ng=function(d){var a,b;a=0;for(b=d.length;a<b;a++)d[a].ng()};c.prototype.jd=function(d){var a,b;a=0;for(b=d.length;a<b;a++)d[a].jd()};new oa;new M(0,0,0,0);c.prototype.Vi=
function(d,a){if(!a)return!1;var b,f,e,k,l;b=0;for(f=d.U.length;b<f;b++)if(d.U[b].Tc instanceof a)return!0;if(!d.A)for(b=0,f=d.K.length;b<f;b++)for(l=d.K[b],e=0,k=l.U.length;e<k;e++)if(l.U[e].Tc instanceof a)return!0;return!1};c.prototype.Wi=function(d){return this.Vi(d,vb.pm)};c.prototype.Gg=function(d){return this.Vi(d,vb.qm)};var n=[],t=-1;c.prototype.trigger=function(d,a,b){if(!this.M)return!1;var f=this.M.xe;if(!f)return!1;t++;t===n.length?n.push(new H):n[t].clear();d=this.Si(d,a,f,b);t--;return d};
c.prototype.Si=function(d,a,b,f){var e=n[t];if(e.contains(b))return!1;e.add(b);var e=b.Fh.lf(),k=!1,l,c,h;l=0;for(c=e.length;l<c;l++)e[l].Qk()&&(h=this.Si(d,a,e[l].Hd,f),k=k||h);if(a)for(h=this.Eg(d,a,a.type.name,b,f),k=k||h,l=0,c=a.type.K.length;l<c;l++)h=this.Eg(d,a,a.type.K[l].name,b,f),k=k||h;else h=this.Eg(d,a,"system",b,f),k=k||h;return k};c.prototype.Eg=function(d,a,b,f,e){var k,l=!1,c=!1,c="undefined"!==typeof e,h=(c?f.ph:f.Ti)[b];if(!h)return l;var g=null;f=0;for(k=h.length;f<k;f++)if(h[f].method==
d){g=h[f].ze;break}if(!g)return l;d=c?g[e]:g;if(!d)return null;f=0;for(k=d.length;f<k;f++)e=d[f][0],c=d[f][1],c=this.gk(a,b,e,c),l=l||c;return l};c.prototype.gk=function(d,a,b,f){var e,k,l=!1;this.Fg++;var c=this.Fa().fb;c&&this.ae(c.cc);var h=1<this.Fg;this.ae(b.cc);h&&this.nl();var g=this.og(b);g.fb=b;d&&(e=this.types[a].O(),e.fa=!1,e.c.length=1,e.c[0]=d,this.types[a].Sc());d=!0;if(b.parent){a=g.Ni;for(e=b.parent;e;)a.push(e),e=e.parent;a.reverse();e=0;for(k=a.length;e<k;e++)if(!a[e].sl()){d=!1;
break}}d&&(this.Ae++,b.Db?b.rl(f):b.Z(),l=l||g.Dc);this.si();h&&this.il();this.jd(b.cc);c&&this.jd(c.cc);0!==this.Bb||0!==t||this.Xf||this.gb.Tb()&&!this.wa.length||this.ka();this.Fg--;return l};c.prototype.kk=function(){var d=this.Fa();return d.fb.Q[d.ra]};c.prototype.nl=function(){this.Se++;this.Se>=this.eg.length&&this.eg.push([])};c.prototype.il=function(){this.Se--};c.prototype.uh=function(){return this.eg[this.Se]};c.prototype.og=function(d){this.ye++;this.ye>=this.Df.length&&this.Df.push(new jb);
var a=this.Fa();a.reset(d);return a};c.prototype.si=function(){this.ye--};c.prototype.Fa=function(){return this.Df[this.ye]};c.prototype.vh=function(d,a){for(var b,f,e,k,c,h;a;){b=0;for(f=a.Sa.length;b<f;b++)if(h=a.Sa[b],h instanceof kb&&Ja(d,h.name))return h;a=a.parent}b=0;for(f=this.rc.length;b<f;b++)for(c=this.rc[b],e=0,k=c.Sb.length;e<k;e++)if(h=c.Sb[e],h instanceof kb&&Ja(d,h.name))return h;return null};c.prototype.yh=function(d){var a,b;a=0;for(b=this.Za.length;a<b;a++)if(this.Za[a].D===d)return this.Za[a];
return null};c.prototype.He=function(d){var a,b;a=0;for(b=this.f.length;a<b;a++)if(this.f[a].D===d)return this.f[a];return null};c.prototype.nk=function(d){var a,b;a=0;for(b=this.Rc.length;a<b;a++)if(this.Rc[a].D===d)return this.Rc[a];return null};c.prototype.Mk=function(){var d=this,a=this.xg,f=this.Cb,c=this.Pe,g=!1;this.Li&&(g=!0,a="__c2_continuouspreview",this.Li=!1);if(a.length){this.ka();f=this.xl();if(window.indexedDB&&!this.Ab)e(a,f,function(){I("Saved state to IndexedDB storage ("+f.length+
" bytes)");d.Cb=f;d.trigger(Z.prototype.aa.of,null);d.Cb="";g&&b()},function(k){try{localStorage.setItem("__c2save_"+a,f),I("Saved state to WebStorage ("+f.length+" bytes)"),d.Cb=f,d.trigger(Z.prototype.aa.of,null),d.Cb="",g&&b()}catch(e){I("Failed to save game state: "+k+"; "+e)}});else try{localStorage.setItem("__c2save_"+a,f),I("Saved state to WebStorage ("+f.length+" bytes)"),d.Cb=f,this.trigger(Z.prototype.aa.of,null),d.Cb="",g&&b()}catch(k){I("Error saving to WebStorage: "+k)}this.na=this.Pe=
this.xg=""}c.length&&(window.indexedDB&&!this.Ab?h(c,function(a){a?(d.na=a,I("Loaded state from IndexedDB storage ("+d.na.length+" bytes)")):(d.na=localStorage.getItem("__c2save_"+c)||"",I("Loaded state from WebStorage ("+d.na.length+" bytes)"));d.ge=!1;d.na.length||d.trigger(Z.prototype.aa.nf,null)},function(){d.na=localStorage.getItem("__c2save_"+c)||"";I("Loaded state from WebStorage ("+d.na.length+" bytes)");d.ge=!1;d.na.length||d.trigger(Z.prototype.aa.nf,null)}):(this.na=localStorage.getItem("__c2save_"+
c)||"",I("Loaded state from WebStorage ("+this.na.length+" bytes)"),this.ge=!1,d.na.length||d.trigger(Z.prototype.aa.nf,null)),this.xg=this.Pe="");this.na.length&&(this.ka(),this.bl(this.na),this.Cb=this.na,this.trigger(Z.prototype.aa.jj,null),this.na=this.Cb="")};c.prototype.xl=function(){var d,b,f,e,c,k,l,h={c2save:!0,version:1,rt:{time:this.ad.gc,timescale:this.ke,tickcount:this.je,execcount:this.Ae,next_uid:this.Wd,running_layout:this.M.D,start_time_offset:Date.now()-this.bf},types:{},layouts:{},
events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(b=this.f.length;d<b;d++)if(c=this.f[d],!c.A&&!this.Wi(c)){k={instances:[]};Aa(c.R)&&(k.ex=a(c.R));f=0;for(e=c.c.length;f<e;f++)k.instances.push(this.wg(c.c[f]));h.types[c.D.toString()]=k}d=0;for(b=this.Za.length;d<b;d++)f=this.Za[d],h.layouts[f.D.toString()]=f.Eb();e=h.events.groups;d=0;for(b=this.Rc.length;d<b;d++)f=this.Rc[d],e[f.D.toString()]=!!this.oe[f.Ed];b=h.events.cnds;for(l in this.Vc)this.Vc.hasOwnProperty(l)&&(d=this.Vc[l],Aa(d.R)&&(b[l]=
{ex:a(d.R)}));b=h.events.acts;for(l in this.Qc)this.Qc.hasOwnProperty(l)&&(d=this.Qc[l],Aa(d.R)&&(b[l]={ex:d.R}));b=h.events.vars;for(l in this.qd)this.qd.hasOwnProperty(l)&&(d=this.qd[l],d.Ie||d.parent&&!d.Md||(b[l]=d.data));h.system=this.sb.Eb();return JSON.stringify(h)};c.prototype.Bi=function(){var d,a,b,f,e,k;this.Ic={};d=0;for(a=this.f.length;d<a;d++)if(b=this.f[d],!b.A)for(f=0,e=b.c.length;f<e;f++)k=b.c[f],this.Ic[k.uid.toString()]=k};c.prototype.bl=function(d){d=JSON.parse(d);if(d.c2save&&
!(1<d.version)){var a=d.rt;this.ad.reset();this.ad.gc=a.time;this.ke=a.timescale;this.je=a.tickcount;this.Ae=a.execcount;this.bf=Date.now()-a.start_time_offset;var b=a.running_layout;if(b!==this.M.D)if(b=this.yh(b))this.lh(b);else return;var f,e,k,c,h,g,m;g=d.types;for(e in g)if(g.hasOwnProperty(e)&&(c=this.He(parseInt(e,10)))&&!c.A&&!this.Wi(c)){g[e].ex?c.R=g[e].ex:Ba(c.R);h=c.c;k=g[e].instances;b=0;for(f=ha(h.length,k.length);b<f;b++)this.Qe(h[b],k[b]);b=k.length;for(f=h.length;b<f;b++)this.Oc(h[b]);
b=h.length;for(f=k.length;b<f;b++){h=null;if(c.ua.Vb&&(h=this.M.Ge(k[b].w.l),!h))continue;h=this.nc(c.hb,h,!1,0,0,!0);this.Qe(h,k[b])}c.nd=!0}this.ka();this.Bi();f=d.layouts;for(e in f)f.hasOwnProperty(e)&&(b=this.yh(parseInt(e,10)))&&b.Ec(f[e]);f=d.events.groups;for(e in f)f.hasOwnProperty(e)&&(b=this.nk(parseInt(e,10)))&&(this.oe[b.Ed]=f[e]);b=d.events.cnds;for(e in b)b.hasOwnProperty(e)&&this.Vc.hasOwnProperty(e)&&(this.Vc[e].R=b[e].ex);b=d.events.acts;for(e in b)b.hasOwnProperty(e)&&this.Qc.hasOwnProperty(e)&&
(this.Qc[e].R=b[e].ex);b=d.events.vars;for(e in b)b.hasOwnProperty(e)&&this.qd.hasOwnProperty(e)&&(this.qd[e].data=b[e]);this.Wd=a.next_uid;this.sb.Ec(d.system);b=0;for(f=this.f.length;b<f;b++)if(c=this.f[b],!c.A)for(e=0,d=c.c.length;e<d;e++){h=c.c[e];if(c.Ya)for(g=h.Dd(),a=h.siblings.length=0,k=c.ta.length;a<k;a++)m=c.ta[a],c!==m&&h.siblings.push(m.c[g]);h.Ib&&h.Ib();if(h.q)for(a=0,k=h.q.length;a<k;a++)g=h.q[a],g.Ib&&g.Ib()}this.P=!0}};c.prototype.wg=function(d,b){var f,e,c,k,l;k=d.type;c=k.ua;var h=
{};b?h.c2=!0:h.uid=d.uid;Aa(d.R)&&(h.ex=a(d.R));if(d.X&&d.X.length)for(h.ivs={},f=0,e=d.X.length;f<e;f++)h.ivs[d.type.Sf[f].toString()]=d.X[f];if(c.Vb){c={x:d.x,y:d.y,w:d.width,h:d.height,l:d.e.D,zi:d.Ga()};0!==d.j&&(c.a=d.j);1!==d.opacity&&(c.o=d.opacity);0.5!==d.Fd&&(c.hX=d.Fd);0.5!==d.Gd&&(c.hY=d.Gd);0!==d.qa&&(c.bm=d.qa);d.visible||(c.v=d.visible);d.te||(c.ce=d.te);-1!==d.Vd&&(c.mts=d.Vd);if(k.n.length)for(c.fx=[],f=0,e=k.n.length;f<e;f++)l=k.n[f],c.fx.push({name:l.name,active:d.Hb[l.index],params:d.N[l.index]});
h.w=c}if(d.q&&d.q.length)for(h.behs={},f=0,e=d.q.length;f<e;f++)k=d.q[f],k.Eb&&(h.behs[k.type.D.toString()]=k.Eb());d.Eb&&(h.data=d.Eb());return h};c.prototype.ok=function(a,b){var f,e;f=0;for(e=a.Sf.length;f<e;f++)if(a.Sf[f]===b)return f;return-1};c.prototype.jk=function(a,b){var f,e;f=0;for(e=a.q.length;f<e;f++)if(a.q[f].type.D===b)return f;return-1};c.prototype.Qe=function(a,b,f){var e,c,k,h,g;g=a.type;k=g.ua;if(f){if(!b.c2)return}else a.uid=b.uid;b.ex?a.R=b.ex:Ba(a.R);if(c=b.ivs)for(e in c)c.hasOwnProperty(e)&&
(f=this.ok(g,parseInt(e,10)),0>f||f>=a.X.length||(a.X[f]=c[e]));if(k.Vb){k=b.w;a.e.D!==k.l&&(f=a.e,a.e=this.M.Ge(k.l),a.e?(a.e.c.push(a),a.e.Ca=!0,P(f.c,a),f.Ca=!0):(a.e=f,this.Oc(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.Nc=k.zi;a.j=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.Fd=k.hasOwnProperty("hX")?k.hX:0.5;a.Gd=k.hasOwnProperty("hY")?k.hY:0.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.te=k.hasOwnProperty("ce")?k.ce:!0;a.Vd=k.hasOwnProperty("mts")?k.mts:-1;a.qa=k.hasOwnProperty("bm")?
k.bm:0;a.xd=Ga(a.qa);this.d&&Ha(a,a.qa,this.d);a.oa();if(k.hasOwnProperty("fx"))for(f=0,c=k.fx.length;f<c;f++)h=g.Nf(k.fx[f].name),0>h||(a.Hb[h]=k.fx[f].active,a.N[h]=k.fx[f].params);a.Gb()}if(g=b.behs)for(e in g)g.hasOwnProperty(e)&&(k=this.jk(a,parseInt(e,10)),0>k||a.q[k].Ec(g[e]));b.data&&a.Ec(b.data)};lb=function(a){return new c(document.getElementById(a))};mb=function(a,b){return new c({dc:!0,width:a,height:b})};window.cr_createRuntime=lb;window.cr_createDCRuntime=mb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.en=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(c,g){if(0!==c&&0!==g){var e=window.cr_getC2Runtime();e&&e.setSize(c,g)}};window.cr_setSuspended=function(c){var g=window.cr_getC2Runtime();g&&g.setSuspended(c)};
(function(){function c(b,a){this.b=b;this.xe=null;this.scrollX=this.b.da/2;this.scrollY=this.b.ca/2;this.scale=1;this.j=0;this.Bd=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.Xi=a[3];this.Ki=a[4];this.D=a[5];var f=a[6],e,c;this.B=[];this.Id=[];e=0;for(c=f.length;e<c;e++){var h=new nb(this,f[e]);h.ii=e;this.B.push(h)}f=a[7];this.xc=[];e=0;for(c=f.length;e<c;e++){var h=f[e],g=this.b.f[h[1]];g.hb||(g.hb=h);this.xc.push(h);-1===this.Id.indexOf(g)&&this.Id.push(g)}this.n=[];this.C=[];this.N=
[];e=0;for(c=a[8].length;e<c;e++)this.n.push({id:a[8][e][0],name:a[8][e][1],ia:-1,ub:!0,index:e}),this.N.push(a[8][e][2].slice(0));this.Gb();this.be=new M(0,0,1,1);this.qg=new M(0,0,1,1);this.Xb={}}function g(b,a){this.J=b;this.b=b.b;this.c=[];this.scale=1;this.j=0;this.oc=!1;this.Fb=new M(0,0,0,0);this.Ri=new oa;this.Ta=this.Wa=this.Va=this.Ua=0;this.Ca=!1;this.name=a[0];this.index=a[1];this.D=a[2];this.visible=a[3];this.Jb=a[4];this.Lc=a[5];this.gd=a[6];this.hd=a[7];this.opacity=a[8];this.Hf=a[9];
this.Lg=a[10];this.qa=a[11];this.Hj=a[12];this.xd="source-over";this.la=this.ma=0;this.Zb=!1;var f=a[13],e,c;this.Yc=[];e=0;for(c=f.length;e<c;e++){var h=f[e],g=this.b.f[h[1]];g.hb||(g.hb=h);this.Yc.push(h);-1===this.J.Id.indexOf(g)&&this.J.Id.push(g)}this.n=[];this.C=[];this.N=[];e=0;for(c=a[14].length;e<c;e++)this.n.push({id:a[14][e][0],name:a[14][e][1],ia:-1,ub:!0,index:e}),this.N.push(a[14][e][2].slice(0));this.Gb();this.be=new M(0,0,1,1);this.qg=new M(0,0,1,1)}function e(b,a){return b.Nc-a.Nc}
c.prototype.wl=function(b){var a=b.type.D.toString();this.Xb.hasOwnProperty(a)||(this.Xb[a]=[]);this.Xb[a].push(this.b.wg(b))};c.prototype.Ch=function(){var b=this.B[0];return!b.Lc&&1===b.opacity&&!b.Hf&&b.visible};c.prototype.Gb=function(){this.C.length=0;var b,a,f;b=0;for(a=this.n.length;b<a;b++)f=this.n[b],f.ub&&this.C.push(f)};c.prototype.Mf=function(b){var a,f,e;a=0;for(f=this.n.length;a<f;a++)if(e=this.n[a],e.name===b)return e;return null};var h=[];c.prototype.Ag=function(){this.Ki&&(this.xe=
this.b.Ef[this.Ki]);this.b.M=this;this.scrollX=this.b.da/2;this.scrollY=this.b.ca/2;var b,a,f,c,g,n,t;b=0;for(f=this.b.f.length;b<f;b++)if(a=this.b.f[b],!a.A)for(g=a.c,a=0,c=g.length;a<c;a++)if(n=g[a],n.e){var d=n.e.ii;d>=this.B.length&&(d=this.B.length-1);n.e=this.B[d];n.e.c.push(n);n.e.Ca=!0}h.length=0;this.pj();b=0;for(f=this.B.length;b<f;b++)n=this.B[b],n.vj(),n.oc=!0,a=n.Uc(!0),c=n.Uc(!1),n.oc=!1,this.b.Yd&&(a=a+0.5|0,c=c+0.5|0),n.sg(a,c,null);g=!1;if(!this.Bd){for(t in this.Xb)if(this.Xb.hasOwnProperty(t)&&
(a=this.b.He(parseInt(t,10)))&&!a.A&&this.b.Gg(a)){c=this.Xb[t];b=0;for(f=c.length;b<f;b++){n=null;if(a.ua.Vb&&(n=this.Ge(c[b].w.l),!n))continue;n=this.b.nc(a.hb,n,!1,0,0,!0);this.b.Qe(n,c[b]);g=!0;h.push(n)}c.length=0}b=0;for(f=this.B.length;b<f;b++)this.B[b].c.sort(e),this.B[b].Ca=!0}g&&(this.b.ka(),this.b.Bi());for(b=0;b<h.length;b++)if(n=h[b],n.type.Ya)for(f=n.Dd(),a=0,c=n.type.ta.length;a<c;a++)t=n.type.ta[a],n.type!==t&&(t.c.length>f?n.siblings.push(t.c[f]):t.hb&&(g=this.b.nc(t.hb,n.e,!0,n.x,
n.y,!0),this.b.ka(),t.kf(),n.siblings.push(g),h.push(g)));b=0;for(f=this.xc.length;b<f;b++)this.b.nc(this.xc[b],null,!0);this.b.xf=null;this.b.ka();if(this.b.F&&!this.b.nb)for(b=0,f=this.b.f.length;b<f;b++)t=this.b.f[b],!t.A&&t.c.length&&t.vi&&t.vi(this.b.F);b=0;for(f=h.length;b<f;b++)n=h[b],this.b.trigger(Object.getPrototypeOf(n.type.ua).aa.fj,n);h.length=0;this.b.trigger(Z.prototype.aa.ij,null);this.Bd=!1};c.prototype.uj=function(){var b,a,f,e,c;a=b=0;for(f=this.xc.length;b<f;b++)e=this.xc[b],c=
this.b.f[e[1]],c.global?this.b.nc(e,null,!0):(this.xc[a]=e,a++);this.xc.length=a};c.prototype.Bl=function(){this.b.trigger(Z.prototype.aa.hj,null);this.b.sb.Ba.length=0;var b,a,f,e,c,h;b=0;for(a=this.B.length;b<a;b++){c=this.B[b].c;f=0;for(e=c.length;f<e;f++)h=c[f],h.type.global||(this.b.Gg(h.type)&&this.wl(h),this.b.Oc(h));this.b.ka();c.length=0;this.B[b].Ca=!0}b=0;for(a=this.b.f.length;b<a;b++)if(c=this.b.f[b],!(c.global||c.ua.Vb||c.ua.zg||c.A)){f=0;for(e=c.c.length;f<e;f++)this.b.Oc(c.c[f]);this.b.ka()}};
c.prototype.pc=function(b){var a,f=b,e=!1,c=!this.b.Ja;c&&(this.b.Oe||(this.b.Oe=document.createElement("canvas"),a=this.b.Oe,a.width=this.b.u,a.height=this.b.r,this.b.Zh=a.getContext("2d"),e=!0),a=this.b.Oe,f=this.b.Zh,a.width!==this.b.u&&(a.width=this.b.u,e=!0),a.height!==this.b.r&&(a.height=this.b.r,e=!0),e&&(f.webkitImageSmoothingEnabled=this.b.G,f.mozImageSmoothingEnabled=this.b.G,f.msImageSmoothingEnabled=this.b.G,f.imageSmoothingEnabled=this.b.G));f.globalAlpha=1;f.globalCompositeOperation=
"source-over";this.b.rf&&!this.Ch()&&f.clearRect(0,0,this.b.u,this.b.r);var h,g,e=0;for(h=this.B.length;e<h;e++)g=this.B[e],g.visible&&0<g.opacity&&11!==g.qa&&g.pc(f);c&&b.drawImage(a,0,0,this.b.width,this.b.height)};c.prototype.ib=function(b){var a=0<this.C.length||this.b.pd||!this.b.Ja;if(a){this.b.ya||(this.b.ya=b.Qb(this.b.u,this.b.r,this.b.G));if(this.b.ya.vd!==this.b.u||this.b.ya.ud!==this.b.r)b.deleteTexture(this.b.ya),this.b.ya=b.Qb(this.b.u,this.b.r,this.b.G);b.qb(this.b.ya);this.b.Ja||b.md(this.b.u,
this.b.r)}else this.b.ya&&(b.qb(null),b.deleteTexture(this.b.ya),this.b.ya=null);this.b.rf&&!this.Ch()&&b.clear(0,0,0,0);var f,e;f=0;for(e=this.B.length;f<e;f++)this.B[f].visible&&0<this.B[f].opacity&&this.B[f].ib(b);a&&(0===this.C.length||1===this.C.length&&this.b.Ja?(1===this.C.length?(a=this.C[0].index,b.rb(this.C[0].ia),b.ld(null,1/this.b.u,1/this.b.r,0,0,1,1,this.scale,this.N[a]),b.We(this.C[0].ia)&&(this.b.P=!0)):b.rb(0),this.b.Ja||b.md(this.b.width,this.b.height),b.qb(null),b.ee(1),b.Pa(this.b.ya),
b.Ii(),b.$b(),b.kc(),a=this.b.width/2,f=this.b.height/2,b.Ai(-a,f,a,f,a,-f,-a,-f),b.Pa(null)):this.rg(b,null,null,null))};c.prototype.Cd=function(){return 0<this.C.length||this.b.pd||!this.b.Ja?this.b.ya:null};c.prototype.zh=function(){var b=this.B[0].Ka(),a,f,e;a=1;for(f=this.B.length;a<f;a++)e=this.B[a],(0!==e.gd||0!==e.hd)&&e.Ka()<b&&(b=e.Ka());return b};c.prototype.Gi=function(b){if(!this.Xi){var a=this.b.u*(1/this.zh())/2;b>this.width-a&&(b=this.width-a);b<a&&(b=a)}this.scrollX!==b&&(this.scrollX=
b,this.b.P=!0)};c.prototype.Hi=function(b){if(!this.Xi){var a=this.b.r*(1/this.zh())/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.P=!0)};c.prototype.pj=function(){this.Gi(this.scrollX);this.Hi(this.scrollY)};c.prototype.rg=function(b,a,f,e){var c=f?f.C:a?a.C:this.C,h=f?f.e.Ka():a?a.Ka():1,g=this.b.Kf,d,q,r,s,u=0,k=1,l,y=this.b.u,z=this.b.r,ia=y/2,ja=z/2,E=a?a.be:this.be,B=a?a.qg:this.qg,p=0,w=0,x=0,D=0,C=y,W=y,A=z,X=z,O=r=0,ba=f?f.e.uc():0;if(f){d=0;for(q=
c.length;d<q;d++)r+=b.tk(c[d].ia),O+=b.uk(c[d].ia);s=f.va;p=a.La(s.left,s.top,!0);x=a.La(s.left,s.top,!1);C=a.La(s.right,s.bottom,!0);A=a.La(s.right,s.bottom,!1);0!==ba&&(d=a.La(s.right,s.top,!0),q=a.La(s.right,s.top,!1),w=a.La(s.left,s.bottom,!0),D=a.La(s.left,s.bottom,!1),s=Math.min(p,C,d,w),C=Math.max(p,C,d,w),p=s,s=Math.min(x,A,q,D),A=Math.max(x,A,q,D),x=s);p-=r;x-=O;C+=r;A+=O;B.left=p/y;B.top=1-x/z;B.right=C/y;B.bottom=1-A/z;w=p=L(p);D=x=L(x);W=C=ma(C);X=A=ma(A);w-=r;D-=O;W+=r;X+=O;0>p&&(p=0);
0>x&&(x=0);C>y&&(C=y);A>z&&(A=z);0>w&&(w=0);0>D&&(D=0);W>y&&(W=y);X>z&&(X=z);E.left=p/y;E.top=1-x/z;E.right=C/y;E.bottom=1-A/z}else E.left=B.left=0,E.top=B.top=0,E.right=B.right=1,E.bottom=B.bottom=1;O=f&&((f.j||ba)&&b.Zd(c[0].ia)||0!==r||0!==O||1!==f.opacity||f.type.ua.fi)||a&&!f&&1!==a.opacity;b.Ii();if(O){g[u]||(g[u]=b.Qb(y,z,this.b.G));if(g[u].vd!==y||g[u].ud!==z)b.deleteTexture(g[u]),g[u]=b.Qb(y,z,this.b.G);b.rb(0);b.qb(g[u]);l=X-D;b.clearRect(w,z-D-l,W-w,l);f?f.ib(b):(b.Pa(this.b.Ha),b.ee(a.opacity),
b.$b(),b.translate(-ia,-ja),b.kc(),b.Kc(p,A,C,A,C,x,p,x,E));B.left=B.top=0;B.right=B.bottom=1;f&&(s=E.top,E.top=E.bottom,E.bottom=s);u=1;k=0}b.ee(1);r=c.length-1;var ba=b.mg(c[r].ia)||!a&&!f&&!this.b.Ja,ca=0;d=0;for(q=c.length;d<q;d++){g[u]||(g[u]=b.Qb(y,z,this.b.G));if(g[u].vd!==y||g[u].ud!==z)b.deleteTexture(g[u]),g[u]=b.Qb(y,z,this.b.G);b.rb(c[d].ia);ca=c[d].index;b.We(c[d].ia)&&(this.b.P=!0);0!=d||O?(b.ld(e,1/y,1/z,B.left,B.top,B.right,B.bottom,h,f?f.N[ca]:a?a.N[ca]:this.N[ca]),b.Pa(null),d!==
r||ba?(b.qb(g[u]),l=X-D,s=z-D-l,b.clearRect(w,s,W-w,l)):(f?b.ac(f.ma,f.la):a&&b.ac(a.ma,a.la),b.qb(e)),b.Pa(g[k]),b.$b(),b.translate(-ia,-ja),b.kc(),b.Kc(p,A,C,A,C,x,p,x,E),d!==r||ba||b.Pa(null)):(b.qb(g[u]),l=X-D,s=z-D-l,b.clearRect(w,s,W-w,l),f?(b.ld(e,1/f.width,1/f.height,B.left,B.top,B.right,B.bottom,h,f.N[ca]),f.ib(b)):(b.ld(e,1/y,1/z,0,0,1,1,h,a?a.N[ca]:this.N[ca]),b.Pa(a?this.b.Ha:this.b.ya),b.$b(),b.translate(-ia,-ja),b.kc(),b.Kc(p,A,C,A,C,x,p,x,E)),B.left=B.top=0,B.right=B.bottom=1,f&&!ba&&
(s=A,A=x,x=s));u=0===u?1:0;k=0===u?1:0}ba&&(b.rb(0),f?b.ac(f.ma,f.la):a?b.ac(a.ma,a.la):this.b.Ja||(b.md(this.b.width,this.b.height),ia=this.b.width/2,ja=this.b.height/2,x=p=0,C=this.b.width,A=this.b.height),b.qb(e),b.Pa(g[k]),b.$b(),b.translate(-ia,-ja),b.kc(),f&&1===c.length&&!O?b.Kc(p,x,C,x,C,A,p,A,E):b.Kc(p,A,C,A,C,x,p,x,E),b.Pa(null))};c.prototype.Ge=function(b){var a,f;a=0;for(f=this.B.length;a<f;a++)if(this.B[a].D===b)return this.B[a];return null};c.prototype.Eb=function(){var b,a,f,e={sx:this.scrollX,
sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.Bd,persist:this.Xb,fx:[],layers:{}};b=0;for(a=this.n.length;b<a;b++)f=this.n[b],e.fx.push({name:f.name,active:f.ub,params:this.N[f.index]});b=0;for(a=this.B.length;b<a;b++)f=this.B[b],e.layers[f.D.toString()]=f.Eb();return e};c.prototype.Ec=function(b){var a,f,e,c;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.j=b.a;this.width=b.w;this.height=b.h;this.Xb=b.persist;"undefined"!==typeof b.fv&&(this.Bd=b.fv);var h=b.fx;
a=0;for(f=h.length;a<f;a++)if(e=this.Mf(h[a].name))e.ub=h[a].active,this.N[e.index]=h[a].params;this.Gb();a=b.layers;for(c in a)a.hasOwnProperty(c)&&(b=this.Ge(parseInt(c,10)))&&b.Ec(a[c])};bb=c;g.prototype.Gb=function(){this.C.length=0;var b,a,f;b=0;for(a=this.n.length;b<a;b++)f=this.n[b],f.ub&&this.C.push(f)};g.prototype.Mf=function(b){var a,f,e;a=0;for(f=this.n.length;a<f;a++)if(e=this.n[a],e.name===b)return e;return null};g.prototype.vj=function(){var b,a,f,e,c,g;a=b=0;for(f=this.Yc.length;b<
f;b++){e=this.Yc[b];c=this.b.f[e[1]];g=this.b.Gg(c);c=!0;if(!g||this.J.Bd)e=this.b.nc(e,this,!0),h.push(e),e.type.global&&(c=!1);c&&(this.Yc[a]=this.Yc[b],a++)}this.Yc.length=a;this.b.ka();!this.b.k&&this.n.length&&(this.qa=this.Hj);this.xd=Ga(this.qa);this.b.d&&Ha(this,this.qa,this.b.d)};g.prototype.Gl=function(){if(this.Ca){var b,a;b=0;for(a=this.c.length;b<a;b++)this.c[b].Nc=b;this.Ca=!1}};g.prototype.Ka=function(b){return this.rk()*(this.b.Ja||b?this.b.td:1)};g.prototype.rk=function(){return(this.scale*
this.J.scale-1)*this.Lg+1};g.prototype.uc=function(){return this.oc?0:R(this.J.j+this.j)};g.prototype.pc=function(b){this.Zb=this.Hf||1!==this.opacity||0!==this.qa;var a=this.b.canvas,f=b,e=!1;b.globalAlpha=1;b.globalCompositeOperation="source-over";this.Zb&&(this.b.Ne||(this.b.Ne=document.createElement("canvas"),a=this.b.Ne,a.width=this.b.u,a.height=this.b.r,this.b.Yh=a.getContext("2d"),e=!0),a=this.b.Ne,f=this.b.Yh,a.width!==this.b.u&&(a.width=this.b.u,e=!0),a.height!==this.b.r&&(a.height=this.b.r,
e=!0),e&&(f.webkitImageSmoothingEnabled=this.b.G,f.mozImageSmoothingEnabled=this.b.G,f.msImageSmoothingEnabled=this.b.G,f.imageSmoothingEnabled=this.b.G),this.Lc&&f.clearRect(0,0,this.b.u,this.b.r));this.Lc||(f.fillStyle="rgb("+this.Jb[0]+","+this.Jb[1]+","+this.Jb[2]+")",f.fillRect(0,0,this.b.u,this.b.r));f.save();this.oc=!0;var e=this.Uc(!0),c=this.Uc(!1);this.oc=!1;this.b.Yd&&(e=e+0.5|0,c=c+0.5|0);this.sg(e,c,f);var h=this.Ka();f.scale(h,h);f.translate(-e,-c);for(var g,e=0,c=this.c.length;e<c;e++)h=
this.c[e],h.visible&&0!==h.width&&0!==h.height&&(h.eb(),g=h.va,g.right<this.Ua||g.bottom<this.Wa||g.left>this.Va||g.top>this.Ta||(f.globalCompositeOperation=h.xd,h.pc(f)));f.restore();this.Zb&&(b.globalCompositeOperation=this.xd,b.globalAlpha=this.opacity,b.drawImage(a,0,0))};g.prototype.sg=function(b,a,f){var e=this.Ka();this.Ua=b;this.Wa=a;this.Va=b+this.b.u*(1/e);this.Ta=a+this.b.r*(1/e);b=this.uc();0!==b&&(f&&(f.translate(this.b.u/2,this.b.r/2),f.rotate(-b),f.translate(this.b.u/-2,this.b.r/-2)),
this.Fb.set(this.Ua,this.Wa,this.Va,this.Ta),this.Fb.offset((this.Ua+this.Va)/-2,(this.Wa+this.Ta)/-2),this.Ri.Ji(this.Fb,b),this.Ri.Zg(this.Fb),this.Fb.offset((this.Ua+this.Va)/2,(this.Wa+this.Ta)/2),this.Ua=this.Fb.left,this.Wa=this.Fb.top,this.Va=this.Fb.right,this.Ta=this.Fb.bottom)};g.prototype.ib=function(b){var a=this.b.u,f=this.b.r,e=0,c=0;if(this.Zb=this.Hf||1!==this.opacity||0<this.C.length||0!==this.qa){this.b.Ha||(this.b.Ha=b.Qb(this.b.u,this.b.r,this.b.G));if(this.b.Ha.vd!==this.b.u||
this.b.Ha.ud!==this.b.r)b.deleteTexture(this.b.Ha),this.b.Ha=b.Qb(this.b.u,this.b.r,this.b.G);b.qb(this.b.Ha);this.Lc&&b.clear(0,0,0,0)}this.Lc||b.clear(this.Jb[0]/255,this.Jb[1]/255,this.Jb[2]/255,1);this.oc=!0;var c=this.Uc(!0),h=this.Uc(!1);this.oc=!1;this.b.Yd&&(c=c+0.5|0,h=h+0.5|0);this.sg(c,h,null);h=this.Ka();b.$b();b.scale(h,h);b.Di(-this.uc());b.translate((this.Ua+this.Va)/-2,(this.Wa+this.Ta)/-2);b.kc();var g,d,q;g=0;for(d=this.c.length;g<d;g++)if(q=this.c[g],q.visible&&0!==q.width&&0!==
q.height&&(q.eb(),e=q.va,!(e.right<this.Ua||e.bottom<this.Wa||e.left>this.Va||e.top>this.Ta)))if(q.$i)if(e=q.C[0].ia,c=q.C[0].index,1!==q.C.length||b.mg(e)||b.ml(e)||(q.j||q.e.uc())&&b.Zd(e)||1!==q.opacity||q.type.ua.fi)this.J.rg(b,this,q,this.Zb?this.b.Ha:this.J.Cd()),b.$b(),b.scale(h,h),b.Di(-this.uc()),b.translate((this.Ua+this.Va)/-2,(this.Wa+this.Ta)/-2),b.kc();else{b.rb(e);b.ac(q.ma,q.la);b.We(e)&&(this.b.P=!0);var r=0,s=0,u=0,k=0;b.Zd(e)&&(e=q.va,r=this.La(e.left,e.top,!0),s=this.La(e.left,
e.top,!1),u=this.La(e.right,e.bottom,!0),e=this.La(e.right,e.bottom,!1),r/=a,s=1-s/f,u/=a,k=1-e/f);b.ld(this.Zb?this.b.Ha:this.J.Cd(),1/q.width,1/q.height,r,s,u,k,this.Ka(),q.N[c]);q.ib(b)}else b.rb(0),b.ac(q.ma,q.la),q.ib(b);this.Zb&&(e=this.C.length?this.C[0].ia:0,c=this.C.length?this.C[0].index:0,0===this.C.length||1===this.C.length&&!b.mg(e)&&1===this.opacity?(1===this.C.length?(b.rb(e),b.ld(this.J.Cd(),1/this.b.u,1/this.b.r,0,0,1,1,this.Ka(),this.N[c]),b.We(e)&&(this.b.P=!0)):b.rb(0),b.qb(this.J.Cd()),
b.ee(this.opacity),b.Pa(this.b.Ha),b.ac(this.ma,this.la),b.$b(),b.kc(),a=this.b.u/2,f=this.b.r/2,b.Ai(-a,f,a,f,a,-f,-a,-f),b.Pa(null)):this.J.rg(b,this,null,this.J.Cd()))};g.prototype.Uc=function(b){var a=0,f=0,e=this.b.devicePixelRatio;this.b.Ac&&(a*=e,f*=e);var e=this.b.qi,c=this.b.ri,e=(this.J.scrollX-e)*this.gd+e,c=(this.J.scrollY-c)*this.hd+c,h=1/this.Ka(!1),e=e-this.b.u*h/2,c=c-this.b.r*h/2,e=e+a*h,c=c+f*h,f=this.uc();0!==f&&(e-=this.J.scrollX,c-=this.J.scrollY,a=Math.cos(f),f=Math.sin(f),h=
e*a-c*f,c=c*a+e*f,e=h+this.J.scrollX,c+=this.J.scrollY);return b?e:c};g.prototype.La=function(b,a,e){var c=this.uc();if(0!==c){b-=this.J.scrollX;a-=this.J.scrollY;var h=Math.cos(-c),c=Math.sin(-c),g=b*h-a*c;a=a*h+b*c;b=g+this.J.scrollX;a+=this.J.scrollY}h=this.b.qi;c=this.b.ri;h=(this.J.scrollX-h)*this.gd+h;c=(this.J.scrollY-c)*this.hd+c;g=1/this.Ka(!1);h-=this.b.u*g/2;c-=this.b.r*g/2;h=(b-h)/g;c=(a-c)/g;b=this.b.devicePixelRatio;this.b.Ac&&(h/=b,c/=b);return e?h:c};g.prototype.Eb=function(){var b,
a,e,c={s:this.scale,a:this.j,vl:this.Ua,vt:this.Wa,vr:this.Va,vb:this.Ta,v:this.visible,bc:this.Jb,t:this.Lc,px:this.gd,py:this.hd,o:this.opacity,zr:this.Lg,fx:[],instances:[]};b=0;for(a=this.n.length;b<a;b++)e=this.n[b],c.fx.push({name:e.name,active:e.ub,params:this.N[e.index]});return c};g.prototype.Ec=function(b){var a,f;this.scale=b.s;this.j=b.a;this.Ua=b.vl;this.Wa=b.vt;this.Va=b.vr;this.Ta=b.vb;this.visible=b.v;this.Jb=b.bc;this.Lc=b.t;this.gd=b.px;this.hd=b.py;this.opacity=b.o;this.Lg=b.zr;
var c=b.fx;b=0;for(a=c.length;b<a;b++)if(f=this.Mf(c[b].name))f.ub=c[b].active,this.N[f.index]=c[b].params;this.Gb();this.c.sort(e);this.Ca=!0};nb=g})();
(function(){function c(a,d){var b,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===d[0];case 2:return a[0]===d[0]&&a[1]===d[1];default:for(b=0;b<e;b++)if(a[b]!==d[b])return!1;return!0}}function g(a,d){return a.index-d.index}function e(a){var d,b,e,f;2===a.length?a[0].index>a[1].index&&(d=a[0],a[0]=a[1],a[1]=d):2<a.length&&a.sort(g);a.length>=r.length&&(r.length=a.length+1);r[a.length]||(r[a.length]=[]);f=r[a.length];d=0;for(b=f.length;d<b;d++)if(e=f[d],c(a,e))return e;f.push(a);return a}
function h(a,d){this.b=a;this.Ti={};this.ph={};this.Pf=!1;this.Fh=new H;this.name=d[0];var b=d[1];this.Sb=[];var e,f;e=0;for(f=b.length;e<f;e++)this.Hh(b[e],null,this.Sb)}function b(a){this.type=a;this.c=[];this.I=[];this.fa=!0}function a(a,d,b){this.sheet=a;this.parent=d;this.b=a.b;this.T=[];this.cc=[];this.Dh=this.hf=this.Dg=this.Rf=this.group=this.Mi=!1;this.Q=[];this.Xa=[];this.Sa=[];b[1]?(this.Ed=b[1][1].toLowerCase(),this.group=!0,this.Rf=!!b[1][0],this.b.Rc.push(this),this.b.oe[this.Ed.toLowerCase()]=
this.Rf):(this.Ed="",this.Rf=this.group=!1);this.Db=b[2];this.D=b[4];this.group||(this.b.Yg[this.D.toString()]=this);var e=b[5];a=0;for(d=e.length;a<d;a++){var f=new ob(this,e[a]);f.index=a;this.Q.push(f);this.Pg(f.type)}e=b[6];a=0;for(d=e.length;a<d;a++)f=new pb(this,e[a]),f.index=a,this.Xa.push(f);if(8===b.length)for(b=b[7],a=0,d=b.length;a<d;a++)this.sheet.Hh(b[a],this,this.Sa);this.Je=!1;this.Q.length&&(this.Je=null==this.Q[0].type&&this.Q[0].V==Z.prototype.aa.cj)}function f(a,d){var b,e,f;if(a&&
(-1===d.indexOf(a)&&d.push(a),a.Ya))for(b=0,e=a.ta.length;b<e;b++)f=a.ta[b],a!==f&&-1===d.indexOf(f)&&d.push(f)}function m(a,d){this.Da=a;this.sheet=a.sheet;this.b=a.b;this.g=[];this.p=[];this.R={};this.index=-1;this.V=d[1];this.trigger=0<d[3];this.oh=2===d[3];this.Jd=d[5];this.al=d[6];this.D=d[7];this.b.Vc[this.D.toString()]=this;-1===d[0]?(this.type=null,this.Z=this.vg,this.lc=null,this.ga=-1):(this.type=this.b.f[d[0]],this.Z=this.al?this.tl:this.ug,d[2]?(this.lc=this.type.Fe(d[2]),this.ga=this.type.Lf(d[2])):
(this.lc=null,this.ga=-1),this.Da.parent&&this.Da.parent.Ze());this.oh&&(this.Z=this.ul);if(10===d.length){var b,e,f=d[9];b=0;for(e=f.length;b<e;b++){var c=new qb(this,f[b]);this.g.push(c)}this.p.length=f.length}}function v(a,d){this.Da=a;this.sheet=a.sheet;this.b=a.b;this.g=[];this.p=[];this.R={};this.index=-1;this.V=d[1];-1===d[0]?(this.type=null,this.Z=this.vg,this.lc=null,this.ga=-1):(this.type=this.b.f[d[0]],this.Z=this.ug,d[2]?(this.lc=this.type.Fe(d[2]),this.ga=this.type.Lf(d[2])):(this.lc=
null,this.ga=-1));this.D=d[3];this.b.Qc[this.D.toString()]=this;if(6===d.length){var b,e,f=d[5];b=0;for(e=f.length;b<e;b++){var c=new qb(this,f[b]);this.g.push(c)}this.p.length=f.length}}function n(a,d){this.i=a;this.Da=a.Da;this.sheet=a.sheet;this.b=a.b;this.type=d[0];this.jb=null;this.fh=this.ec=0;this.J=null;this.key=0;this.object=null;this.index=0;this.mf=this.od=this.qh=this.sc=this.le=null;var b,e,f;switch(d[0]){case 0:case 7:this.jb=new U(this,d[1]);this.ec=0;this.get=this.Ak;break;case 1:this.jb=
new U(this,d[1]);this.ec=0;this.get=this.Bk;break;case 5:this.jb=new U(this,d[1]);this.ec=0;this.get=this.Fk;break;case 3:case 8:this.fh=d[1];this.get=this.yk;break;case 6:this.J=this.b.$f[d[1]];this.get=this.Gk;break;case 9:this.key=d[1];this.get=this.Ek;break;case 4:this.object=this.b.f[d[1]];this.get=this.Hk;this.Da.Pg(this.object);this.i instanceof pb?this.Da.Ze():this.Da.parent&&this.Da.parent.Ze();break;case 10:this.index=d[1];this.get=a.type.A?this.Ck:this.Dk;break;case 11:this.le=d[1];this.sc=
null;this.get=this.zk;break;case 2:case 12:this.qh=d[1];this.get=this.xk;break;case 13:for(this.get=this.Ik,this.od=[],this.mf=[],b=1,e=d.length;b<e;b++)f=new qb(this.i,d[b]),this.od.push(f),this.mf.push(0)}}function t(a,d,b){this.sheet=a;this.parent=d;this.b=a.b;this.T=[];this.name=b[1];this.Qf=b[3];this.Md=!!b[4];this.Ie=!!b[5];this.D=b[6];this.b.qd[this.D.toString()]=this;this.data=this.Qf;this.parent?(this.Hc=this.Md||this.Ie?-1:this.b.Al++,this.b.mj.push(this)):(this.Hc=-1,this.b.lj.push(this))}
function d(a,d,b){this.sheet=a;this.parent=d;this.b=a.b;this.T=[];this.Hd=null;this.Nk=b[1]}function q(){this.Ni=[];this.reset(null)}var r=[];h.prototype.toString=F("name");h.prototype.Hh=function(a,d,b){switch(a[0]){case 0:a=new rb(this,d,a);if(a.Db)for(b.push(a),b=0,d=a.Q.length;b<d;b++)a.Q[b].trigger&&this.Ih(a,b);else a.Ph()?this.Ih(a,0):b.push(a);break;case 1:a=new kb(this,d,a);b.push(a);break;case 2:a=new sb(this,d,a),b.push(a)}};h.prototype.S=function(){var a,d;a=0;for(d=this.Sb.length;a<d;a++)this.Sb[a].S(a<
d-1&&this.Sb[a+1].Je)};h.prototype.Z=function(a){this.b.dn||(this.Pf=!0,a||(this.b.Xf=!0));var d,b;d=0;for(b=this.Sb.length;d<b;d++){var e=this.Sb[d];e.Z();this.b.yf(e.T);this.b.gb.Tb()&&!this.b.wa.length||this.b.ka()}a||(this.b.Xf=!1)};h.prototype.Ih=function(a,d){a.Db||this.b.jf.push(a);var b,e,f=a.Q[d],c;c=f.type?f.type.name:"system";var h=(b=f.oh)?this.ph:this.Ti;h[c]||(h[c]=[]);c=h[c];h=f.V;if(b){if(f.g.length&&(f=f.g[0],1===f.type&&2===f.jb.type)){f=f.jb.value.toLowerCase();b=0;for(e=c.length;b<
e;b++)if(c[b].method==h){b=c[b].ze;b[f]?b[f].push([a,d]):b[f]=[[a,d]];return}b={};b[f]=[[a,d]];c.push({method:h,ze:b})}}else{b=0;for(e=c.length;b<e;b++)if(c[b].method==h){c[b].ze.push([a,d]);return}c.push({method:h,ze:[[a,d]]})}};cb=h;b.prototype.Bh=function(){return this.fa?this.type.c.length:this.c.length};b.prototype.lb=function(){return this.fa?this.type.c:this.c};b.prototype.Xd=function(a){a&&(a.b.Fa().fb.Db?(this.fa&&(this.c.length=0,qa(this.I,a.type.c),this.fa=!1),a=this.I.indexOf(a),-1!==
a&&(this.c.push(this.I[a]),this.I.splice(a,1))):(this.fa=!1,this.c.length=1,this.c[0]=a))};Ma=b;window._c2hh_="F32A8700DD44E7D50C81D58E06E5B697E7851981";a.prototype.S=function(a){var d,b=this.parent;if(this.group)for(this.hf=!0;b;){if(!b.group){this.hf=!1;break}b=b.parent}this.Dg=!this.Ph()&&(!this.parent||this.parent.group&&this.parent.hf);this.Dh=!!a;this.cc=this.T.slice(0);for(b=this.parent;b;){a=0;for(d=b.T.length;a<d;a++)this.kj(b.T[a]);b=b.parent}this.T=e(this.T);this.cc=e(this.cc);a=0;for(d=
this.Q.length;a<d;a++)this.Q[a].S();a=0;for(d=this.Xa.length;a<d;a++)this.Xa[a].S();a=0;for(d=this.Sa.length;a<d;a++)this.Sa[a].S(a<d-1&&this.Sa[a+1].Je)};a.prototype.Pg=function(a){f(a,this.T)};a.prototype.kj=function(a){f(a,this.cc)};a.prototype.Ze=function(){this.Mi=!0;this.parent&&this.parent.Ze()};a.prototype.Ph=function(){return this.Q.length?this.Q[0].trigger:!1};a.prototype.Z=function(){var a,d=!1,b,e=this.b.Fa();e.fb=this;this.Je||(e.Cf=!1);if(this.Db){0===this.Q.length&&(d=!0);e.ra=0;for(a=
this.Q.length;e.ra<a;e.ra++)this.Q[e.ra].trigger||(b=this.Q[e.ra].Z())&&(d=!0);(e.Dc=d)&&this.tg()}else{e.ra=0;for(a=this.Q.length;e.ra<a;e.ra++)if(b=this.Q[e.ra].Z(),!b){e.Dc=!1;!this.Dg||this.b.gb.Tb()&&!this.b.wa.length||this.b.ka();return}e.Dc=!0;this.tg()}this.Jj(e)};a.prototype.Jj=function(a){a.Dc&&this.Dh&&(a.Cf=!0);!this.Dg||this.b.gb.Tb()&&!this.b.wa.length||this.b.ka()};a.prototype.rl=function(a){this.b.Fa().fb=this;this.Q[a].Z()&&(this.tg(),this.b.Fa().Dc=!0)};a.prototype.tg=function(){var a=
this.b.Fa(),d;a.Ia=0;for(d=this.Xa.length;a.Ia<d;a.Ia++)if(this.Xa[a.Ia].Z())return;this.Ei()};a.prototype.pl=function(){var a=this.b.Fa(),d;for(d=this.Xa.length;a.Ia<d;a.Ia++)if(this.Xa[a.Ia].Z())return;this.Ei()};a.prototype.Ei=function(){if(this.Sa.length){var a,d,b,e,f=this.Sa.length-1;this.b.og(this);if(this.Mi)for(a=0,d=this.Sa.length;a<d;a++)b=this.Sa[a],(e=!this.hf||!this.group&&a<f)&&this.b.ng(b.T),b.Z(),e?this.b.jd(b.T):this.b.yf(b.T);else for(a=0,d=this.Sa.length;a<d;a++)this.Sa[a].Z();
this.b.si()}};a.prototype.sl=function(){var a=this.b.Fa();a.fb=this;var d=!1,b;a.ra=0;for(b=this.Q.length;a.ra<b;a.ra++)if(this.Q[a.ra].Z())d=!0;else if(!this.Db)return!1;return this.Db?d:!0};a.prototype.Xk=function(a){var d=a.index;if(0===d)return!0;for(--d;0<=d;--d)if(this.Q[d].type===a.type)return!1;return!0};rb=a;m.prototype.S=function(){var a,d;a=0;for(d=this.g.length;a<d;a++)this.g[a].S()};m.prototype.ul=G(!0);m.prototype.vg=function(){var a,d;a=0;for(d=this.g.length;a<d;a++)this.p[a]=this.g[a].get();
return za(this.V.apply(this.b.sb,this.p),this.Jd)};m.prototype.tl=function(){var a,d;a=0;for(d=this.g.length;a<d;a++)this.p[a]=this.g[a].get(a);a=this.V.apply(this.lc?this.lc:this.type,this.p);this.type.Sc();return a};m.prototype.ug=function(){var a,d,b,e,f,c,h,g=this.type.O(),q=this.Da.Db&&!this.trigger,r=0,m=this.type.Ya;if(g.fa){g.c.length=0;a=g.I.length=0;for(b=this.type.c.length;a<b;a++){c=this.type.c[a];d=0;for(e=this.g.length;d<e;d++)this.p[d]=this.g[d].get(a);-1<this.ga?(this.type.A&&(r=c.type.Xc[this.type.kb]),
d=this.V.apply(c.q[this.ga+r],this.p)):d=this.V.apply(c,this.p);(f=za(d,this.Jd))?g.c.push(c):q&&g.I.push(c)}this.type.finish&&this.type.finish(!0);g.fa=!1;this.type.Sc();return g.Bh()}var s=0,u=(f=q&&!this.Da.Xk(this))?g.I:g.c,n=!1;a=0;for(b=u.length;a<b;a++){c=u[a];d=0;for(e=this.g.length;d<e;d++)this.p[d]=this.g[d].get(a);-1<this.ga?(this.type.A&&(r=c.type.Xc[this.type.kb]),d=this.V.apply(c.q[this.ga+r],this.p)):d=this.V.apply(c,this.p);if(za(d,this.Jd))if(n=!0,f){if(g.c.push(c),m)for(d=0,e=c.siblings.length;d<
e;d++)h=c.siblings[d],h.type.O().c.push(h)}else{u[s]=c;if(m)for(d=0,e=c.siblings.length;d<e;d++)h=c.siblings[d],h.type.O().c[s]=h;s++}else if(f){u[s]=c;if(m)for(d=0,e=c.siblings.length;d<e;d++)h=c.siblings[d],h.type.O().I[s]=h;s++}else if(q&&(g.I.push(c),m))for(d=0,e=c.siblings.length;d<e;d++)h=c.siblings[d],h.type.O().I.push(h)}u.length=s;if(m)for(a=0,b=this.type.ta.length;a<b;a++)c=this.type.ta[a].O(),f?c.I.length=s:c.c.length=s;r=n;if(f&&!n)for(a=0,b=g.c.length;a<b;a++){c=g.c[a];d=0;for(e=this.g.length;d<
e;d++)this.p[d]=this.g[d].get(a);d=-1<this.ga?this.V.apply(c.q[this.ga],this.p):this.V.apply(c,this.p);if(za(d,this.Jd)){n=!0;break}}this.type.finish&&this.type.finish(r||q);return q?n:g.Bh()};ob=m;v.prototype.S=function(){var a,d;a=0;for(d=this.g.length;a<d;a++)this.g[a].S()};v.prototype.vg=function(){var a,d;a=0;for(d=this.g.length;a<d;a++)this.p[a]=this.g[a].get();return this.V.apply(this.b.sb,this.p)};v.prototype.ug=function(){var a=this.type.O().lb(),d,b,e,f,c;d=0;for(e=a.length;d<e;d++){c=a[d];
b=0;for(f=this.g.length;b<f;b++)this.p[b]=this.g[b].get(d);-1<this.ga?(b=0,this.type.A&&(b=c.type.Xc[this.type.kb]),this.V.apply(c.q[this.ga+b],this.p)):this.V.apply(c,this.p)}return!1};pb=v;var s=[],u=-1;n.prototype.S=function(){var a,d;if(11===this.type)this.sc=this.b.vh(this.le,this.Da.parent);else if(13===this.type)for(a=0,d=this.od.length;a<d;a++)this.od[a].S();this.jb&&this.jb.S()};n.prototype.Y=function(){u++;s.length===u&&s.push(new tb);return s[u]};n.prototype.W=function(){u--};n.prototype.Ak=
function(a){this.ec=a||0;a=this.Y();this.jb.get(a);this.W();return a.data};n.prototype.Bk=function(a){this.ec=a||0;a=this.Y();this.jb.get(a);this.W();return K(a.data)?a.data:""};n.prototype.Hk=F("object");n.prototype.yk=F("fh");n.prototype.Fk=function(a){this.ec=a||0;a=this.Y();this.jb.get(a);this.W();return a.ba()?this.b.qk(a.data):this.b.pk(a.data)};n.prototype.Gk=F("J");n.prototype.Ek=F("key");n.prototype.Dk=F("index");n.prototype.Ck=function(a){var d=this.i.type,b=null,b=d.O(),e=b.lb(),b=e.length?
e[a%e.length].type:b.I[a%b.I.length].type;return this.index+b.Ce[d.kb]};n.prototype.zk=F("sc");n.prototype.xk=F("qh");n.prototype.Ik=function(){var a,d;a=0;for(d=this.od.length;a<d;a++)this.mf[a]=this.od[a].get();return this.mf};qb=n;t.prototype.S=function(){this.T=e(this.T)};t.prototype.yl=function(a){var d=this.b.uh();this.parent&&!this.Md&&d?(this.Hc>=d.length&&(d.length=this.Hc+1),d[this.Hc]=a):this.data=a};t.prototype.wk=function(){var a=this.b.uh();return!this.parent||this.Md||!a||this.Ie?this.data:
this.Hc>=a.length||"undefined"===typeof a[this.Hc]?this.Qf:a[this.Hc]};t.prototype.Z=function(){!this.parent||this.Md||this.Ie||this.yl(this.Qf)};kb=t;d.prototype.toString=function(){return"include:"+this.Hd.toString()};d.prototype.S=function(){this.Hd=this.b.Ef[this.Nk];this.sheet.Fh.add(this);this.T=e(this.T)};d.prototype.Z=function(){this.parent&&this.b.ae(this.b.f);this.Hd.Pf||this.Hd.Z(!0);this.parent&&this.b.jd(this.b.f)};d.prototype.Qk=function(){for(var a=this.parent;a;){if(a.group&&!this.b.oe[a.Ed.toLowerCase()])return!1;
a=a.parent}return!0};sb=d;q.prototype.reset=function(a){this.fb=a;this.Ia=this.ra=0;this.Ni.length=0;this.Cf=this.Dc=!1};jb=q})();
(function(){function c(e,c){this.i=e;this.b=e.b;this.type=c[0];this.get=[this.Vj,this.Rj,this.ck,this.fk,this.Lj,this.dk,this.Zj,this.Oj,this.Yj,this.bk,this.Mj,this.ak,this.Pj,this.$j,this.Wj,this.Xj,this.Sj,this.Tj,this.Nj,this.ek,this.mh,this.Uj,this.mh,this.Qj][this.type];var b=null;this.za=this.g=this.p=this.V=this.ef=this.ea=this.first=this.value=null;this.ga=-1;this.zb=null;this.Ig=-1;this.sc=this.le=null;this.de=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new U(e,c[1]);break;case 18:this.first=new U(e,c[1]);this.ea=new U(e,c[2]);this.ef=new U(e,c[3]);break;case 19:this.V=c[1];this.p=[];this.g=[];3===c.length?(b=c[2],this.p.length=b.length+1):this.p.length=1;break;case 20:this.za=this.b.f[c[1]];this.ga=-1;this.V=c[2];this.de=c[3];this.zb=c[4]?new U(e,c[4]):null;this.p=[];this.g=[];6===c.length?(b=c[5],this.p.length=b.length+1):this.p.length=1;break;case 21:this.za=this.b.f[c[1]];this.de=c[2];this.zb=c[3]?new U(e,c[3]):null;this.Ig=c[4];break;case 22:this.za=
this.b.f[c[1]];this.za.Fe(c[2]);this.ga=this.za.Lf(c[2]);this.V=c[3];this.de=c[4];this.zb=c[5]?new U(e,c[5]):null;this.p=[];this.g=[];7===c.length?(b=c[6],this.p.length=b.length+1):this.p.length=1;break;case 23:this.le=c[1],this.sc=null}4<=this.type&&17>=this.type&&(this.first=new U(e,c[1]),this.ea=new U(e,c[2]));if(b){var a,f;a=0;for(f=b.length;a<f;a++)this.g.push(new U(e,b[a]))}}function g(e,c){this.type=e||V.sd;this.data=c||0;this.fd=null;this.type==V.sd&&(this.data=Math.floor(this.data))}c.prototype.S=
function(){23===this.type&&(this.sc=this.i.b.vh(this.le,this.i.Da.parent));this.first&&this.first.S();this.ea&&this.ea.S();this.ef&&this.ef.S();this.zb&&this.zb.S();if(this.g){var e,c;e=0;for(c=this.g.length;e<c;e++)this.g[e].S()}};c.prototype.ek=function(e){this.p[0]=e;e=this.i.Y();var c,b;c=0;for(b=this.g.length;c<b;c++)this.g[c].get(e),this.p[c+1]=e.data;this.i.W();this.V.apply(this.b.sb,this.p)};c.prototype.mh=function(e){var c=this.za.O(),b=c.lb();if(!b.length)if(c.I.length)b=c.I;else{this.de?
e.Qa(""):e.L(0);return}this.p[0]=e;e.fd=this.za;e=this.i.Y();var a,c=0;for(a=this.g.length;c<a;c++)this.g[c].get(e),this.p[c+1]=e.data;c=this.i.ec;this.zb&&(this.zb.get(e),e.ba()&&(c=e.data,b=this.za.c));this.i.W();c%=b.length;0>c&&(c+=b.length);b=b[c];-1<this.ga?(e=0,this.za.A&&(e=b.type.Xc[this.za.kb]),this.V.apply(b.q[this.ga+e],this.p)):this.V.apply(b,this.p)};c.prototype.Uj=function(e){var c=this.za.O(),b=c.lb();if(!b.length)if(c.I.length)b=c.I;else{this.de?e.Qa(""):e.L(0);return}c=this.i.ec;
if(this.zb){var a=this.i.Y();this.zb.get(a);if(a.ba()){c=a.data;b=this.za.c;c%=b.length;0>c&&(c+=b.length);b=b[c].X[this.Ig];K(b)?e.Qa(b):e.H(b);this.i.W();return}this.i.W()}c%=b.length;0>c&&(c+=b.length);b=b[c];c=0;this.za.A&&(c=b.type.Ce[this.za.kb]);b=b.X[this.Ig+c];K(b)?e.Qa(b):e.H(b)};c.prototype.Vj=function(e){e.type=V.sd;e.data=this.value};c.prototype.Rj=function(e){e.type=V.rd;e.data=this.value};c.prototype.ck=function(e){e.type=V.pf;e.data=this.value};c.prototype.fk=function(e){this.first.get(e);
e.ba()&&(e.data=-e.data)};c.prototype.Lj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.ba()&&c.ba()&&(e.data+=c.data,c.$c()&&e.ed());this.i.W()};c.prototype.dk=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.ba()&&c.ba()&&(e.data-=c.data,c.$c()&&e.ed());this.i.W()};c.prototype.Zj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.ba()&&c.ba()&&(e.data*=c.data,c.$c()&&e.ed());this.i.W()};c.prototype.Oj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);
e.ba()&&c.ba()&&(e.data/=c.data,e.ed());this.i.W()};c.prototype.Yj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.ba()&&c.ba()&&(e.data%=c.data,c.$c()&&e.ed());this.i.W()};c.prototype.bk=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.ba()&&c.ba()&&(e.data=Math.pow(e.data,c.data),c.$c()&&e.ed());this.i.W()};c.prototype.Mj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.ba()?c.Ke()?e.Qa(e.data.toString()+c.data):e.data&&c.data?e.L(1):e.L(0):e.Ke()&&
(e.data=c.Ke()?e.data+c.data:e.data+(Math.round(1E10*c.data)/1E10).toString());this.i.W()};c.prototype.ak=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.ba()&&c.ba()&&(e.data||c.data?e.L(1):e.L(0));this.i.W()};c.prototype.Nj=function(e){this.first.get(e);e.data?this.ea.get(e):this.ef.get(e)};c.prototype.Pj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.L(e.data===c.data?1:0);this.i.W()};c.prototype.$j=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);
e.L(e.data!==c.data?1:0);this.i.W()};c.prototype.Wj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.L(e.data<c.data?1:0);this.i.W()};c.prototype.Xj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.L(e.data<=c.data?1:0);this.i.W()};c.prototype.Sj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.L(e.data>c.data?1:0);this.i.W()};c.prototype.Tj=function(e){this.first.get(e);var c=this.i.Y();this.ea.get(c);e.L(e.data>=c.data?1:0);this.i.W()};c.prototype.Qj=
function(e){var c=this.sc.wk();J(c)?e.H(c):e.Qa(c)};U=c;g.prototype.$c=function(){return this.type===V.rd};g.prototype.ba=function(){return this.type===V.sd||this.type===V.rd};g.prototype.Ke=function(){return this.type===V.pf};g.prototype.ed=function(){this.$c()||(this.Ke()&&(this.data=parseFloat(this.data)),this.type=V.rd)};g.prototype.L=function(e){this.type=V.sd;this.data=Math.floor(e)};g.prototype.H=function(e){this.type=V.rd;this.data=e};g.prototype.Qa=function(e){this.type=V.pf;this.data=e};
tb=g;V={sd:0,rd:1,pf:2}})();function Z(c){this.b=c;this.Ba=[]}Z.prototype.Eb=function(){var c={},g,e,h,b,a,f,m,v;c.waits=[];var n=c.waits,t;g=0;for(e=this.Ba.length;g<e;g++){f=this.Ba[g];t={t:f.time,ev:f.zd.D,sm:[],sols:{}};f.zd.Xa[f.Ia]&&(t.act=f.zd.Xa[f.Ia].D);h=0;for(b=f.T.length;h<b;h++)t.sm.push(f.T[h].D);for(a in f.Aa)if(f.Aa.hasOwnProperty(a)){m=this.b.f[parseInt(a,10)];v={sa:f.Aa[a].Fi,insts:[]};h=0;for(b=f.Aa[a].yc.length;h<b;h++)v.insts.push(f.Aa[a].yc[h].uid);t.sols[m.D.toString()]=v}n.push(t)}return c};
Z.prototype.Ec=function(c){c=c.waits;var g,e,h,b,a,f,m,v,n,t,d;g=this.Ba.length=0;for(e=c.length;g<e;g++)if(f=c[g],v=this.b.Yg[f.ev.toString()]){n=-1;h=0;for(b=v.Xa.length;h<b;h++)if(v.Xa[h].D===f.act){n=h;break}if(-1!==n){m={Aa:{},T:[],jh:!1};m.time=f.t;m.zd=v;m.Ia=n;h=0;for(b=f.sm.length;h<b;h++)(v=this.b.He(f.sm[h]))&&m.T.push(v);for(a in f.sols)if(f.sols.hasOwnProperty(a)&&(v=this.b.He(parseInt(a,10)))){n=f.sols[a];t={Fi:n.sa,yc:[]};h=0;for(b=n.insts.length;h<b;h++)(d=this.b.Ah(n.insts[h]))&&
t.yc.push(d);m.Aa[v.index.toString()]=t}this.Ba.push(m)}}};
(function(){function c(){}function g(){}var e=Z.prototype;c.prototype.ij=G(!0);c.prototype.hj=G(!0);c.prototype.cj=function(){var a=this.b.Fa();return a.Cf?!1:!a.Dc};c.prototype.Mg=G(!0);c.prototype.ej=G(!0);c.prototype.of=G(!0);c.prototype.jj=G(!0);c.prototype.nf=G(!0);e.aa=new c;var h=[],b=[];e.pe=new function(){};g.prototype["int"]=function(a,b){K(b)?(a.L(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.L(b)};g.prototype["float"]=function(a,b){K(b)?(a.H(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.H(b)};
g.prototype.sqrt=function(a,b){a.H(Math.sqrt(b))};g.prototype.round=function(a,b){a.L(Math.round(b))};g.prototype.floor=function(a,b){a.L(Math.floor(b))};g.prototype.ceil=function(a,b){a.L(Math.ceil(b))};g.prototype.sin=function(a,b){a.H(Math.sin(Q(b)))};g.prototype.cos=function(a,b){a.H(Math.cos(Q(b)))};g.prototype.tan=function(a,b){a.H(Math.tan(Q(b)))};g.prototype.acos=function(a,b){a.H(ra(Math.acos(b)))};g.prototype.max=function(a){var b=arguments[1],e,c;e=2;for(c=arguments.length;e<c;e++)b<arguments[e]&&
(b=arguments[e]);a.H(b)};g.prototype.min=function(a){var b=arguments[1],e,c;e=2;for(c=arguments.length;e<c;e++)b>arguments[e]&&(b=arguments[e]);a.H(b)};g.prototype.Wc=function(a){a.H(this.b.Wc)};g.prototype.ke=function(a){a.H(this.b.ke)};g.prototype.time=function(a){a.H(this.b.ad.gc)};g.prototype.je=function(a){a.L(this.b.je)};g.prototype.Te=function(a){a.L(this.b.Te)};g.prototype.If=function(a){a.L(this.b.If)};g.prototype.j=function(a,b,e,c,g){a.H(ra(va(b,e,c,g)))};g.prototype.left=function(a,b,
e){a.Qa(K(b)?b.substr(0,e):"")};g.prototype.right=function(a,b,e){a.Qa(K(b)?b.substr(b.length-e):"")};g.prototype.replace=function(a,b,e,c){K(b)&&K(e)&&K(c)?a.Qa(b.replace(RegExp(Da(e),"gi"),c)):a.Qa(K(b)?b:"")};g.prototype.zf=function(a){a.H(this.b.zf/1E3)};g.prototype.Re=function(a){a.H(this.b.Re)};e.Be=new g;e.ql=function(){var a,e,c,g,n,t,d=this.b.Fa();a=0;for(c=this.Ba.length;a<c;a++)if(g=this.Ba[a],!(g.time>this.b.ad.gc)){d.fb=g.zd;d.Ia=g.Ia;d.ra=0;for(e in g.Aa)g.Aa.hasOwnProperty(e)&&(n=this.b.f[parseInt(e,
10)].O(),t=g.Aa[e],n.fa=t.Fi,qa(n.c,t.yc),n=t,n.yc.length=0,b.push(n));g.zd.pl();this.b.yf(g.T);g.jh=!0}e=a=0;for(c=this.Ba.length;a<c;a++)g=this.Ba[a],this.Ba[e]=g,g.jh?(Ba(g.Aa),g.T.length=0,h.push(g)):e++;this.Ba.length=e}})();
(function(){La=function(c){var e=c[0].prototype,h=c[1],b=c[3],a=c[4],f=c[5],m=c[6],v=c[7];c=c[8];e.aa||(e.aa={});e.pe||(e.pe={});e.Be||(e.Be={});var n=e.aa,t=e.pe,e=e.Be;b&&(n.Vl=function(a,b){return ub(this.x,a,b)},n.Wl=function(a,b){return ub(this.y,a,b)},n.fm=function(){var a=this.e;this.eb();var b=this.va;return!(b.right<a.Ua||b.bottom<a.Wa||b.left>a.Va||b.top>a.Ta)},n.gm=function(){this.eb();var a=this.va,b=this.b.M;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},n.tm=function(a,
b,e){var c=this.O(),f=c.lb();if(!f.length)return!1;var g=f[0],h=g,m=ya(g.x,g.y,b,e),n,t,v;n=1;for(t=f.length;n<t;n++)if(g=f[n],v=ya(g.x,g.y,b,e),0===a&&v<m||1===a&&v>m)m=v,h=g;c.Xd(h);return!0},t.Om=function(a){this.x!==a&&(this.x=a,this.oa())},t.Pm=function(a){this.y!==a&&(this.y=a,this.oa())},t.Im=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.oa()},t.Jm=function(a,b){var e=a.sk(this);if(e){var c;e.wh?(c=e.wh(b,!0),e=e.wh(b,!1)):(c=e.x,e=e.y);if(this.x!==c||this.y!==e)this.x=c,this.y=
e,this.oa()}},t.lm=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.oa())},t.km=function(a,b){0!==b&&(this.x+=Math.cos(Q(a))*b,this.y+=Math.sin(Q(a))*b,this.oa())},e.Um=function(a){a.H(this.x)},e.Vm=function(a){a.H(this.y)},e.Wc=function(a){a.H(this.b.lk(this))});a&&(n.Ul=function(a,b){return ub(this.width,a,b)},n.Rl=function(a,b){return ub(this.height,a,b)},t.Nm=function(a){this.width!==a&&(this.width=a,this.oa())},t.Fm=function(a){this.height!==a&&(this.height=a,this.oa())},
t.Km=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.oa()},e.Tm=function(a){a.H(this.width)},e.Zl=function(a){a.H(this.height)},e.Ol=function(a){this.eb();a.H(this.va.left)},e.Ql=function(a){this.eb();a.H(this.va.top)},e.Pl=function(a){this.eb();a.H(this.va.right)},e.Nl=function(a){this.eb();a.H(this.va.bottom)});f&&(n.Ml=function(a,b){return wa(this.j,Q(b))<=Q(a)},n.dm=function(a){return S(this.j,Q(a))},n.am=function(a,b){var e=ua(a),c=ua(b),f=R(this.j);return S(c,
e)?S(f,e)&&!S(f,c):!(!S(f,e)&&S(f,c))},t.Bm=function(a){a=Q(sa(a));isNaN(a)||this.j===a||(this.j=a,this.oa())},t.xm=function(a){0===a||isNaN(a)||(this.j+=Q(a),this.j=R(this.j),this.oa())},t.ym=function(a){0===a||isNaN(a)||(this.j-=Q(a),this.j=R(this.j),this.oa())},t.zm=function(a,b){var e=xa(this.j,Q(b),Q(a));isNaN(e)||this.j===e||(this.j=e,this.oa())},t.Am=function(a,b,e){a=xa(this.j,Math.atan2(e-this.y,b-this.x),Q(a));isNaN(a)||this.j===a||(this.j=a,this.oa())},t.Lm=function(a,b){var e=Math.atan2(b-
this.y,a-this.x);isNaN(e)||this.j===e||(this.j=e,this.oa())},e.Ll=function(a){a.H(ta(this.j))});h||(n.Sl=function(a,b,e){return ub(this.X[a],b,e)},n.cm=function(a){return this.X[a]},n.um=function(a,b){var e=this.O(),c=e.lb();if(!c.length)return!1;var f=c[0],g=f,h=f.X[b],m,n,t;m=1;for(n=c.length;m<n;m++)if(f=c[m],t=f.X[b],0===a&&t<h||1===a&&t>h)h=t,g=f;e.Xd(g);return!0},n.rm=function(a){var b,e,c,f,g;if(this.b.kk().Jd){g=this.O();if(g.fa)for(g.fa=!1,g.c.length=0,g.I.length=0,c=this.c,b=0,e=c.length;b<
e;b++)f=c[b],f.uid===a?g.I.push(f):g.c.push(f);else{c=b=0;for(e=g.c.length;b<e;b++)f=g.c[b],g.c[c]=f,f.uid===a?g.I.push(f):c++;g.c.length=c}this.Sc();return!!g.c.length}f=this.b.Ah(a);if(!f)return!1;g=this.O();if(!g.fa&&-1===g.c.indexOf(f))return!1;if(this.A)for(a=f.type.K,b=0,e=a.length;b<e;b++){if(a[b]===this)return g.Xd(f),this.Sc(),!0}else if(f.type===this)return g.Xd(f),this.Sc(),!0;return!1},n.fj=G(!0),n.gj=G(!0),t.Gm=function(a,b){var e=this.X;J(e[a])?e[a]=J(b)?b:parseFloat(b):K(e[a])&&(e[a]=
K(b)?b:b.toString())},t.Kl=function(a,b){var e=this.X;J(e[a])?e[a]=J(b)?e[a]+b:e[a]+parseFloat(b):K(e[a])&&(e[a]=K(b)?e[a]+b:e[a]+b.toString())},t.Qm=function(a,b){var e=this.X;J(e[a])&&(e[a]=J(b)?e[a]-b:e[a]-parseFloat(b))},t.Cm=function(a,b){this.X[a]=b?1:0},t.Rm=function(a){this.X[a]=1-this.X[a]},t.Yl=function(){this.b.Oc(this)},t.dj||(t.dj=function(a){var b,e;try{b=JSON.parse(a)}catch(c){return}this.b.Qe(this,b,!0);this.Ib&&this.Ib();if(this.q)for(a=0,b=this.q.length;a<b;++a)e=this.q[a],e.Ib&&
e.Ib()}),e.Xl=function(a){var b=a.fd.c.length,e,c,f;e=0;for(c=this.b.wa.length;e<c;e++)f=this.b.wa[e],a.fd.A?0<=f.type.K.indexOf(a.fd)&&b++:f.type===a.fd&&b++;a.L(b)},e.wm=function(a){a.L(a.fd.O().lb().length)},e.Sm=function(a){a.L(this.uid)},e.$l=function(a){a.L(this.Dd())},e.bj||(e.bj=function(a){a.Qa(JSON.stringify(this.b.wg(this,!0)))}));m&&(n.hm=F("visible"),t.Mm=function(a){!a!==!this.visible&&(this.visible=a,this.b.P=!0)},n.Tl=function(a,b){return ub(Ia(100*this.opacity),a,b)},t.Hm=function(a){a/=
100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.P=!0)},e.Opacity=function(a){a.H(Ia(100*this.opacity))});v&&(n.em=function(a){return a?this.e===a:!1},n.vm=function(a){var b=this.O(),e=b.lb();if(!e.length)return!1;var c=e[0],f=c,g,h;g=1;for(h=e.length;g<h;g++)if(c=e[g],0===a){if(c.e.index>f.e.index||c.e.index===f.e.index&&c.Ga()>f.Ga())f=c}else if(c.e.index<f.e.index||c.e.index===f.e.index&&c.Ga()<f.Ga())f=c;b.Xd(f);return!0},t.om=function(){var a=this.Ga();a!==this.e.c.length-1&&(N(this.e.c,
a),this.e.c.push(this),this.b.P=!0,this.e.Ca=!0)},t.mm=function(){var a=this.Ga();0!==a&&(N(this.e.c,a),this.e.c.unshift(this),this.b.P=!0,this.e.Ca=!0)},t.nm=function(a){a&&a!=this.e&&(N(this.e.c,this.Ga()),this.e.Ca=!0,this.e=a,this.Nc=a.c.length,a.c.push(this),this.b.P=!0)},t.Xm=function(a,b){var e=0===a;if(b){var c=b.mk(this);if(c&&c.uid!==this.uid){this.e.index!==c.e.index&&(N(this.e.c,this.Ga()),this.e.Ca=!0,this.e=c.e,this.Nc=c.e.c.length,c.e.c.push(this));var f=this.Ga(),c=c.Ga();N(this.e.c,
f);f<c&&c--;e&&c++;c===this.e.c.length?this.e.c.push(this):this.e.c.splice(c,0,this);this.e.Ca=!0;this.b.P=!0}}},e.jm=function(a){a.L(this.e.ii)},e.im=function(a){a.Qa(this.e.name)},e.Wm=function(a){a.L(this.Ga())});c&&(t.Dm=function(a,b){if(this.b.k){var e=this.type.Nf(b);if(!(0>e)){var c=1===a;this.Hb[e]!==c&&(this.Hb[e]=c,this.Gb(),this.b.P=!0)}}},t.Em=function(a,b,e){if(this.b.k){var c=this.type.Nf(a);0>c||(a=this.type.n[c],c=this.N[c],b=Math.floor(b),0>b||b>=c.length||(1===this.b.k.vk(a.ia,b)&&
(e/=100),c[b]!==e&&(c[b]=e,a.ub&&(this.b.P=!0))))}})};db=function(){this.sf=!0;this.type.Rg=!0;this.b.P=!0;var c,e,h=this.tf;c=0;for(e=h.length;c<e;++c)h[c](this)};eb=function(c){c&&this.tf.push(c)};var c=new M(0,0,0,0);gb=function(){if(this.sf){var g=this.va,e=this.qe;g.set(this.x,this.y,this.x+this.width,this.y+this.height);g.offset(-this.Fd*this.width,-this.Gd*this.height);this.j?(g.offset(-this.x,-this.y),e.Ji(g,this.j),e.offset(this.x,this.y),e.Zg(g)):e.$e(g);g.normalize();this.sf=!1;if(this.te){var e=
this.type.eh,h=this.se;c.set(e.Ng(g.left),e.Og(g.top),e.Ng(g.right),e.Og(g.bottom));h.Kj(c)||(h.right<h.left?e.update(this,null,c):e.update(this,h,c),h.copy(c))}}};fb=function(c,e){return this.va.Pb(c,e)&&this.qe.Pb(c,e)?this.wd&&!this.wd.Zk()?(this.wd.qj(this.width,this.height,this.j),this.wd.Pb(c-this.x,e-this.y)):!0:!1};$a=function(){this.type.kf();return this.wc};hb=function(){this.e.Gl();return this.Nc};ib=function(){this.C.length=0;var c,e;c=0;for(e=this.Hb.length;c<e;c++)this.Hb[c]&&this.C.push(this.type.n[c]);
this.$i=!!this.C.length};ab=function(){return"Inst"+this.yi};Oa=function(c){if(c&&c.Ya&&c.type!=this){var e,h,b;e=0;for(h=c.siblings.length;e<h;e++)if(b=c.siblings[e],b.type==this)return b}c=this.O().lb();return c.length?c[0]:null};Pa=function(c){var e=this.O().lb();return e.length?e[c.Dd()%e.length]:null};Na=function(){if(this.nd&&!this.A){var c,e;c=0;for(e=this.c.length;c<e;c++)this.c[c].wc=c;var h=c,b=this.b.wa;c=0;for(e=b.length;c<e;++c)b[c].type===this&&(b[c].wc=h++);this.nd=!1}};Ya=function(c){if(c<
this.c.length)return this.c[c];c-=this.c.length;var e=this.b.wa,h,b;h=0;for(b=e.length;h<b;++h)if(e[h].type===this){if(0===c)return e[h];--c}return null};Qa=function(){return this.fc[this.yb]};Ra=function(){this.yb++;this.yb===this.fc.length?this.fc.push(new Ma(this)):this.fc[this.yb].fa=!0};Sa=function(){this.yb++;this.yb===this.fc.length&&this.fc.push(new Ma(this));var c=this.fc[this.yb],e=this.fc[this.yb-1];e.fa?c.fa=!0:(c.fa=!1,qa(c.c,e.c),qa(c.I,e.I))};Ta=function(){this.yb--};Ua=function(c){var e,
h,b,a,f,m=0;if(!this.A)for(e=0,h=this.K.length;e<h;e++)for(f=this.K[e],b=0,a=f.U.length;b<a;b++){if(c===f.U[b].name)return this.R.Sh=m,f.U[b];m++}e=0;for(h=this.U.length;e<h;e++){if(c===this.U[e].name)return this.R.Sh=m,this.U[e];m++}return null};Va=function(c){return this.Fe(c)?this.R.Sh:-1};Wa=function(c){var e,h;e=0;for(h=this.n.length;e<h;e++)if(this.n[e].name===c)return e;return-1};Xa=function(){if(this.Ya&&!this.A){var c,e,h,b,a,f,m;this.kf();f=this.O();var v=f.fa,n=(c=this.b.Fa())&&c.fb&&c.fb.Db;
c=0;for(e=this.ta.length;c<e;c++)if(a=this.ta[c],a!==this&&(a.kf(),m=a.O(),m.fa=v,!v)){m.c.length=f.c.length;h=0;for(b=f.c.length;h<b;h++)m.c[h]=a.xh(f.c[h].wc);if(n)for(m.I.length=f.I.length,h=0,b=f.I.length;h<b;h++)m.I[h]=a.xh(f.I[h].wc)}}};Za=function(){return"Type"+this.D};ub=function(c,e,h){if("undefined"===typeof c||"undefined"===typeof h)return!1;switch(e){case 0:return c===h;case 1:return c!==h;case 2:return c<h;case 3:return c<=h;case 4:return c>h;case 5:return c>=h;default:return!1}}})();
var Bb={};function Db(c){this.b=c}
(function(){var c=Db.prototype;c.qf=function(c){this.ua=c;this.b=c.b};var g=c.qf.prototype;g.Oa=function(){this.A||(this.ja=new Image,this.ja.idtkLoadDisposed=!0,this.ja.src=this.Oi,this.ja.tj=this.Pi,this.b.ne.push(this.ja),this.pa=this.pattern=null)};g.ni=function(){this.A||(this.pa=null)};g.oi=function(){if(!this.A&&this.c.length){this.pa||(this.pa=this.b.k.$h(this.ja,this.b.G,this.Cg));var c,g;c=0;for(g=this.c.length;c<g;c++)this.c[c].pa=this.pa}};g.cl=function(){this.A||this.pa||!this.b.k||(this.pa=
this.b.k.$h(this.ja,this.b.G,this.Cg))};g.Yi=function(){this.A||this.c.length||!this.pa||(this.b.k.deleteTexture(this.pa),this.pa=null)};g.vi=function(c){c.drawImage(this.ja,0,0)};c.Pc=function(c){this.type=c;this.b=c.b};g=c.Pc.prototype;g.Oa=function(){this.visible=0===this.$d[0];this.be=new M(0,0,0,0);this.Eh=!1;this.ja=this.type.ja;this.b.k?(this.type.cl(),this.pa=this.type.pa):(this.type.pattern||(this.type.pattern=this.b.F.createPattern(this.type.ja,"repeat")),this.pattern=this.type.pattern)};
g.Ib=function(){this.Eh=!1;this.ja=this.type.ja};g.Ve=function(){this.b.k&&this.Eh&&this.pa&&(this.b.k.deleteTexture(this.pa),this.pa=null)};g.pc=function(c){c.globalAlpha=this.opacity;c.save();c.fillStyle=this.pattern;var g=this.x,b=this.y;this.b.Yd&&(g=g+0.5|0,b=b+0.5|0);var a=-(this.Fd*this.width),f=-(this.Gd*this.height),m=a%this.ja.width,v=f%this.ja.height;0>m&&(m+=this.ja.width);0>v&&(v+=this.ja.height);c.translate(g,b);c.rotate(this.j);c.translate(m,v);c.fillRect(a-m,f-v,this.width,this.height);
c.restore()};g.ib=function(c){c.Pa(this.pa);c.ee(this.opacity);var g=this.be;g.right=this.width/this.ja.width;g.bottom=this.height/this.ja.height;var b=this.qe;if(this.b.Yd){var a=(this.x+0.5|0)-this.x,f=(this.y+0.5|0)-this.y;c.Kc(b.bb+a,b.cb+f,b.ic+a,b.jc+f,b.Nb+a,b.Ob+f,b.Lb+a,b.Mb+f,g)}else c.Kc(b.bb,b.cb,b.ic,b.jc,b.Nb,b.Ob,b.Lb,b.Mb,g)};c.aa=new function(){};c.pe=new function(){};c.Be=new function(){}})();
function Cb(){return[null,null,[[Db,!1,!0,!0,!0,!0,!0,!0,!0,!0]],[["t0",Db,!1,[],0,0,["images/tiledbackground.png",1279965,1],null,[],!1,!1,0xf0d89a5b445db,[],null]],[],[["Layout 1",1283,797,!1,"Event sheet 1",0x84bb5bc38d84,[["Layer 0",0,4871208195731808,!0,[255,255,255],!1,1,1,1,!1,1,0,0,[[[0,0,0,1283,800,0,0,1,0,0,0,0,[]],0,0,[],[],[0,0]]],[]]],[],[]]],[["Event sheet 1",[]]],"media/",!1,1283,797,4,!0,!0,!0,"1.0.0.0",!0,!1,0,2,1,!1,!0,[]]};
