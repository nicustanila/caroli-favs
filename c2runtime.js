// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function F(){return function(){}}function G(h){return function(){return this[h]}}function H(h){return function(){return h}}var aa,I,J,ba,K,L,ea,fa,M,ia,ja,ka,N,la,ma,P,na,oa,Q,pa,T,U,qa,ra,V,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,W,sb,tb,ub,X,vb,wb={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(h){return h.__proto__}:function(h){return h.constructor.prototype});
(function(){function h(b,a,q,c){this.set(b,a,q,c)}function n(){this.Ma=this.La=this.Oa=this.Na=this.Za=this.Ya=this.wa=this.ua=0}function l(a,q,c,p){a<q?c<p?(m=a<c?a:c,b=q>p?q:p):(m=a<p?a:p,b=q>c?q:c):c<p?(m=q<c?q:c,b=a>p?a:p):(m=q<p?q:p,b=a>c?a:c)}function g(){this.Pb=this.Vb=null;this.ye=0;s?this.Vb=new Set:this.Pb={};this.wd=[];this.Yc=!0}function d(b){t[u++]=b}function a(){this.Ja=this.Vf=this.y=this.kg=0}function e(b){this.Ud=[];this.gi=this.ii=this.ji=this.hi=0;this.Pe(b)}function c(b,a){this.Ik=
b;this.Hk=a;this.cells={}}function f(b,a,q){var c;return p.length?(c=p.pop(),c.gm=b,c.x=a,c.y=q,c):new aa(b,a,q)}function k(b,a,q){this.gm=b;this.x=a;this.y=q;this.If=new I}J=function(b){window.console&&window.console.log&&window.console.log(b)};ba=function(b){return"undefined"===typeof b};K=function(b){return"number"===typeof b};L=function(b){return"string"===typeof b};ea=function(b){return 0<b&&0===(b-1&b)};fa=function(b){--b;for(var a=1;32>a;a<<=1)b|=b>>a;return b+1};M=function(b){return 0>b?-b:
b};ia=function(b,a){return b<a?b:a};ja=Math.PI;ka=function(b){return b+0.5|0};N=function(b){return 0<=b?b|0:(b|0)-1};la=function(b){var a=b|0;return a===b?a:a+1};ma=function(b,a,q,c,p,s,f,e){var v,d,t,k;b<q?(d=b,v=q):(d=q,v=b);p<f?(k=p,t=f):(k=f,t=p);if(v<k||d>t)return!1;a<c?(d=a,v=c):(d=c,v=a);s<e?(k=s,t=e):(k=e,t=s);if(v<k||d>t)return!1;v=p-b+f-q;d=s-a+e-c;b=q-b;a=c-a;p=f-p;s=e-s;e=M(a*p-s*b);return M(p*d-s*v)>e?!1:M(b*d-a*v)<=e};h.prototype.set=function(b,a,q,c){this.left=b;this.top=a;this.right=
q;this.bottom=c};h.prototype.copy=function(b){this.left=b.left;this.top=b.top;this.right=b.right;this.bottom=b.bottom};h.prototype.width=function(){return this.right-this.left};h.prototype.height=function(){return this.bottom-this.top};h.prototype.offset=function(b,a){this.left+=b;this.top+=a;this.right+=b;this.bottom+=a;return this};h.prototype.normalize=function(){var b=0;this.left>this.right&&(b=this.left,this.left=this.right,this.right=b);this.top>this.bottom&&(b=this.top,this.top=this.bottom,
this.bottom=b)};h.prototype.zc=function(b,a){return b>=this.left&&b<=this.right&&a>=this.top&&a<=this.bottom};h.prototype.cl=function(b){return this.left===b.left&&this.top===b.top&&this.right===b.right&&this.bottom===b.bottom};P=h;n.prototype.Rf=function(b){this.ua=b.left;this.wa=b.top;this.Ya=b.right;this.Za=b.top;this.Na=b.right;this.Oa=b.bottom;this.La=b.left;this.Ma=b.bottom};n.prototype.Tj=function(b,a){if(0===a)this.Rf(b);else{var q=Math.sin(a),c=Math.cos(a),p=b.left*q,s=b.top*q,f=b.right*
q,q=b.bottom*q,e=b.left*c,v=b.top*c,d=b.right*c,c=b.bottom*c;this.ua=e-s;this.wa=v+p;this.Ya=d-s;this.Za=v+f;this.Na=d-q;this.Oa=c+f;this.La=e-q;this.Ma=c+p}};n.prototype.offset=function(b,a){this.ua+=b;this.wa+=a;this.Ya+=b;this.Za+=a;this.Na+=b;this.Oa+=a;this.La+=b;this.Ma+=a;return this};var m=0,b=0;n.prototype.li=function(a){l(this.ua,this.Ya,this.Na,this.La);a.left=m;a.right=b;l(this.wa,this.Za,this.Oa,this.Ma);a.top=m;a.bottom=b};n.prototype.zc=function(b,a){var q=this.Ya-this.ua,c=this.Za-
this.wa,p=this.Na-this.ua,s=this.Oa-this.wa,f=b-this.ua,e=a-this.wa,v=q*q+c*c,d=q*p+c*s,c=q*f+c*e,t=p*p+s*s,k=p*f+s*e,u=1/(v*t-d*d),q=(t*c-d*k)*u,v=(v*k-d*c)*u;if(0<=q&&0<v&&1>q+v)return!0;q=this.La-this.ua;c=this.Ma-this.wa;v=q*q+c*c;d=q*p+c*s;c=q*f+c*e;u=1/(v*t-d*d);q=(t*c-d*k)*u;v=(v*k-d*c)*u;return 0<=q&&0<v&&1>q+v};na=n;oa=function(b,a){for(var q in a)a.hasOwnProperty(q)&&(b[q]=a[q]);return b};Q=function(b,a){var q,c;a=N(a);if(!(0>a||a>=b.length))if(0===a)b.shift();else if(a===b.length-1)b.pop();
else{q=a;for(c=b.length-1;q<c;q++)b[q]=b[q+1];b.length=c}};pa=function(b,a){b.length=a.length;var q,c;q=0;for(c=a.length;q<c;q++)b[q]=a[q]};T=function(b,a){var q=b.indexOf(a);-1!==q&&Q(b,q)};U=function(b){return b/(180/ja)};qa=function(b){return b*(180/ja)};ra=function(b){b%=360;0>b&&(b+=360);return b};V=function(b){b%=2*ja;0>b&&(b+=2*ja);return b};sa=function(b){return ra(qa(b))};ta=function(b){return V(U(b))};ua=function(b,a,q,c){return Math.atan2(c-a,q-b)};va=function(b,a){if(b===a)return 0;var q=
Math.sin(b),c=Math.cos(b),p=Math.sin(a),s=Math.cos(a),q=q*p+c*s;return 1<=q?0:-1>=q?ja:Math.acos(q)};wa=function(b,a,q){var c=Math.sin(b),p=Math.cos(b),s=Math.sin(a),f=Math.cos(a);return Math.acos(c*s+p*f)>q?0<p*s-c*f?V(b+q):V(b-q):V(a)};xa=function(b,a){var q=Math.sin(b),c=Math.cos(b),p=Math.sin(a),s=Math.cos(a);return 0>=c*p-q*s};ya=function(b,a,q,c){b=q-b;a=c-a;return Math.sqrt(b*b+a*a)};za=function(b,a){return!b!==!a};Aa=function(b){for(var a in b)if(b.hasOwnProperty(a))return!0;return!1};Ba=
function(b){for(var a in b)b.hasOwnProperty(a)&&delete b[a]};var q=+new Date;Ca=function(){if("undefined"!==typeof window.performance){var b=window.performance;if("undefined"!==typeof b.now)return b.now();if("undefined"!==typeof b.webkitNow)return b.webkitNow();if("undefined"!==typeof b.mozNow)return b.mozNow();if("undefined"!==typeof b.msNow)return b.msNow()}return Date.now()-q};var s="undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;g.prototype.contains=function(b){return s?this.Vb.has(b):
this.Pb.hasOwnProperty(b.toString())};g.prototype.add=function(b){if(s)this.Vb.has(b)||(this.Vb.add(b),this.Yc=!1);else{var a=b.toString();this.Pb.hasOwnProperty(a)||(this.Pb[a]=b,this.ye++,this.Yc=!1)}return this};g.prototype.remove=function(b){s?this.Vb.has(b)&&(this.Vb["delete"](b),this.Yc=!1):(b=b.toString(),this.Pb.hasOwnProperty(b)&&(delete this.Pb[b],this.ye--,this.Yc=!1));return this};g.prototype.clear=function(){s?this.Vb.clear():(this.Pb={},this.ye=0);this.wd.length=0;this.Yc=!0;return this};
g.prototype.Ec=function(){return s?0===this.Vb.size:0===this.ye};var t=null,u=0;g.prototype.en=function(){if(!this.Yc){if(s)this.wd.length=this.Vb.size,t=this.wd,u=0,this.Vb.forEach(d),t=null,u=0;else{this.wd.length=this.ye;var b,a=0;for(b in this.Pb)this.Pb.hasOwnProperty(b)&&(this.wd[a++]=this.Pb[b])}this.Yc=!0}};g.prototype.Ue=function(){this.en();return this.wd};I=g;a.prototype.add=function(b){this.y=b-this.kg;this.Vf=this.Ja+this.y;this.kg=this.Vf-this.Ja-this.y;this.Ja=this.Vf};a.prototype.reset=
function(){this.Ja=this.Vf=this.y=this.kg=0};Da=a;Ea=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.Pe=function(b){this.Kj=b;this.Mf=b.length/2;this.Ud.length=b.length;this.lg=this.mg=-1;this.ni=0};e.prototype.wm=function(){return!this.Kj.length};e.prototype.kb=function(){for(var b=this.Ud,a=b[0],q=a,c=b[1],p=c,s,f,e=1,v=this.Mf;e<v;++e)f=2*e,s=b[f],f=b[f+1],s<a&&(a=s),s>q&&(q=s),f<c&&(c=f),f>p&&(p=f);this.hi=a;this.ii=q;this.ji=c;this.gi=p};e.prototype.Rf=function(b,
a,q){this.Ud.length=8;this.Mf=4;var c=this.Ud;c[0]=b.left-a;c[1]=b.top-q;c[2]=b.right-a;c[3]=b.top-q;c[4]=b.right-a;c[5]=b.bottom-q;c[6]=b.left-a;c[7]=b.bottom-q;this.mg=b.right-b.left;this.lg=b.bottom-b.top;this.kb()};e.prototype.Gk=function(b,a,q){if(this.mg!==b||this.lg!==a||this.ni!==q){this.mg=b;this.lg=a;this.ni=q;var c,p,s,f,e,v=0,d=1,t=this.Kj,k=this.Ud;0!==q&&(v=Math.sin(q),d=Math.cos(q));q=0;for(s=this.Mf;q<s;q++)c=2*q,p=c+1,f=t[c]*b,e=t[p]*a,k[c]=f*d-e*v,k[p]=e*d+f*v;this.kb()}};e.prototype.zc=
function(b,a){var q=this.Ud;if(b===q[0]&&a===q[1])return!0;var c,p,s,f=this.Mf,e=this.hi-110,v=this.ji-101,d=this.ii+131,t=this.gi+120,k,u,m=0,l=0;for(c=0;c<f;c++)p=2*c,s=2*((c+1)%f),k=q[p],p=q[p+1],u=q[s],s=q[s+1],ma(e,v,b,a,k,p,u,s)&&m++,ma(d,t,b,a,k,p,u,s)&&l++;return 1===m%2||1===l%2};Fa=e;c.prototype.Ji=function(b,a,q){var c;c=this.cells[b];return c?(c=c[a])?c:q?(c=f(this,b,a),this.cells[b][a]=c):null:q?(c=f(this,b,a),this.cells[b]={},this.cells[b][a]=c):null};c.prototype.Zh=function(b){return N(b/
this.Ik)};c.prototype.$h=function(b){return N(b/this.Hk)};c.prototype.update=function(b,a,q){var c,s,f,e,v;if(a)for(c=a.left,s=a.right;c<=s;++c)for(f=a.top,e=a.bottom;f<=e;++f)if(!q||!q.zc(c,f))if(v=this.Ji(c,f,!1))v.remove(b),v.Ec()&&(v.If.clear(),1E3>p.length&&p.push(v),this.cells[c][f]=null);if(q)for(c=q.left,s=q.right;c<=s;++c)for(f=q.top,e=q.bottom;f<=e;++f)a&&a.zc(c,f)||this.Ji(c,f,!0).lm(b)};Ga=c;var p=[];k.prototype.Ec=function(){return this.If.Ec()};k.prototype.lm=function(b){this.If.add(b)};
k.prototype.remove=function(b){this.If.remove(b)};aa=k;var v="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Ha=function(b){return 0>=b||11<=b?"source-over":v[b-1]};Ia=function(b,a,q){if(q)switch(b.Ba=q.ONE,b.ya=q.ONE_MINUS_SRC_ALPHA,a){case 1:b.Ba=q.ONE;b.ya=q.ONE;break;case 3:b.Ba=q.ONE;b.ya=q.ZERO;break;case 4:b.Ba=q.ONE_MINUS_DST_ALPHA;b.ya=q.ONE;break;case 5:b.Ba=q.DST_ALPHA;b.ya=q.ZERO;break;case 6:b.Ba=q.ZERO;b.ya=
q.SRC_ALPHA;break;case 7:b.Ba=q.ONE_MINUS_DST_ALPHA;b.ya=q.ZERO;break;case 8:b.Ba=q.ZERO;b.ya=q.ONE_MINUS_SRC_ALPHA;break;case 9:b.Ba=q.DST_ALPHA;b.ya=q.ONE_MINUS_SRC_ALPHA;break;case 10:b.Ba=q.ONE_MINUS_DST_ALPHA,b.ya=q.SRC_ALPHA}};Ja=function(b){return ka(1E6*b)/1E6};Ka=function(b,a){return"string"!==typeof b||"string"!==typeof a||b.length!==a.length?!1:b===a?!0:b.toLowerCase()===a.toLowerCase()}})();var xb="undefined"!==typeof Float32Array?Float32Array:Array;
function yb(h){var n=new xb(3);h&&(n[0]=h[0],n[1]=h[1],n[2]=h[2]);return n}function Y(h){var n=new xb(16);h&&(n[0]=h[0],n[1]=h[1],n[2]=h[2],n[3]=h[3],n[4]=h[4],n[5]=h[5],n[6]=h[6],n[7]=h[7],n[8]=h[8],n[9]=h[9],n[10]=h[10],n[11]=h[11],n[12]=h[12],n[13]=h[13],n[14]=h[14],n[15]=h[15]);return n}function zb(h,n){n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];n[8]=h[8];n[9]=h[9];n[10]=h[10];n[11]=h[11];n[12]=h[12];n[13]=h[13];n[14]=h[14];n[15]=h[15]}
function Ab(h,n){var l=n[0],g=n[1];n=n[2];h[0]*=l;h[1]*=l;h[2]*=l;h[3]*=l;h[4]*=g;h[5]*=g;h[6]*=g;h[7]*=g;h[8]*=n;h[9]*=n;h[10]*=n;h[11]*=n}
function Bb(h,n,l,g){g||(g=Y());var d,a,e,c,f,k,m,b,q=h[0],s=h[1];h=h[2];a=l[0];e=l[1];d=l[2];l=n[1];k=n[2];q===n[0]&&s===l&&h===k?(h=g,h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1):(l=q-n[0],k=s-n[1],m=h-n[2],b=1/Math.sqrt(l*l+k*k+m*m),l*=b,k*=b,m*=b,n=e*m-d*k,d=d*l-a*m,a=a*k-e*l,(b=Math.sqrt(n*n+d*d+a*a))?(b=1/b,n*=b,d*=b,a*=b):a=d=n=0,e=k*a-m*d,c=m*n-l*a,f=l*d-k*n,(b=Math.sqrt(e*e+c*c+f*f))?(b=1/b,e*=b,c*=b,f*=b):f=c=e=0,
g[0]=n,g[1]=e,g[2]=l,g[3]=0,g[4]=d,g[5]=c,g[6]=k,g[7]=0,g[8]=a,g[9]=f,g[10]=m,g[11]=0,g[12]=-(n*q+d*s+a*h),g[13]=-(e*q+c*s+f*h),g[14]=-(l*q+k*s+m*h),g[15]=1)}
(function(){function h(a){this.sf=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.oi=yb([0,0,100]);this.rj=yb([0,0,0]);this.ik=yb([0,1,0]);this.Th=yb([1,1,1]);this.dh=Y();this.qb=Y();this.jj=Y();this.tg=Y();this.g=a;this.Wi()}function n(a,e,c){this.g=a;this.Qe=e;this.name=c;this.pb=a.getAttribLocation(e,"aPos");this.Kc=a.getAttribLocation(e,"aTex");this.pj=a.getUniformLocation(e,"matP");this.Ld=a.getUniformLocation(e,"matMV");this.Md=a.getUniformLocation(e,
"opacity");this.qj=a.getUniformLocation(e,"samplerFront");this.Fe=a.getUniformLocation(e,"samplerBack");this.nd=a.getUniformLocation(e,"destStart");this.md=a.getUniformLocation(e,"destEnd");this.ah=a.getUniformLocation(e,"seconds");this.$g=a.getUniformLocation(e,"pixelWidth");this.Zg=a.getUniformLocation(e,"pixelHeight");this.Yg=a.getUniformLocation(e,"layerScale");this.Md&&a.uniform1f(this.Md,1);this.qj&&a.uniform1i(this.qj,0);this.Fe&&a.uniform1i(this.Fe,1);this.nd&&a.uniform2f(this.nd,0,0);this.md&&
a.uniform2f(this.md,1,1);this.dd=!1}function l(a,e){this.type=a;this.k=e;this.g=e.g;this.Nb=this.tb=this.Cj=0;this.q=this.Db=null;this.Dh=[]}h.prototype.Wi=function(){var a=this.g,e;this.kj=1;this.kd=this.Ic=null;this.vi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.lj=a.ONE;this.ij=a.ONE_MINUS_SRC_ALPHA;this.kh=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.kh);this.We=Array(4);
this.Se=Array(4);for(e=0;4>e;e++)this.We[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.We[e]),this.Se[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Se[e]);this.hc=0;this.km=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.km);this.Sh=new Float32Array(16E3);this.Hh=new Float32Array(16E3);this.Gm=new Float32Array(32E3);for(var c=new Uint16Array(12E3),f=e=0;12E3>e;)c[e++]=f,c[e++]=f+1,c[e++]=f+2,c[e++]=f,c[e++]=f+2,c[e++]=f+3,f+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);
this.lh=this.$b=0;this.ja=[];e=this.sg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.ja.push(e);
e=this.sg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ja.push(e);for(var d in Cb)Cb.hasOwnProperty(d)&&this.ja.push(this.sg(Cb[d],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.xc=[];this.fc=0;this.Sa=!1;this.wi=this.ze=-1;this.le=null;this.Bl=a.createFramebuffer();this.Nj=null;this.Sc=yb([0,0,0]);this.Xb(0)};h.prototype.sg=function(a,e,c){var f=this.g,d=f.createShader(f.FRAGMENT_SHADER);
f.shaderSource(d,a.src);f.compileShader(d);if(!f.getShaderParameter(d,f.COMPILE_STATUS))return f.deleteShader(d),null;var m=f.createShader(f.VERTEX_SHADER);f.shaderSource(m,e);f.compileShader(m);if(!f.getShaderParameter(m,f.COMPILE_STATUS))return f.deleteShader(d),f.deleteShader(m),null;e=f.createProgram();f.attachShader(e,d);f.attachShader(e,m);f.linkProgram(e);if(!f.getProgramParameter(e,f.LINK_STATUS))return f.deleteShader(d),f.deleteShader(m),f.deleteProgram(e),null;f.useProgram(e);f.deleteShader(d);
f.deleteShader(m);c=new n(f,e,c);c.yg=a.yg||0;c.zg=a.zg||0;c.ti=!!a.ti;c.ci=!!a.ci;c.n=a.n||[];a=0;for(d=c.n.length;a<d;a++)c.n[a][1]=f.getUniformLocation(e,c.n[a][0]),f.uniform1f(c.n[a][1],0);return c};h.prototype.Ig=function(a){var e,c;e=0;for(c=this.ja.length;e<c;e++)if(this.ja[e].name===a)return e;return-1};h.prototype.Jj=function(a,e,c){var f=this.qb,d=this.dh,m=[0,0,0,0,0,0,0,0];m[0]=f[0]*a+f[4]*e+f[12];m[1]=f[1]*a+f[5]*e+f[13];m[2]=f[2]*a+f[6]*e+f[14];m[3]=f[3]*a+f[7]*e+f[15];m[4]=d[0]*m[0]+
d[4]*m[1]+d[8]*m[2]+d[12]*m[3];m[5]=d[1]*m[0]+d[5]*m[1]+d[9]*m[2]+d[13]*m[3];m[6]=d[2]*m[0]+d[6]*m[1]+d[10]*m[2]+d[14]*m[3];m[7]=-m[2];0!==m[7]&&(m[7]=1/m[7],m[4]*=m[7],m[5]*=m[7],m[6]*=m[7],c[0]=(0.5*m[4]+0.5)*this.width,c[1]=(0.5*m[5]+0.5)*this.height)};h.prototype.Wd=function(a,e,c){if(this.width!==a||this.height!==e||c){this.Bc();this.width=a;this.height=e;this.g.viewport(0,0,a,e);e=a/e;var f=this.dh,d;d=1*Math.tan(45*Math.PI/360);e*=d;a=-e;c=-d;f||(f=Y());var m=e-a,b=d-c;f[0]=2/m;f[1]=0;f[2]=
0;f[3]=0;f[4]=0;f[5]=2/b;f[6]=0;f[7]=0;f[8]=(e+a)/m;f[9]=(d+c)/b;f[10]=-1001/999;f[11]=-1;f[12]=0;f[13]=0;f[14]=-2E3/999;f[15]=0;Bb(this.oi,this.rj,this.ik,this.qb);a=[0,0];e=[0,0];this.Jj(0,0,a);this.Jj(1,1,e);this.Th[0]=1/(e[0]-a[0]);this.Th[1]=-1/(e[1]-a[1]);a=0;for(e=this.ja.length;a<e;a++)c=this.ja[a],c.dd=!1,c.pj&&(this.g.useProgram(c.Qe),this.g.uniformMatrix4fv(c.pj,!1,this.dh));this.g.useProgram(this.ja[this.ze].Qe);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE1);
this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE0);this.kd=this.Ic=null}};h.prototype.Ub=function(){Bb(this.oi,this.rj,this.ik,this.qb);Ab(this.qb,this.Th)};h.prototype.translate=function(a,e){if(0!==a||0!==e){this.Sc[0]=a;this.Sc[1]=e;this.Sc[2]=0;var c=this.qb,f=this.Sc,d=f[0],m=f[1],f=f[2];c[12]=c[0]*d+c[4]*m+c[8]*f+c[12];c[13]=c[1]*d+c[5]*m+c[9]*f+c[13];c[14]=c[2]*d+c[6]*m+c[10]*f+c[14];c[15]=c[3]*d+c[7]*m+c[11]*f+c[15]}};h.prototype.scale=function(a,e){if(1!==a||
1!==e)this.Sc[0]=a,this.Sc[1]=e,this.Sc[2]=1,Ab(this.qb,this.Sc)};h.prototype.xh=function(a){if(0!==a){var e=this.qb,c,f=Math.sin(a);a=Math.cos(a);var d=e[0],m=e[1],b=e[2],q=e[3],s=e[4],t=e[5],u=e[6],p=e[7];c?e!==c&&(c[8]=e[8],c[9]=e[9],c[10]=e[10],c[11]=e[11],c[12]=e[12],c[13]=e[13],c[14]=e[14],c[15]=e[15]):c=e;c[0]=d*a+s*f;c[1]=m*a+t*f;c[2]=b*a+u*f;c[3]=q*a+p*f;c[4]=d*-f+s*a;c[5]=m*-f+t*a;c[6]=b*-f+u*a;c[7]=q*-f+p*a}};h.prototype.Zb=function(){for(var a=!1,e=0;16>e;e++)if(this.jj[e]!==this.qb[e]){a=
!0;break}a&&(a=this.Bb(),a.type=5,a.q?zb(this.qb,a.q):a.q=Y(this.qb),zb(this.qb,this.jj),this.Sa=!1)};l.prototype.Xk=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.Db)};l.prototype.Yk=function(){var a=this.g;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Db);a.activeTexture(a.TEXTURE0)};l.prototype.Uk=function(){var a=this.Cj,e=this.k;e.vi=a;e=e.le;e.Md&&this.g.uniform1f(e.Md,a)};l.prototype.Rk=function(){this.g.drawElements(this.g.TRIANGLES,this.Nb,this.g.UNSIGNED_SHORT,2*this.tb)};
l.prototype.Tk=function(){this.g.blendFunc(this.tb,this.Nb)};l.prototype.Zk=function(){var a,e,c,f=this.k.ja,d=this.k.wi;a=0;for(e=f.length;a<e;a++)c=f[a],a===d&&c.Ld?(this.g.uniformMatrix4fv(c.Ld,!1,this.q),c.dd=!0):c.dd=!1;zb(this.q,this.k.tg)};l.prototype.Sk=function(){var a=this.g,e=this.k;this.Db?(e.kd===this.Db&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),e.kd=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,e.Bl),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,this.Db,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};l.prototype.Pk=function(){var a=this.g;0===this.tb?(a.clearColor(this.q[0],this.q[1],this.q[2],this.q[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.q[0],this.q[1],this.q[2],this.q[3]),a.clearColor(0,0,0,0),a.clear(this.g.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};l.prototype.Qk=function(){var a=this.g,e=this.k,c=e.ja[1];a.useProgram(c.Qe);
!c.dd&&c.Ld&&(a.uniformMatrix4fv(c.Ld,!1,e.tg),c.dd=!0);a.enableVertexAttribArray(c.pb);a.bindBuffer(a.ARRAY_BUFFER,e.kh);a.vertexAttribPointer(c.pb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.tb/4,this.Nb);c=e.le;a.useProgram(c.Qe);0<=c.pb&&(a.enableVertexAttribArray(c.pb),a.bindBuffer(a.ARRAY_BUFFER,e.We[e.hc]),a.vertexAttribPointer(c.pb,2,a.FLOAT,!1,0,0));0<=c.Kc&&(a.enableVertexAttribArray(c.Kc),a.bindBuffer(a.ARRAY_BUFFER,e.Se[e.hc]),a.vertexAttribPointer(c.Kc,2,a.FLOAT,!1,0,0))};l.prototype.Vk=
function(){var a=this.g,e=this.k,c=e.ja[this.tb];e.wi=this.tb;e.le=c;a.useProgram(c.Qe);!c.dd&&c.Ld&&(a.uniformMatrix4fv(c.Ld,!1,e.tg),c.dd=!0);c.Md&&a.uniform1f(c.Md,e.vi);0<=c.pb&&(a.enableVertexAttribArray(c.pb),a.bindBuffer(a.ARRAY_BUFFER,e.We[e.hc]),a.vertexAttribPointer(c.pb,2,a.FLOAT,!1,0,0));0<=c.Kc&&(a.enableVertexAttribArray(c.Kc),a.bindBuffer(a.ARRAY_BUFFER,e.Se[e.hc]),a.vertexAttribPointer(c.Kc,2,a.FLOAT,!1,0,0))};l.prototype.Wk=function(){var a,e,c=this.k.le,f=this.g;c.Fe&&this.k.kd!==
this.Db&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this.Db),this.k.kd=this.Db,f.activeTexture(f.TEXTURE0));c.$g&&f.uniform1f(c.$g,this.q[0]);c.Zg&&f.uniform1f(c.Zg,this.q[1]);c.nd&&f.uniform2f(c.nd,this.q[2],this.q[3]);c.md&&f.uniform2f(c.md,this.q[4],this.q[5]);c.Yg&&f.uniform1f(c.Yg,this.q[6]);c.ah&&f.uniform1f(c.ah,Ca()/1E3);if(c.n.length)for(a=0,e=c.n.length;a<e;a++)f.uniform1f(c.n[a][1],this.Dh[a])};h.prototype.Bb=function(){this.fc===this.xc.length&&this.xc.push(new l(0,this));
return this.xc[this.fc++]};h.prototype.Bc=function(){if(0!==this.fc&&!this.g.isContextLost()){var a=this.g;0<this.lh&&(a.bindBuffer(a.ARRAY_BUFFER,this.kh),a.bufferData(a.ARRAY_BUFFER,this.Gm.subarray(0,this.lh),a.STREAM_DRAW),e&&0<=e.pb&&"<point>"===e.name&&a.vertexAttribPointer(e.pb,4,a.FLOAT,!1,0,0));if(0<this.$b){var e=this.le;a.bindBuffer(a.ARRAY_BUFFER,this.We[this.hc]);a.bufferData(a.ARRAY_BUFFER,this.Sh.subarray(0,this.$b),a.STREAM_DRAW);e&&0<=e.pb&&"<point>"!==e.name&&a.vertexAttribPointer(e.pb,
2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Se[this.hc]);a.bufferData(a.ARRAY_BUFFER,this.Hh.subarray(0,this.$b),a.STREAM_DRAW);e&&0<=e.Kc&&"<point>"!==e.name&&a.vertexAttribPointer(e.Kc,2,a.FLOAT,!1,0,0)}for(var c,a=0,e=this.fc;a<e;a++)switch(c=this.xc[a],c.type){case 1:c.Rk();break;case 2:c.Xk();break;case 3:c.Uk();break;case 4:c.Tk();break;case 5:c.Zk();break;case 6:c.Sk();break;case 7:c.Pk();break;case 8:c.Qk();break;case 9:c.Vk();break;case 10:c.Wk();break;case 11:c.Yk()}this.lh=this.$b=
this.fc=0;this.Sa=!1;this.hc++;4<=this.hc&&(this.hc=0)}};h.prototype.sd=function(a){if(a!==this.kj){var e=this.Bb();e.type=3;this.kj=e.Cj=a;this.Sa=!1}};h.prototype.Wa=function(a){if(a!==this.Ic){var e=this.Bb();e.type=2;this.Ic=e.Db=a;this.Sa=!1}};h.prototype.Oc=function(a,e){if(a!==this.lj||e!==this.ij){var c=this.Bb();c.type=4;c.tb=a;c.Nb=e;this.lj=a;this.ij=e;this.Sa=!1}};h.prototype.Sj=function(){this.Oc(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};h.prototype.Nf=function(a,e,c,f,d,m,b,q){15992<=
this.$b&&this.Bc();var s=this.$b,t=this.Sh,u=this.Hh;if(this.Sa)this.xc[this.fc-1].Nb+=6;else{var p=this.Bb();p.type=1;p.tb=3*(s/4);p.Nb=6;this.Sa=!0}t[s]=a;u[s++]=0;t[s]=e;u[s++]=0;t[s]=c;u[s++]=1;t[s]=f;u[s++]=0;t[s]=d;u[s++]=1;t[s]=m;u[s++]=1;t[s]=b;u[s++]=0;t[s]=q;u[s++]=1;this.$b=s};h.prototype.Tb=function(a,e,c,f,d,m,b,q,s){15992<=this.$b&&this.Bc();var t=this.$b,u=this.Sh,p=this.Hh;if(this.Sa)this.xc[this.fc-1].Nb+=6;else{var v=this.Bb();v.type=1;v.tb=3*(t/4);v.Nb=6;this.Sa=!0}var v=s.left,
w=s.top,l=s.right;s=s.bottom;u[t]=a;p[t++]=v;u[t]=e;p[t++]=w;u[t]=c;p[t++]=l;u[t]=f;p[t++]=w;u[t]=d;p[t++]=l;u[t]=m;p[t++]=s;u[t]=b;p[t++]=v;u[t]=q;p[t++]=s;this.$b=t};h.prototype.Xb=function(a){if(this.ze!==a){if(!this.ja[a]){if(0===this.ze)return;a=0}var e=this.Bb();e.type=9;this.ze=e.tb=a;this.Sa=!1}};h.prototype.Le=function(a){a=this.ja[a];return!(!a.nd&&!a.md)};h.prototype.nh=function(a){a=this.ja[a];return!!(a.nd||a.md||a.ti)};h.prototype.Lm=function(a){a=this.ja[a];return 0!==a.yg||0!==a.zg};
h.prototype.Pl=function(a){return this.ja[a].yg};h.prototype.Ql=function(a){return this.ja[a].zg};h.prototype.Rl=function(a,e){return this.ja[a].n[e][2]};h.prototype.Lf=function(a){return this.ja[a].ci};h.prototype.Vd=function(a,e,c,f,d,m,b,q,s){var t=this.ja[this.ze];if(t.$g||t.Zg||t.ah||t.Fe||t.nd||t.md||t.Yg||s.length){var u=this.Bb();u.type=10;u.q?zb(this.qb,u.q):u.q=Y();u.q[0]=e;u.q[1]=c;u.q[2]=f;u.q[3]=d;u.q[4]=m;u.q[5]=b;u.q[6]=q;u.Db=t.Fe?a:null;if(s.length)for(u.Dh.length=s.length,a=0,e=
s.length;a<e;a++)u.Dh[a]=s[a];this.Sa=!1}};h.prototype.clear=function(a,e,c,f){var d=this.Bb();d.type=7;d.tb=0;d.q||(d.q=Y());d.q[0]=a;d.q[1]=e;d.q[2]=c;d.q[3]=f;this.Sa=!1};h.prototype.clearRect=function(a,d,c,f){var k=this.Bb();k.type=7;k.tb=1;k.q||(k.q=Y());k.q[0]=a;k.q[1]=d;k.q[2]=c;k.q[3]=f;this.Sa=!1};h.prototype.Km=function(){this.Bc();this.g.flush()};var g=[],d={};h.prototype.Ef=function(a,e,c,f){e=!!e;c=!!c;var k=a.src+","+e+","+c+(e?",undefined":""),m=null;if("undefined"!==typeof a.src&&
d.hasOwnProperty(k))return m=d[k],m.Ye++,m;this.Bc();var b=this.g,q=ea(a.width)&&ea(a.height),m=b.createTexture();b.bindTexture(b.TEXTURE_2D,m);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var s=b.RGBA,t=b.RGBA,u=b.UNSIGNED_BYTE;if(f&&!this.sf)switch(f){case 1:t=s=b.RGB;break;case 2:u=b.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=b.UNSIGNED_SHORT_5_5_5_1;break;case 4:t=s=b.RGB,u=b.UNSIGNED_SHORT_5_6_5}!q&&e?(f=document.createElement("canvas"),f.width=fa(a.width),f.height=fa(a.height),f.getContext("2d").drawImage(a,
0,0,a.width,a.height,0,0,f.width,f.height),b.texImage2D(b.TEXTURE_2D,0,s,t,u,f)):b.texImage2D(b.TEXTURE_2D,0,s,t,u,a);e?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));c?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),q?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR),
b.generateMipmap(b.TEXTURE_2D)):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST));b.bindTexture(b.TEXTURE_2D,null);this.Ic=null;m.he=a.width;m.ge=a.height;m.Ye=1;m.mi=k;g.push(m);return d[k]=m};h.prototype.gc=function(a,d,c,f){this.Bc();var k=this.g;this.sf&&(f=!1);var m=k.createTexture();k.bindTexture(k.TEXTURE_2D,m);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,a,d,0,k.RGBA,
f?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,c?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,c?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.Ic=null;m.he=a;m.ge=d;g.push(m);return m};h.prototype.jn=function(a,d,c){this.Bc();var f=this.g;this.sf&&(c=!1);f.bindTexture(f.TEXTURE_2D,d);f.texImage2D(f.TEXTURE_2D,
0,f.RGBA,f.RGBA,c?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,a);f.bindTexture(f.TEXTURE_2D,null);this.Ic=null};h.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ye&&1<a.Ye?a.Ye--:(this.Bc(),a===this.Ic&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.Ic=null),a===this.kd&&(this.g.activeTexture(this.g.TEXTURE1),this.g.bindTexture(this.g.TEXTURE_2D,null),this.g.activeTexture(this.g.TEXTURE0),this.kd=null),T(g,a),"undefined"!==typeof a.mi&&delete d[a.mi],this.g.deleteTexture(a)))};h.prototype.Wb=
function(a){if(a!==this.Nj){var d=this.Bb();d.type=6;this.Nj=d.Db=a;this.Sa=!1}};La=h})();
(function(){function h(b){if(b&&(b.getContext||b.dc)&&!b.c2runtime){b.c2runtime=this;var a=this;this.aj=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk);this.vm=!this.aj&&"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.hd=!!b.dc;this.pm="undefined"!==typeof window.AppMobi||this.hd;if(this.mc=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),
CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)});this.Ob=this.hd||this.mc;this.bj=/tizen/i.test(navigator.userAgent);this.$i=/android/i.test(navigator.userAgent)&&!this.bj;this.sf=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.gj=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.fj=/ipad/i.test(navigator.userAgent);this.xm=this.gj||this.fj;this.Og=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);
this.nm=/amazonwebappplatform/i.test(navigator.userAgent);this.tm=/firefox/i.test(navigator.userAgent);this.Gc="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.cj=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.dj=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.qm=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.om=this.$i&&!this.Og&&!this.tm&&!this.nm&&!this.Ob;this.devicePixelRatio=
1;this.Fc=this.vm||this.aj||this.pm||this.mc||this.$i||this.xm||this.dj||this.qm||this.bj;this.Fc||(this.Fc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Gc||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Gc=!0);this.rm="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=b;this.pi=document.getElementById("c2canvasdiv");this.L=
this.k=this.g=null;this.Cg="";this.kf=!1;this.Aj=this.Bj=0;this.canvas.oncontextmenu=function(b){b.preventDefault&&b.preventDefault();return!1};this.canvas.onselectstart=function(b){b.preventDefault&&b.preventDefault();return!1};this.hd&&(window.c2runtime=this);this.Gc&&(window.Eo=function(b){b.preventDefault();return!1},window.Fo=function(b){b.preventDefault();return!1},require("nw.gui").App.clearCache());this.width=b.width;this.height=b.height;this.F=this.width;this.D=this.height;this.bf=this.width;
this.$e=this.height;this.Be=window.innerWidth;this.Ae=window.innerHeight;this.N=!0;this.we=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.aa=[];this.Vg={};this.Ab=[];this.xg={};this.ad=[];this.tc=[];this.$f=[];this.Ak=[];this.Bk=[];this.Hb=new I;this.Pg=!1;this.nc=0;this.Rg=!1;this.Pa=[];this.oc=this.Ca=this.Cf=this.Ch="";this.Re=this.Vj=!1;this.rg=this.Ge=this.Ac=this.Ed=0;this.Te=1;this.Jd=new Da;this.xf=0;this.sj=!0;this.Hf=this.mf=this.hf=this.qc=
this.Ce=this.Bg=0;this.pg=null;this.yi=[];this.wg=[];this.ff=-1;this.bh=[[]];this.Nh=this.Gf=0;this.ph(null);this.ne=this.xj=this.Ie=0;this.Uf=[];this.Yf=this.Of=0;this.wf=!0;this.Ff=0;this.ve=!1;this.Xm=0;this.hm=!1;this.Tg=0;this.rh=!1;this.fh=new I;this.zj=new I;this.Nm=[];new Fa([]);new Fa([]);this.Ad=[];this.Xe={};this.Dd={};this.zd={};this.ae={};this.ki={};this.oj=this.Bf=this.Ta=this.jb=this.nj=this.Af=this.S=null;this.$d=this.Sg=!1;this.Dg=[null,null];this.cd=0;this.qd={};this.Sf=this.Kd=
null;this.load();this.devicePixelRatio=(this.jd=!this.Ob&&this.gn&&!this.om)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.xa();var c,f=this.gg&&!(this.Gc||this.cj||this.dj);0<this.hb&&this.setSize(window.innerWidth,window.innerHeight,!0);try{!this.al||!this.mc&&this.Ob||(c={alpha:f,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.g=b.getContext("webgl",c)||b.getContext("experimental-webgl",c))}catch(d){}if(this.g){this.Ob||
(this.pa=document.createElement("canvas"),jQuery(this.pa).appendTo(this.canvas.parentNode),this.pa.oncontextmenu=H(!1),this.pa.onselectstart=H(!1),this.pa.width=this.bf,this.pa.height=this.$e,jQuery(this.pa).css({width:this.bf+"px",height:this.$e+"px"}),this.Ij(),this.jh=this.pa.getContext("2d"));this.k=new La(this.g,this.Fc);this.k.Wd(b.width,b.height);this.L=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Bm();console.log("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.k.Wi();a.k.Wd(a.k.width,a.k.height,!0);a.jb=null;a.Ta=null;a.Dg[0]=null;a.Dg[1]=null;a.Cm();a.N=!0;console.log("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);var p,e,w,k,m,l;b=0;for(c=this.i.length;b<c;b++)for(e=this.i[b],f=0,p=e.r.length;f<p;f++)k=e.r[f],k.ta=this.k.Ig(k.id),this.$d=this.$d||this.k.Le(k.ta);b=0;for(c=this.Ab.length;b<c;b++){m=this.Ab[b];f=0;for(p=m.r.length;f<
p;f++)k=m.r[f],k.ta=this.k.Ig(k.id);f=0;for(p=m.H.length;f<p;f++)for(l=m.H[f],e=0,w=l.r.length;e<w;e++)k=l.r[e],k.ta=this.k.Ig(k.id),this.$d=this.$d||this.k.Le(k.ta)}}else{if(0<this.hb&&this.hd){this.canvas=null;document.oncontextmenu=H(!1);document.onselectstart=H(!1);this.L=AppMobi.canvas.getContext("2d");try{this.L.samplingMode=this.J?"smooth":"sharp",this.L.globalScale=1,this.L.HTML5CompatibilityMode=!0,this.L.imageSmoothingEnabled=this.J}catch(g){}0!==this.width&&0!==this.height&&(this.L.width=
this.width,this.L.height=this.height)}this.L||(c=this.mc?{antialias:!!this.J,alpha:f}:{alpha:f},this.L=b.getContext("2d",c),this.L.webkitImageSmoothingEnabled=this.J,this.L.mozImageSmoothingEnabled=this.J,this.L.msImageSmoothingEnabled=this.J,this.L.imageSmoothingEnabled=this.J);this.jh=this.pa=null}this.Xf=function(){a.ud()};window==window.top||this.Ob||this.cj||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},
!0));"undefined"!==typeof cr_is_preview&&(this.mc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(J("Reloading for continuous preview"),this.Cf="__c2_continuouspreview",this.Re=!0),this.Fm&&!this.Fc&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));0===this.hb&&this.jd&&1<this.devicePixelRatio&&this.setSize(this.ma,this.la,!0);this.ek();this.go();this.Y={}}}function n(b){b.target.result.createObjectStore("saves",
{keyPath:"slot"})}function l(b,a,c,f){var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=n;d.onerror=f;d.onsuccess=function(p){p=p.target.result;p.onerror=f;p.transaction(["saves"],"readwrite").objectStore("saves").put({slot:b,data:a}).onsuccess=c}}function g(b,a,c){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=n;f.onerror=c;f.onsuccess=function(f){f=f.target.result;f.onerror=c;var p=f.transaction(["saves"]).objectStore("saves").get(b);p.onsuccess=function(){p.result?a(p.result.data):
a(null)}}}function d(){J("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function a(b){var a,c={};for(a in b)!b.hasOwnProperty(a)||b[a]instanceof I||b[a]&&"undefined"!==typeof b[a].Ao||(c[a]=b[a]);return c}h.prototype.setSize=function(b,a,c){var f=0,d=0,p=0,e=0,e=0;if(this.Be!==b||this.Ae!==a||c){this.Be=b;this.Ae=a;var k=this.hb,m=document.mozFullScreen||document.webkitIsFullScreen||
!!document.msFullscreenElement||document.fullScreen||this.ve;if(m||0!==this.hb||c)m&&0<this.cd&&(k=this.cd),4<=k?(c=this.ma/this.la,b/a>c?(p=a*c,5===k?(e=p/this.ma,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),p=this.ma*e,e*=this.la,f=(b-p)/2,d=(a-e)/2,b=p,a=e):(f=(b-p)/2,b=p)):(e=b/c,5===k?(e/=this.la,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),p=this.ma*e,e*=this.la,f=(b-p)/2,d=(a-e)/2,b=p):d=(a-e)/2,a=e),m&&!this.Gc&&(d=f=0),f=Math.floor(f),d=Math.floor(d),b=Math.floor(b),a=Math.floor(a)):this.Gc&&
this.ve&&0===this.Hi&&(f=Math.floor((b-this.ma)/2),d=Math.floor((a-this.la)/2),b=this.ma,a=this.la),2>k&&(this.fe=this.devicePixelRatio),this.jd&&this.fj&&1<this.devicePixelRatio&&(1024<=b&&(b=1023),1024<=a&&(a=1023)),m=this.devicePixelRatio,this.bf=b,this.$e=a,this.width=Math.round(b*m),this.height=Math.round(a*m),this.N=!0,this.kk?(this.F=this.width,this.D=this.height,this.ob=!0):this.width<this.ma&&this.height<this.la||1===k?(this.F=this.width,this.D=this.height,this.ob=!0):(this.F=this.ma,this.D=
this.la,this.ob=!1,2===k?(c=this.ma/this.la,k=this.Be/this.Ae,k<c?this.F=this.D*k:k>c&&(this.D=this.F/k)):3===k&&(c=this.ma/this.la,k=this.Be/this.Ae,k>c?this.F=this.D*k:k<c&&(this.D=this.F/k))),this.pi&&!this.Ob&&(jQuery(this.pi).css({width:b+"px",height:a+"px","margin-left":f,"margin-top":d}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:b+"px",height:a+"px"})),this.canvas&&(this.canvas.width=Math.round(b*m),this.canvas.height=Math.round(a*m),this.jd&&jQuery(this.canvas).css({width:b+
"px",height:a+"px"})),this.pa&&(this.pa.width=b,this.pa.height=a,jQuery(this.pa).css({width:b+"px",height:a+"px"})),this.k&&this.k.Wd(Math.round(b*m),Math.round(a*m)),this.hd&&this.L&&(this.L.width=b,this.L.height=a),this.L&&(this.L.webkitImageSmoothingEnabled=this.J,this.L.mozImageSmoothingEnabled=this.J,this.L.msImageSmoothingEnabled=this.J,this.L.imageSmoothingEnabled=this.J),this.ek()}};h.prototype.ek=function(){if(this.Ck&&0!==this.ih){var b="portrait";2===this.ih&&(b="landscape");screen.lockOrientation?
screen.lockOrientation(b):screen.webkitLockOrientation?screen.webkitLockOrientation(b):screen.mozLockOrientation?screen.mozLockOrientation(b):screen.msLockOrientation&&screen.msLockOrientation(b)}};h.prototype.Bm=function(){this.Sg=!0;var b,a,c;b=0;for(a=this.i.length;b<a;b++)c=this.i[b],c.Jf&&c.Jf()};h.prototype.Cm=function(){this.Sg=!1;var b,a,c;b=0;for(a=this.i.length;b<a;b++)c=this.i[b],c.hh&&c.hh()};h.prototype.Ij=function(){if(!this.Ob){var b=document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||document.msFullscreenElement||this.ve?jQuery(this.canvas).offset():jQuery(this.canvas).position();b.position="absolute";jQuery(this.pa).css(b)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;h.prototype.setSuspended=function(b){var a;if(b&&!this.we)for(J("[Construct 2] Suspending"),this.we=!0,0!==this.Of&&e&&e(this.Of),0!==this.Yf&&clearTimeout(this.Yf),b=0,a=this.Uf.length;b<
a;b++)this.Uf[b](!0);else if(!b&&this.we){J("[Construct 2] Resuming");this.we=!1;this.xf=Ca();this.Ce=Ca();b=this.Ge=this.mf=0;for(a=this.Uf.length;b<a;b++)this.Uf[b](!1);this.ud()}};h.prototype.load=function(){var b=Db();this.name=b[0];this.Gi=b[1];this.hb=b[11];this.Hi=b[11];this.ma=b[9];this.la=b[10];this.Dj=this.ma/2;this.Ej=this.la/2;this.Ob&&(4<=b[11]||0===b[11])&&(J("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Hi=
this.hb=3);this.Qh=b[17];this.Ee=b[18];0===this.Ee&&(this.Kd=new Image,this.Kd.src="loading-logo.png");this.Ie=b[20];this.Yb=new Z(this);var a,c,f,d,p,e,k,m,l;a=0;for(c=b[2].length;a<c;a++)k=b[2][a],Ma(k),l=new k[0](this),l.Fh=k[1],l.Hc=k[2],l.uj=k[9],l.za&&l.za(),this.plugins.push(l);b=Db();a=0;for(c=b[3].length;a<c;a++){k=b[3][a];p=k[1];l=null;f=0;for(d=this.plugins.length;f<d;f++)if(this.plugins[f]instanceof p){l=this.plugins[f];break}var g=new l.Tc(l);g.name=k[0];g.u=k[2];g.Ng=k[3].slice(0);g.hn=
k[3].length;g.Dk=k[4];g.Dl=k[5];g.G=k[11];g.u?(g.tj=[],g.Lb=this.ne++,g.Q=null):(g.tj=null,g.Lb=-1,g.Q=[]);g.jf=null;g.Gd=null;g.Ci=null;g.zb=!1;g.Ga=null;k[6]?(g.Ih=k[6][0],g.Jh=k[6][1],g.Kh=k[6][2]):(g.Ih=null,g.Jh=0,g.Kh=0);g.Ka=k[7]?k[7]:null;g.index=a;g.d=[];g.df=[];g.Rc=[new Na(g)];g.ic=0;g.Ib=null;g.Yd=!0;g.ag=Oa;g.Hl=Pa;g.Ol=Qa;g.U=Ra;g.Ne=Sa;g.oh=Ta;g.Td=Ua;g.nf=Va;g.Eg=Wa;g.Gg=Xa;g.Wc=Ya;g.Ni=Za;g.qi=new Ga(this.ma,this.la);g.di=!0;g.ei=!1;g.Y={};g.toString=$a;g.aa=[];f=0;for(d=k[8].length;f<
d;f++){m=k[8][f];var h=m[1],n=null;p=0;for(e=this.aa.length;p<e;p++)if(this.aa[p]instanceof h){n=this.aa[p];break}n||(n=new h(this),n.vj=[],n.eh=new I,n.za&&n.za(),this.aa.push(n));-1===n.vj.indexOf(g)&&n.vj.push(g);p=new n.Tc(n,g);p.name=m[0];p.G=m[2];p.za();g.aa.push(p)}g.global=k[9];g.Qg=k[10];g.r=[];f=0;for(d=k[12].length;f<d;f++)g.r.push({id:k[12][f][0],name:k[12][f][1],ta:-1,ac:!0,index:f});g.Jo=k[13];this.Qh&&!g.u&&!g.Qg&&l.Hc||g.za();g.name&&(this.types[g.name]=g);this.i.push(g);l.Fh&&(f=
new l.Eb(g),f.uid=this.Ie++,f.Lj=this.xj++,f.ed=0,f.qe=ab,f.toString=bb,f.Aa=k[14],f.za(),g.d.push(f),this.qd[f.uid.toString()]=f)}a=0;for(c=b[4].length;a<c;a++)for(p=b[4][a],e=this.i[p[0]],f=1,d=p.length;f<d;f++)k=this.i[p[f]],k.Q.push(e),e.tj.push(k);a=0;for(c=b[23].length;a<c;a++){p=b[23][a];e=[];f=0;for(d=p.length;f<d;f++)e.push(this.i[p[f]]);f=0;for(d=e.length;f<d;f++)e[f].zb=!0,e[f].Ga=e}if(0<this.ne)for(a=0,c=this.i.length;a<c;a++)if(k=this.i[a],!k.u&&k.Q.length){k.jf=Array(this.ne);k.Gd=Array(this.ne);
k.Ci=Array(this.ne);g=[];f=n=h=m=0;for(d=k.Q.length;f<d;f++)for(l=k.Q[f],k.jf[l.Lb]=m,m+=l.hn,k.Gd[l.Lb]=h,h+=l.Dk,k.Ci[l.Lb]=n,n+=l.Dl,p=0,e=l.r.length;p<e;p++)g.push(oa({},l.r[p]));k.r=g.concat(k.r);f=0;for(d=k.r.length;f<d;f++)k.r[f].index=f}a=0;for(c=b[5].length;a<c;a++)k=b[5][a],f=new cb(this,k),this.Vg[f.name]=f,this.Ab.push(f);a=0;for(c=b[6].length;a<c;a++)k=b[6][a],f=new db(this,k),this.xg[f.name]=f,this.ad.push(f);a=0;for(c=this.ad.length;a<c;a++)this.ad[a].Z();a=0;for(c=this.$f.length;a<
c;a++)this.$f[a].Z();this.$f.length=0;this.Sb=b[8];this.fe=1;this.al=b[12];this.J=b[13];this.gg=b[14];this.gn=b[16];this.ih=b[19];this.Ck=0<this.ih;this.Fm=b[21];this.ob=this.kk=b[22];this.Tf=Date.now()};h.prototype.Cl=function(b){var a,c;a=0;for(c=this.tc.length;a<c;a++)if(this.tc[a].Kk===b)return this.tc[a];return null};h.prototype.fi=function(){var b=0,a=0,c=!0,f,d;f=0;for(d=this.tc.length;f<d;f++){var p=this.tc[f].si;if(!p||0>=p)p=5E4;b+=p;this.tc[f].complete||this.tc[f].loaded?a+=p:c=!1}this.rd=
0==b?0:a/b;return c};h.prototype.go=function(){if(this.L||this.k){var b=this.L||this.jh;this.pa&&this.Ij();this.rd=0;this.mj=-1;if(this.fi())this.fm();else{var a=Date.now()-this.Tf;if(b){var c=this.width,f=this.height,d=this.devicePixelRatio;this.pa&&(c=this.bf,f=this.$e,d=1);if(3!==this.Ee&&500<=a&&this.mj!=this.rd){b.clearRect(0,0,c,f);var a=c/2,f=f/2,c=0===this.Ee&&this.Kd.complete,p=40*d,e=0,k=80*d,m;c&&(k=this.Kd.width*d,m=this.Kd.height*d,p=k/2,e=m/2,b.drawImage(this.Kd,N(a-p),N(f-e),k,m));
1>=this.Ee?(a=N(a-p)+0.5,f=N(f+(e+(c?12*d:0)))+0.5,b.fillStyle="DodgerBlue",b.fillRect(a,f,Math.floor(k*this.rd),6*d),b.strokeStyle="black",b.strokeRect(a,f,k,6*d),b.strokeStyle="white",b.strokeRect(a-1*d,f-1*d,k+2*d,8*d)):2===this.Ee&&(b.font="12pt Arial",b.fillStyle="#999",b.Io="middle",d=Math.round(100*this.rd)+"%",c=b.measureText?b.measureText(d):null,b.fillText(d,a-(c?c.width:0)/2,f))}this.mj=this.rd}setTimeout(function(b){return function(){b.go()}}(this),100)}}};h.prototype.fm=function(){this.pa&&
(this.canvas.parentNode.removeChild(this.pa),this.pa=this.jh=null);this.Tf=Date.now();this.Ce=Ca();var b,a,c;if(this.Qh)for(b=0,a=this.i.length;b<a;b++)c=this.i[b],c.u||c.Qg||!c.qa.Hc||c.za();else this.wf=!1;b=0;for(a=this.Ab.length;b<a;b++)this.Ab[b].Lk();2<=this.hb&&(b=this.ma/this.la,a=this.width/this.height,this.fe=2!==this.hb&&a>b||2===this.hb&&a<b?this.height/this.la:this.width/this.ma);this.Gi?this.Vg[this.Gi].Gh():this.Ab[0].Gh();this.Qh||(this.Ff=1,this.trigger(Z.prototype.R.Xh,null));navigator.splashscreen&&
navigator.splashscreen.hide&&navigator.splashscreen.hide();this.ud();this.hd&&AppMobi.webview.execute("onGameReady();")};var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;h.prototype.ud=function(){if(this.S){var b=Ca();if(this.hm&&this.rh&&29>b-this.Tg)this.rh=!1,this.Tg=b,c?this.Of=c(this.Xf,this.canvas):this.Yf=setTimeout(this.Xf,this.Fc?1:16);else{this.rh=!0;this.Tg=b;var a=this.hb,
f=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement;(f||this.ve)&&0<this.cd&&(a=this.cd);if(0<a&&!this.gj){var a=window.innerWidth,d=window.innerHeight;this.Be===a&&this.Ae===d||this.setSize(a,d)}this.Ob||(f?(this.kf||(this.Cg=jQuery(this.canvas).css("margin")||"0",this.kf=!0),this.Og||this.Gc||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-
this.height/this.devicePixelRatio)/2)+"px"})):this.kf?(this.Og||this.Gc||jQuery(this.canvas).css("margin",this.Cg),this.Cg="",this.kf=!1,0===this.hb&&this.setSize(Math.round(this.Bj/this.devicePixelRatio),Math.round(this.Aj/this.devicePixelRatio),!0)):(this.Bj=this.width,this.Aj=this.height));this.wf&&(f=this.fi(),this.Ff=this.rd,f&&(this.wf=!1,this.rd=1,this.trigger(Z.prototype.R.Xh,null)));this.Am();!this.N&&!this.mc||this.Sg||this.Re||(this.N=!1,this.k?this.nb():this.Jb(),this.Sf&&(this.canvas&&
this.canvas.toDataURL&&(this.canvas.toDataURL(this.Sf[0],this.Sf[1]),this.trigger(Z.prototype.R.qk,null)),this.Sf=null));this.Do||(this.qc++,this.hf++,this.mf++);this.Ge+=Ca()-b;this.we||(c?this.Of=c(this.Xf,this.canvas):this.Yf=setTimeout(this.Xf,this.Fc?1:16))}}};h.prototype.Am=function(){var b,a,c,f,d,p,e,k,m;b=Ca();1E3<=b-this.Ce&&(this.Ce+=1E3,this.Bg=this.mf,this.mf=0,this.rg=this.Ge,this.Ge=0);this.sj&&(0!==this.xf&&(a=b-this.xf,0!==a||this.rm?(this.Ac=a/1E3,0.5<this.Ac?this.Ac=0:0.1<this.Ac&&
(this.Ac=0.1)):(10<=this.Lo&&(this.sj=!1),this.Ac=1/60)),this.xf=b);this.Ed=this.Ac*this.Te;this.Jd.add(this.Ed);b=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.ve;2<=this.hb||b&&0<this.cd?(a=this.ma/this.la,c=this.width/this.height,f=this.hb,b&&0<this.cd&&(f=this.cd),this.fe=2!==f&&c>a||2===f&&c<a?this.height/this.la:this.width/this.ma,this.S&&(this.S.Qj(this.S.scrollX),this.S.Rj(this.S.scrollY))):this.fe=this.jd?this.devicePixelRatio:
1;this.xa();this.nc++;this.Yb.Pm();this.nc--;this.xa();this.nc++;b=0;for(a=this.i.length;b<a;b++)if(e=this.i[b],!e.u&&(e.aa.length||e.Q.length))for(c=0,f=e.d.length;c<f;c++)for(k=e.d[c],d=0,p=k.B.length;d<p;d++)k.B[d].ud();b=0;for(a=this.i.length;b<a;b++)if(e=this.i[b],!e.u&&(e.aa.length||e.Q.length))for(c=0,f=e.d.length;c<f;c++)for(k=e.d[c],d=0,p=k.B.length;d<p;d++)m=k.B[d],m.Jm&&m.Jm();c=this.fh.Ue();b=0;for(a=c.length;b<a;b++)c[b].ud();this.nc--;this.im();for(b=0;this.pg&&10>b++;)this.Ai(this.pg);
b=0;for(a=this.ad.length;b<a;b++)this.ad[b].Jg=!1;this.S.ef&&this.S.ef.ia();this.Nm.length=0;this.nc++;b=0;for(a=this.i.length;b<a;b++)if(e=this.i[b],!e.u&&(e.aa.length||e.Q.length))for(c=0,f=e.d.length;c<f;c++)for(k=e.d[c],d=0,p=k.B.length;d<p;d++)m=k.B[d],m.$j&&m.$j();c=this.zj.Ue();b=0;for(a=c.length;b<a;b++)c[b].$j();this.nc--};h.prototype.Ai=function(b){var a=this.S;this.S.Ym();var c,f,d,e,k,m,g;if(this.k)for(c=0,f=this.i.length;c<f;c++)k=this.i[c],k.u||!k.Ph||k.global&&0!==k.d.length||-1!==
b.te.indexOf(k)||k.Ph();a==b&&(this.Yb.eb.length=0);b.Gh();c=0;for(f=this.i.length;c<f;c++)if(k=this.i[c],k.global||k.qa.Fh)for(b=0,a=k.d.length;b<a;b++)if(m=k.d[b],m.gh&&m.gh(),m.B)for(d=0,e=m.B.length;d<e;d++)g=m.B[d],g.gh&&g.gh();this.N=!0;this.xa()};h.prototype.ak=function(b){this.fh.add(b)};h.prototype.Li=function(b){return b&&-1!==b.He?this.Ac*b.He:this.Ed};h.prototype.Jb=function(){this.S.Jb(this.L);this.hd&&this.L.present()};h.prototype.nb=function(){this.S.nb(this.k);this.k.Km()};h.prototype.Qi=
function(b){return this.qd[b.toString()]};h.prototype.yd=function(b){var a,c;if(!this.Hb.contains(b)){this.Hb.add(b);if(b.zb)for(a=0,c=b.siblings.length;a<c;a++)this.yd(b.siblings[a]);this.Pg&&this.Hb.wd.push(b);this.nc++;this.trigger(Object.getPrototypeOf(b.type.qa).R.sk,b);this.nc--}};h.prototype.xa=function(){var b,a,c,f,d,e,k,m,g,l;this.Pg=!0;f=0;for(e=this.Pa.length;f<e;f++)for(b=this.Pa[f],a=b.type,a.d.push(b),d=0,k=a.Q.length;d<k;d++)a.Q[d].d.push(b),a.Q[d].Yd=!0;this.Pa.length=0;e=this.Hb.Ue();
for(f=0;f<e.length;f++){b=e[f];a=b.type;c=a.d;d=0;for(k=this.yi.length;d<k;d++)this.yi[d](b);T(c,b);0===c.length&&(a.ei=!1);b.Ze&&a.qi.update(b,b.Ze,null);b.e&&(Q(b.e.d,b.ib()),b.e.fb=!0);d=0;for(k=a.Q.length;d<k;d++)T(a.Q[d].d,b),a.Q[d].Yd=!0;if(b.B)for(d=0,k=b.B.length;d<k;d++)c=b.B[d],c.Je&&c.Je(),c.Bd.eh.remove(b);this.fh.remove(b);this.zj.remove(b);d=0;for(k=this.Yb.eb.length;d<k;d++)if(g=this.Yb.eb[d],g.Xa.hasOwnProperty(a.index)&&T(g.Xa[a.index].gd,b),!a.u)for(c=0,m=a.Q.length;c<m;c++)l=a.Q[c],
g.Xa.hasOwnProperty(l.index)&&T(g.Xa[l.index].gd,b);b.Je&&b.Je();this.qd.hasOwnProperty(b.uid.toString())&&delete this.qd[b.uid.toString()];this.Hf--;64>a.df.length&&a.df.push(b);a.Yd=!0}this.Hb.Ec()||(this.N=!0);this.Hb.clear();this.Pg=!1};var f=[];h.prototype.Zc=function(b,a,c,d,e,p){var k,m,g,l;if(!b)return null;var h=this.i[b[1]],n=h.qa.Hc;if(this.wf&&n&&!h.Qg||n&&!this.k&&11===b[0][11])return null;var z=a;n||(a=null);var r;h.df.length?(r=h.df.pop(),r.rb=!0,h.qa.Eb.call(r,h)):(r=new h.qa.Eb(h),
r.rb=!1);r.uid=c&&!p?b[2]:this.Ie++;this.qd[r.uid.toString()]=r;r.Lj=this.xj++;r.ed=h.d.length;k=0;for(m=this.Pa.length;k<m;++k)this.Pa[k].type===h&&r.ed++;r.qe=ab;g=b[3];if(r.rb)Ba(r.Y);else{r.Y={};if("undefined"!==typeof cr_is_preview)for(r.Zi=[],r.Zi.length=g.length,k=0,m=g.length;k<m;k++)r.Zi[k]=g[k][1];r.ea=[];r.ea.length=g.length}k=0;for(m=g.length;k<m;k++)r.ea[k]=g[k][0];if(n){var x=b[0];r.x=ba(d)?x[0]:d;r.y=ba(e)?x[1]:e;r.z=x[2];r.width=x[3];r.height=x[4];r.depth=x[5];r.j=x[6];r.opacity=x[7];
r.Ha=x[8];r.Ia=x[9];r.Ea=x[10];k=x[11];!this.k&&h.r.length&&(r.Ea=k);r.je=Ha(r.Ea);this.g&&Ia(r,r.Ea,this.g);if(r.rb){k=0;for(m=x[12].length;k<m;k++)for(g=0,l=x[12][k].length;g<l;g++)r.W[k][g]=x[12][k][g];r.Da.set(0,0,0,0);r.Ze.set(0,0,-1,-1);r.yc.Rf(r.Da);r.jg.length=0}else{r.W=x[12].slice(0);k=0;for(m=r.W.length;k<m;k++)r.W[k]=x[12][k].slice(0);r.I=[];r.uc=[];r.uc.length=h.r.length;r.Da=new P(0,0,0,0);r.Ze=new P(0,0,-1,-1);r.yc=new na;r.jg=[];r.ra=eb;r.zo=fb;r.zc=gb;r.kb=hb;r.ib=ib}r.$m=!1;r.bn=
0;r.an=0;r.Zm=null;14===x.length&&(r.$m=!0,r.bn=x[13][0],r.an=x[13][1],r.Zm=x[13][2]);k=0;for(m=h.r.length;k<m;k++)r.uc[k]=!0;r.sc=jb;r.sc();r.jk=!!r.I.length;r.ig=!0;h.di=!0;r.visible=!0;r.He=-1;r.e=a;r.xd=a.d.length;"undefined"===typeof r.Gb&&(r.Gb=null);this.N=r.ie=!0}r.toString=bb;var y;k=f.length=0;for(m=h.Q.length;k<m;k++)f.push.apply(f,h.Q[k].aa);f.push.apply(f,h.aa);if(r.rb)for(k=0,m=f.length;k<m;k++){var E=f[k];y=r.B[k];y.rb=!0;E.Bd.Eb.call(y,E,r);x=b[4][k];g=0;for(l=x.length;g<l;g++)y.Aa[g]=
x[g];y.za();E.Bd.eh.add(r)}else for(r.B=[],k=0,m=f.length;k<m;k++)E=f[k],y=new E.Bd.Eb(E,r),y.rb=!1,y.Aa=b[4][k].slice(0),y.za(),r.B.push(y),E.Bd.eh.add(r);x=b[5];if(r.rb)for(k=0,m=x.length;k<m;k++)r.Aa[k]=x[k];else r.Aa=x.slice(0);this.Pa.push(r);a&&(a.d.push(r),1!==a.Rd||1!==a.Sd)&&(h.ei=!0);this.Hf++;if(h.zb){if(r.zb=!0,r.rb?r.siblings.length=0:r.siblings=[],!c&&!p){k=0;for(m=h.Ga.length;k<m;k++)if(h.Ga[k]!==h){if(!h.Ga[k].Ib)return null;r.siblings.push(this.Zc(h.Ga[k].Ib,z,!1,n?r.x:d,n?r.y:e,
!0))}k=0;for(m=r.siblings.length;k<m;k++)for(r.siblings[k].siblings.push(r),g=0;g<m;g++)k!==g&&r.siblings[k].siblings.push(r.siblings[g])}}else r.zb=!1,r.siblings=null;r.za();k=0;for(m=r.B.length;k<m;k++)r.B[k].Im&&r.B[k].Im();return r};h.prototype.Ll=function(b){var a,c;a=0;for(c=this.S.H.length;a<c;a++){var f=this.S.H[a];if(Ka(f.name,b))return f}return null};h.prototype.Ml=function(b){b=N(b);0>b&&(b=0);b>=this.S.H.length&&(b=this.S.H.length-1);return this.S.H[b]};h.prototype.qg=function(b){var a,
c;a=0;for(c=b.length;a<c;a++)b[a].U().da=!0};h.prototype.Ne=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].Ne()};h.prototype.oh=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].oh()};h.prototype.Td=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].Td()};new na;new P(0,0,0,0);h.prototype.fk=function(b,a){if(!a)return!1;var c,f,d,e,k;c=0;for(f=b.aa.length;c<f;c++)if(b.aa[c].Bd instanceof a)return!0;if(!b.u)for(c=0,f=b.Q.length;c<f;c++)for(k=b.Q[c],d=0,e=k.aa.length;d<e;d++)if(k.aa[d].Bd instanceof
a)return!0;return!1};h.prototype.gk=function(b){return this.fk(b,wb.Rn)};h.prototype.Oh=function(b){return this.fk(b,wb.Sn)};var k=[],m=-1;h.prototype.trigger=function(b,a,c){if(!this.S)return!1;var f=this.S.ef;if(!f)return!1;m++;m===k.length?k.push(new I):k[m].clear();b=this.ck(b,a,f,c);m--;return b};h.prototype.ck=function(b,a,c,f){var d=k[m];if(d.contains(c))return!1;d.add(c);var d=c.Vi.Ue(),e=!1,g,l,h;g=0;for(l=d.length;g<l;g++)d[g].mm()&&(h=this.ck(b,a,d[g].se,f),e=e||h);if(a)for(h=this.Mh(b,
a,a.type.name,c,f),e=e||h,g=0,l=a.type.Q.length;g<l;g++)h=this.Mh(b,a,a.type.Q[g].name,c,f),e=e||h;else h=this.Mh(b,a,"system",c,f),e=e||h;return e};h.prototype.Mh=function(b,a,c,f,d){var e,k=!1,m=!1,m="undefined"!==typeof d,g=(m?f.Ei:f.dk)[c];if(!g)return k;var l=null;f=0;for(e=g.length;f<e;f++)if(g[f].method==b){l=g[f].gf;break}if(!l)return k;b=m?l[d]:l;if(!b)return null;f=0;for(e=b.length;f<e;f++)d=b[f][0],m=b[f][1],m=this.Al(a,c,d,m),k=k||m;return k};h.prototype.Al=function(b,a,c,f){var d,e,k=
!1;this.Nh++;var g=this.Qa().yb;g&&this.Ne(g.Pc);var l=1<this.Nh;this.Ne(c.Pc);l&&this.Mm();var h=this.ph(c);h.yb=c;b&&(d=this.types[a].U(),d.da=!1,d.d.length=1,d.d[0]=b,this.types[a].Wc());b=!0;if(c.parent){a=h.Xj;for(d=c.parent;d;)a.push(d),d=d.parent;a.reverse();d=0;for(e=a.length;d<e;d++)if(!a[d].Rm()){b=!1;break}}b&&(this.hf++,c.Rb?c.Qm(f):c.ia(),k=k||h.ld);this.Hj();l&&this.Hm();this.Td(c.Pc);g&&this.Td(g.Pc);0!==this.nc||0!==m||this.Rg||this.Hb.Ec()&&!this.Pa.length||this.xa();this.Nh--;return k};
h.prototype.Gl=function(){var b=this.Qa();return b.yb.X[b.Fa]};h.prototype.Mm=function(){this.Gf++;this.Gf>=this.bh.length&&this.bh.push([])};h.prototype.Hm=function(){this.Gf--};h.prototype.Ki=function(){return this.bh[this.Gf]};h.prototype.ph=function(b){this.ff++;this.ff>=this.wg.length&&this.wg.push(new kb);var a=this.Qa();a.reset(b);return a};h.prototype.Hj=function(){this.ff--};h.prototype.Qa=function(){return this.wg[this.ff]};h.prototype.Mi=function(b,a){for(var c,f,d,e,k,m;a;){c=0;for(f=
a.ub.length;c<f;c++)if(m=a.ub[c],m instanceof lb&&Ka(b,m.name))return m;a=a.parent}c=0;for(f=this.ad.length;c<f;c++)for(k=this.ad[c],d=0,e=k.Cc.length;d<e;d++)if(m=k.Cc[d],m instanceof lb&&Ka(b,m.name))return m;return null};h.prototype.Oi=function(b){var a,c;a=0;for(c=this.Ab.length;a<c;a++)if(this.Ab[a].G===b)return this.Ab[a];return null};h.prototype.pf=function(b){var a,c;a=0;for(c=this.i.length;a<c;a++)if(this.i[a].G===b)return this.i[a];return null};h.prototype.Il=function(b){var a,c;a=0;for(c=
this.Ad.length;a<c;a++)if(this.Ad[a].G===b)return this.Ad[a];return null};h.prototype.im=function(){var b=this,a=this.Ch,c=this.oc,f=this.Cf,e=!1;this.Vj&&(e=!0,a="__c2_continuouspreview",this.Vj=!1);if(a.length){this.xa();c=this.Vm();if(window.indexedDB&&!this.mc)l(a,c,function(){J("Saved state to IndexedDB storage ("+c.length+" bytes)");b.oc=c;b.trigger(Z.prototype.R.eg,null);b.oc="";e&&d()},function(f){try{localStorage.setItem("__c2save_"+a,c),J("Saved state to WebStorage ("+c.length+" bytes)"),
b.oc=c,b.trigger(Z.prototype.R.eg,null),b.oc="",e&&d()}catch(k){J("Failed to save game state: "+f+"; "+k)}});else try{localStorage.setItem("__c2save_"+a,c),J("Saved state to WebStorage ("+c.length+" bytes)"),b.oc=c,this.trigger(Z.prototype.R.eg,null),b.oc="",e&&d()}catch(k){J("Error saving to WebStorage: "+k)}this.Ca=this.Cf=this.Ch=""}f.length&&(window.indexedDB&&!this.mc?g(f,function(a){a?(b.Ca=a,J("Loaded state from IndexedDB storage ("+b.Ca.length+" bytes)")):(b.Ca=localStorage.getItem("__c2save_"+
f)||"",J("Loaded state from WebStorage ("+b.Ca.length+" bytes)"));b.Re=!1;b.Ca.length||b.trigger(Z.prototype.R.dg,null)},function(){b.Ca=localStorage.getItem("__c2save_"+f)||"";J("Loaded state from WebStorage ("+b.Ca.length+" bytes)");b.Re=!1;b.Ca.length||b.trigger(Z.prototype.R.dg,null)}):(this.Ca=localStorage.getItem("__c2save_"+f)||"",J("Loaded state from WebStorage ("+this.Ca.length+" bytes)"),this.Re=!1,b.Ca.length||b.trigger(Z.prototype.R.dg,null)),this.Ch=this.Cf="");this.Ca.length&&(this.xa(),
this.zm(this.Ca),this.oc=this.Ca,this.trigger(Z.prototype.R.uk,null),this.Ca=this.oc="")};h.prototype.Vm=function(){var b,c,f,d,e,k,m,g={c2save:!0,version:1,rt:{time:this.Jd.Ja,timescale:this.Te,tickcount:this.qc,execcount:this.hf,next_uid:this.Ie,running_layout:this.S.G,start_time_offset:Date.now()-this.Tf},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};b=0;for(c=this.i.length;b<c;b++)if(e=this.i[b],!e.u&&!this.gk(e)){k={instances:[]};Aa(e.Y)&&(k.ex=a(e.Y));f=0;for(d=e.d.length;f<
d;f++)k.instances.push(this.Bh(e.d[f]));g.types[e.G.toString()]=k}b=0;for(c=this.Ab.length;b<c;b++)f=this.Ab[b],g.layouts[f.G.toString()]=f.Cb();d=g.events.groups;b=0;for(c=this.Ad.length;b<c;b++)f=this.Ad[b],d[f.G.toString()]=!!this.Xe[f.re];c=g.events.cnds;for(m in this.Dd)this.Dd.hasOwnProperty(m)&&(b=this.Dd[m],Aa(b.Y)&&(c[m]={ex:a(b.Y)}));c=g.events.acts;for(m in this.zd)this.zd.hasOwnProperty(m)&&(b=this.zd[m],Aa(b.Y)&&(c[m]={ex:b.Y}));c=g.events.vars;for(m in this.ae)this.ae.hasOwnProperty(m)&&
(b=this.ae[m],b.tf||b.parent&&!b.xe||(c[m]=b.data));g.system=this.Yb.Cb();return JSON.stringify(g)};h.prototype.Mj=function(){var b,a,c,f,d,e;this.qd={};b=0;for(a=this.i.length;b<a;b++)if(c=this.i[b],!c.u)for(f=0,d=c.d.length;f<d;f++)e=c.d[f],this.qd[e.uid.toString()]=e};h.prototype.zm=function(b){b=JSON.parse(b);if(b.c2save&&!(1<b.version)){var a=b.rt;this.Jd.reset();this.Jd.Ja=a.time;this.Te=a.timescale;this.qc=a.tickcount;this.hf=a.execcount;this.Tf=Date.now()-a.start_time_offset;var c=a.running_layout;
if(c!==this.S.G)if(c=this.Oi(c))this.Ai(c);else return;var f,d,e,k,m,g,l;g=b.types;for(d in g)if(g.hasOwnProperty(d)&&(k=this.pf(parseInt(d,10)))&&!k.u&&!this.gk(k)){g[d].ex?k.Y=g[d].ex:Ba(k.Y);m=k.d;e=g[d].instances;c=0;for(f=ia(m.length,e.length);c<f;c++)this.Df(m[c],e[c]);c=e.length;for(f=m.length;c<f;c++)this.yd(m[c]);c=m.length;for(f=e.length;c<f;c++){m=null;if(k.qa.Hc&&(m=this.S.of(e[c].w.l),!m))continue;m=this.Zc(k.Ib,m,!1,0,0,!0);this.Df(m,e[c])}k.Yd=!0}this.xa();this.Mj();f=b.layouts;for(d in f)f.hasOwnProperty(d)&&
(c=this.Oi(parseInt(d,10)))&&c.pc(f[d]);f=b.events.groups;for(d in f)f.hasOwnProperty(d)&&(c=this.Il(parseInt(d,10)))&&(this.Xe[c.re]=f[d]);c=b.events.cnds;for(d in c)c.hasOwnProperty(d)&&this.Dd.hasOwnProperty(d)&&(this.Dd[d].Y=c[d].ex);c=b.events.acts;for(d in c)c.hasOwnProperty(d)&&this.zd.hasOwnProperty(d)&&(this.zd[d].Y=c[d].ex);c=b.events.vars;for(d in c)c.hasOwnProperty(d)&&this.ae.hasOwnProperty(d)&&(this.ae[d].data=c[d]);this.Ie=a.next_uid;this.Yb.pc(b.system);c=0;for(f=this.i.length;c<f;c++)if(k=
this.i[c],!k.u)for(d=0,b=k.d.length;d<b;d++){m=k.d[d];if(k.zb)for(g=m.qe(),a=m.siblings.length=0,e=k.Ga.length;a<e;a++)l=k.Ga[a],k!==l&&m.siblings.push(l.d[g]);m.vc&&m.vc();if(m.B)for(a=0,e=m.B.length;a<e;a++)g=m.B[a],g.vc&&g.vc()}this.N=!0}};h.prototype.Bh=function(b,c){var f,d,e,k,m;k=b.type;e=k.qa;var g={};c?g.c2=!0:g.uid=b.uid;Aa(b.Y)&&(g.ex=a(b.Y));if(b.ea&&b.ea.length)for(g.ivs={},f=0,d=b.ea.length;f<d;f++)g.ivs[b.type.Ng[f].toString()]=b.ea[f];if(e.Hc){e={x:b.x,y:b.y,w:b.width,h:b.height,l:b.e.G,
zi:b.ib()};0!==b.j&&(e.a=b.j);1!==b.opacity&&(e.o=b.opacity);0.5!==b.Ha&&(e.hX=b.Ha);0.5!==b.Ia&&(e.hY=b.Ia);0!==b.Ea&&(e.bm=b.Ea);b.visible||(e.v=b.visible);b.ie||(e.ce=b.ie);-1!==b.He&&(e.mts=b.He);if(k.r.length)for(e.fx=[],f=0,d=k.r.length;f<d;f++)m=k.r[f],e.fx.push({name:m.name,active:b.uc[m.index],params:b.W[m.index]});g.w=e}if(b.B&&b.B.length)for(g.behs={},f=0,d=b.B.length;f<d;f++)k=b.B[f],k.Cb&&(g.behs[k.type.G.toString()]=k.Cb());b.Cb&&(g.data=b.Cb());return g};h.prototype.Kl=function(b,a){var c,
f;c=0;for(f=b.Ng.length;c<f;c++)if(b.Ng[c]===a)return c;return-1};h.prototype.Fl=function(b,a){var c,f;c=0;for(f=b.B.length;c<f;c++)if(b.B[c].type.G===a)return c;return-1};h.prototype.Df=function(b,a,c){var f,d,e,k,m;m=b.type;e=m.qa;if(c){if(!a.c2)return}else b.uid=a.uid;a.ex?b.Y=a.ex:Ba(b.Y);if(d=a.ivs)for(f in d)d.hasOwnProperty(f)&&(c=this.Kl(m,parseInt(f,10)),0>c||c>=b.ea.length||(b.ea[c]=d[f]));if(e.Hc){e=a.w;b.e.G!==e.l&&(c=b.e,b.e=this.S.of(e.l),b.e?(b.e.d.push(b),b.e.fb=!0,T(c.d,b),c.fb=!0):
(b.e=c,this.yd(b)));b.x=e.x;b.y=e.y;b.width=e.w;b.height=e.h;b.xd=e.zi;b.j=e.hasOwnProperty("a")?e.a:0;b.opacity=e.hasOwnProperty("o")?e.o:1;b.Ha=e.hasOwnProperty("hX")?e.hX:0.5;b.Ia=e.hasOwnProperty("hY")?e.hY:0.5;b.visible=e.hasOwnProperty("v")?e.v:!0;b.ie=e.hasOwnProperty("ce")?e.ce:!0;b.He=e.hasOwnProperty("mts")?e.mts:-1;b.Ea=e.hasOwnProperty("bm")?e.bm:0;b.je=Ha(b.Ea);this.g&&Ia(b,b.Ea,this.g);b.ra();if(e.hasOwnProperty("fx"))for(c=0,d=e.fx.length;c<d;c++)k=m.Gg(e.fx[c].name),0>k||(b.uc[k]=
e.fx[c].active,b.W[k]=e.fx[c].params);b.sc()}if(m=a.behs)for(f in m)m.hasOwnProperty(f)&&(e=this.Fl(b,parseInt(f,10)),0>e||b.B[e].pc(m[f]));a.data&&b.pc(a.data)};mb=function(b){return new h(document.getElementById(b))};nb=function(b,a){return new h({dc:!0,width:b,height:a})};window.cr_createRuntime=mb;window.cr_createDCRuntime=nb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.Ho=!0;document.body.appendChild(b);
b=new h(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var h=document.getElementById("c2canvas");return h?h.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(h,n){if(0!==h&&0!==n){var l=window.cr_getC2Runtime();l&&l.setSize(h,n)}};
window.cr_setSuspended=function(h){var n=window.cr_getC2Runtime();n&&n.setSuspended(h)};
(function(){function h(d,a){this.b=d;this.ef=null;this.scrollX=this.b.ma/2;this.scrollY=this.b.la/2;this.scale=1;this.j=0;this.oe=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.hk=a[3];this.Uj=a[4];this.G=a[5];var e=a[6],c,f;this.H=[];this.te=[];c=0;for(f=e.length;c<f;c++){var k=new ob(this,e[c]);k.yj=c;this.H.push(k)}e=a[7];this.fd=[];c=0;for(f=e.length;c<f;c++){var k=e[c],m=this.b.i[k[1]];m.Ib||(m.Ib=k);this.fd.push(k);-1===this.te.indexOf(m)&&this.te.push(m)}this.r=[];this.I=[];this.W=
[];c=0;for(f=a[8].length;c<f;c++)this.r.push({id:a[8][c][0],name:a[8][c][1],ta:-1,ac:!0,index:c}),this.W.push(a[8][c][2].slice(0));this.sc();this.Mc=new P(0,0,1,1);this.sh=new P(0,0,1,1);this.Lc={}}function n(d,a){this.P=d;this.b=d.b;this.d=[];this.scale=1;this.j=0;this.$c=!1;this.rc=new P(0,0,0,0);this.bk=new na;this.$a=this.cb=this.bb=this.ab=0;this.fb=!1;this.name=a[0];this.index=a[1];this.G=a[2];this.visible=a[3];this.wc=a[4];this.vd=a[5];this.Rd=a[6];this.Sd=a[7];this.opacity=a[8];this.Ag=a[9];
this.Vh=a[10];this.Ea=a[11];this.$k=a[12];this.je="source-over";this.ya=this.Ba=0;this.Nc=!1;var e=a[13],c,f;this.Hd=[];c=0;for(f=e.length;c<f;c++){var k=e[c],m=this.b.i[k[1]];m.Ib||(m.Ib=k);this.Hd.push(k);-1===this.P.te.indexOf(m)&&this.P.te.push(m)}this.r=[];this.I=[];this.W=[];c=0;for(f=a[14].length;c<f;c++)this.r.push({id:a[14][c][0],name:a[14][c][1],ta:-1,ac:!0,index:c}),this.W.push(a[14][c][2].slice(0));this.sc();this.Mc=new P(0,0,1,1);this.sh=new P(0,0,1,1)}function l(d,a){return d.xd-a.xd}
h.prototype.Um=function(d){var a=d.type.G.toString();this.Lc.hasOwnProperty(a)||(this.Lc[a]=[]);this.Lc[a].push(this.b.Bh(d))};h.prototype.Si=function(){var d=this.H[0];return!d.vd&&1===d.opacity&&!d.Ag&&d.visible};h.prototype.sc=function(){this.I.length=0;var d,a,e;d=0;for(a=this.r.length;d<a;d++)e=this.r[d],e.ac&&this.I.push(e)};h.prototype.Fg=function(d){var a,e,c;a=0;for(e=this.r.length;a<e;a++)if(c=this.r[a],c.name===d)return c;return null};var g=[];h.prototype.Gh=function(){this.Uj&&(this.ef=
this.b.xg[this.Uj]);this.b.S=this;this.scrollX=this.b.ma/2;this.scrollY=this.b.la/2;var d,a,e,c,f,k,m;d=0;for(e=this.b.i.length;d<e;d++)if(a=this.b.i[d],!a.u)for(f=a.d,a=0,c=f.length;a<c;a++)if(k=f[a],k.e){var b=k.e.yj;b>=this.H.length&&(b=this.H.length-1);k.e=this.H[b];k.e.d.push(k);k.e.fb=!0}g.length=0;this.Ek();d=0;for(e=this.H.length;d<e;d++)k=this.H[d],k.Mk(),k.$c=!0,a=k.Cd(!0),c=k.Cd(!1),k.$c=!1,this.b.Sb&&(a=a+0.5|0,c=c+0.5|0),k.wh(a,c,null);f=!1;if(!this.oe){for(m in this.Lc)if(this.Lc.hasOwnProperty(m)&&
(a=this.b.pf(parseInt(m,10)))&&!a.u&&this.b.Oh(a)){c=this.Lc[m];d=0;for(e=c.length;d<e;d++){k=null;if(a.qa.Hc&&(k=this.of(c[d].w.l),!k))continue;k=this.b.Zc(a.Ib,k,!1,0,0,!0);this.b.Df(k,c[d]);f=!0;g.push(k)}c.length=0}d=0;for(e=this.H.length;d<e;d++)this.H[d].d.sort(l),this.H[d].fb=!0}f&&(this.b.xa(),this.b.Mj());for(d=0;d<g.length;d++)if(k=g[d],k.type.zb)for(e=k.qe(),a=0,c=k.type.Ga.length;a<c;a++)m=k.type.Ga[a],k.type!==m&&(m.d.length>e?k.siblings.push(m.d[e]):m.Ib&&(f=this.b.Zc(m.Ib,k.e,!0,k.x,
k.y,!0),this.b.xa(),m.ag(),k.siblings.push(f),g.push(f)));d=0;for(e=this.fd.length;d<e;d++)this.b.Zc(this.fd[d],null,!0);this.b.pg=null;this.b.xa();if(this.b.L&&!this.b.Ob)for(d=0,e=this.b.i.length;d<e;d++)m=this.b.i[d],!m.u&&m.d.length&&m.mh&&m.mh(this.b.L);d=0;for(e=g.length;d<e;d++)k=g[d],this.b.trigger(Object.getPrototypeOf(k.type.qa).R.rk,k);g.length=0;this.b.trigger(Z.prototype.R.Wh,null);this.oe=!1};h.prototype.Lk=function(){var d,a,e,c,f;a=d=0;for(e=this.fd.length;d<e;d++)c=this.fd[d],f=this.b.i[c[1]],
f.global?this.b.Zc(c,null,!0):(this.fd[a]=c,a++);this.fd.length=a};h.prototype.Ym=function(){this.b.trigger(Z.prototype.R.tk,null);this.b.Yb.eb.length=0;var d,a,e,c,f,k;d=0;for(a=this.H.length;d<a;d++){f=this.H[d].d;e=0;for(c=f.length;e<c;e++)k=f[e],k.type.global||(this.b.Oh(k.type)&&this.Um(k),this.b.yd(k));this.b.xa();f.length=0;this.H[d].fb=!0}d=0;for(a=this.b.i.length;d<a;d++)if(f=this.b.i[d],!(f.global||f.qa.Hc||f.qa.Fh||f.u)){e=0;for(c=f.d.length;e<c;e++)this.b.yd(f.d[e]);this.b.xa()}};h.prototype.Jb=
function(d){var a,e=d,c=!1,f=!this.b.ob;f&&(this.b.Bf||(this.b.Bf=document.createElement("canvas"),a=this.b.Bf,a.width=this.b.F,a.height=this.b.D,this.b.oj=a.getContext("2d"),c=!0),a=this.b.Bf,e=this.b.oj,a.width!==this.b.F&&(a.width=this.b.F,c=!0),a.height!==this.b.D&&(a.height=this.b.D,c=!0),c&&(e.webkitImageSmoothingEnabled=this.b.J,e.mozImageSmoothingEnabled=this.b.J,e.msImageSmoothingEnabled=this.b.J,e.imageSmoothingEnabled=this.b.J));e.globalAlpha=1;e.globalCompositeOperation="source-over";
this.b.gg&&!this.Si()&&e.clearRect(0,0,this.b.F,this.b.D);var k,m,c=0;for(k=this.H.length;c<k;c++)m=this.H[c],m.visible&&0<m.opacity&&11!==m.Ea&&m.Jb(e);f&&d.drawImage(a,0,0,this.b.width,this.b.height)};h.prototype.nb=function(d){var a=0<this.I.length||this.b.$d||!this.b.ob;if(a){this.b.Ta||(this.b.Ta=d.gc(this.b.F,this.b.D,this.b.J));if(this.b.Ta.he!==this.b.F||this.b.Ta.ge!==this.b.D)d.deleteTexture(this.b.Ta),this.b.Ta=d.gc(this.b.F,this.b.D,this.b.J);d.Wb(this.b.Ta);this.b.ob||d.Wd(this.b.F,this.b.D)}else this.b.Ta&&
(d.Wb(null),d.deleteTexture(this.b.Ta),this.b.Ta=null);this.b.gg&&!this.Si()&&d.clear(0,0,0,0);var e,c;e=0;for(c=this.H.length;e<c;e++)this.H[e].visible&&0<this.H[e].opacity&&this.H[e].nb(d);a&&(0===this.I.length||1===this.I.length&&this.b.ob?(1===this.I.length?(a=this.I[0].index,d.Xb(this.I[0].ta),d.Vd(null,1/this.b.F,1/this.b.D,0,0,1,1,this.scale,this.W[a]),d.Lf(this.I[0].ta)&&(this.b.N=!0)):d.Xb(0),this.b.ob||d.Wd(this.b.width,this.b.height),d.Wb(null),d.sd(1),d.Wa(this.b.Ta),d.Sj(),d.Ub(),d.Zb(),
a=this.b.width/2,e=this.b.height/2,d.Nf(-a,e,a,e,a,-e,-a,-e),d.Wa(null)):this.uh(d,null,null,null))};h.prototype.pe=function(){return 0<this.I.length||this.b.$d||!this.b.ob?this.b.Ta:null};h.prototype.Pi=function(){var d=this.H[0].Ra(),a,e,c;a=1;for(e=this.H.length;a<e;a++)c=this.H[a],(0!==c.Rd||0!==c.Sd)&&c.Ra()<d&&(d=c.Ra());return d};h.prototype.Qj=function(d){if(!this.hk){var a=this.b.F*(1/this.Pi())/2;d>this.width-a&&(d=this.width-a);d<a&&(d=a)}this.scrollX!==d&&(this.scrollX=d,this.b.N=!0)};
h.prototype.Rj=function(d){if(!this.hk){var a=this.b.D*(1/this.Pi())/2;d>this.height-a&&(d=this.height-a);d<a&&(d=a)}this.scrollY!==d&&(this.scrollY=d,this.b.N=!0)};h.prototype.Ek=function(){this.Qj(this.scrollX);this.Rj(this.scrollY)};h.prototype.uh=function(d,a,e,c){var f=e?e.I:a?a.I:this.I,k=e?e.e.Ra():a?a.Ra():1,m=this.b.Dg,b,g,l,h,n=0,p=1,v,w=this.b.F,A=this.b.D,R=w/2,S=A/2,C=a?a.Mc:this.Mc,z=a?a.sh:this.sh,r=0,x=0,y=0,E=0,D=w,ca=w,B=A,da=A,O=l=0,ga=e?e.e.kc():0;if(e){b=0;for(g=f.length;b<g;b++)l+=
d.Pl(f[b].ta),O+=d.Ql(f[b].ta);h=e.Da;r=a.fa(h.left,h.top,!0);y=a.fa(h.left,h.top,!1);D=a.fa(h.right,h.bottom,!0);B=a.fa(h.right,h.bottom,!1);0!==ga&&(b=a.fa(h.right,h.top,!0),g=a.fa(h.right,h.top,!1),x=a.fa(h.left,h.bottom,!0),E=a.fa(h.left,h.bottom,!1),h=Math.min(r,D,b,x),D=Math.max(r,D,b,x),r=h,h=Math.min(y,B,g,E),B=Math.max(y,B,g,E),y=h);r-=l;y-=O;D+=l;B+=O;z.left=r/w;z.top=1-y/A;z.right=D/w;z.bottom=1-B/A;x=r=N(r);E=y=N(y);ca=D=la(D);da=B=la(B);x-=l;E-=O;ca+=l;da+=O;0>r&&(r=0);0>y&&(y=0);D>w&&
(D=w);B>A&&(B=A);0>x&&(x=0);0>E&&(E=0);ca>w&&(ca=w);da>A&&(da=A);C.left=r/w;C.top=1-y/A;C.right=D/w;C.bottom=1-B/A}else C.left=z.left=0,C.top=z.top=0,C.right=z.right=1,C.bottom=z.bottom=1;O=e&&((e.j||ga)&&d.Le(f[0].ta)||0!==l||0!==O||1!==e.opacity||e.type.qa.uj)||a&&!e&&1!==a.opacity;d.Sj();if(O){m[n]||(m[n]=d.gc(w,A,this.b.J));if(m[n].he!==w||m[n].ge!==A)d.deleteTexture(m[n]),m[n]=d.gc(w,A,this.b.J);d.Xb(0);d.Wb(m[n]);v=da-E;d.clearRect(x,A-E-v,ca-x,v);e?e.nb(d):(d.Wa(this.b.jb),d.sd(a.opacity),
d.Ub(),d.translate(-R,-S),d.Zb(),d.Tb(r,B,D,B,D,y,r,y,C));z.left=z.top=0;z.right=z.bottom=1;e&&(h=C.top,C.top=C.bottom,C.bottom=h);n=1;p=0}d.sd(1);l=f.length-1;var ga=d.nh(f[l].ta)||!a&&!e&&!this.b.ob,ha=0;b=0;for(g=f.length;b<g;b++){m[n]||(m[n]=d.gc(w,A,this.b.J));if(m[n].he!==w||m[n].ge!==A)d.deleteTexture(m[n]),m[n]=d.gc(w,A,this.b.J);d.Xb(f[b].ta);ha=f[b].index;d.Lf(f[b].ta)&&(this.b.N=!0);0!=b||O?(d.Vd(c,1/w,1/A,z.left,z.top,z.right,z.bottom,k,e?e.W[ha]:a?a.W[ha]:this.W[ha]),d.Wa(null),b!==l||
ga?(d.Wb(m[n]),v=da-E,h=A-E-v,d.clearRect(x,h,ca-x,v)):(e?d.Oc(e.Ba,e.ya):a&&d.Oc(a.Ba,a.ya),d.Wb(c)),d.Wa(m[p]),d.Ub(),d.translate(-R,-S),d.Zb(),d.Tb(r,B,D,B,D,y,r,y,C),b!==l||ga||d.Wa(null)):(d.Wb(m[n]),v=da-E,h=A-E-v,d.clearRect(x,h,ca-x,v),e?(d.Vd(c,1/e.width,1/e.height,z.left,z.top,z.right,z.bottom,k,e.W[ha]),e.nb(d)):(d.Vd(c,1/w,1/A,0,0,1,1,k,a?a.W[ha]:this.W[ha]),d.Wa(a?this.b.jb:this.b.Ta),d.Ub(),d.translate(-R,-S),d.Zb(),d.Tb(r,B,D,B,D,y,r,y,C)),z.left=z.top=0,z.right=z.bottom=1,e&&!ga&&
(h=B,B=y,y=h));n=0===n?1:0;p=0===n?1:0}ga&&(d.Xb(0),e?d.Oc(e.Ba,e.ya):a?d.Oc(a.Ba,a.ya):this.b.ob||(d.Wd(this.b.width,this.b.height),R=this.b.width/2,S=this.b.height/2,y=r=0,D=this.b.width,B=this.b.height),d.Wb(c),d.Wa(m[p]),d.Ub(),d.translate(-R,-S),d.Zb(),e&&1===f.length&&!O?d.Tb(r,y,D,y,D,B,r,B,C):d.Tb(r,B,D,B,D,y,r,y,C),d.Wa(null))};h.prototype.of=function(d){var a,e;a=0;for(e=this.H.length;a<e;a++)if(this.H[a].G===d)return this.H[a];return null};h.prototype.Cb=function(){var d,a,e,c={sx:this.scrollX,
sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.oe,persist:this.Lc,fx:[],layers:{}};d=0;for(a=this.r.length;d<a;d++)e=this.r[d],c.fx.push({name:e.name,active:e.ac,params:this.W[e.index]});d=0;for(a=this.H.length;d<a;d++)e=this.H[d],c.layers[e.G.toString()]=e.Cb();return c};h.prototype.pc=function(d){var a,e,c,f;this.scrollX=d.sx;this.scrollY=d.sy;this.scale=d.s;this.j=d.a;this.width=d.w;this.height=d.h;this.Lc=d.persist;"undefined"!==typeof d.fv&&(this.oe=d.fv);var k=d.fx;
a=0;for(e=k.length;a<e;a++)if(c=this.Fg(k[a].name))c.ac=k[a].active,this.W[c.index]=k[a].params;this.sc();a=d.layers;for(f in a)a.hasOwnProperty(f)&&(d=this.of(parseInt(f,10)))&&d.pc(a[f])};cb=h;n.prototype.sc=function(){this.I.length=0;var d,a,e;d=0;for(a=this.r.length;d<a;d++)e=this.r[d],e.ac&&this.I.push(e)};n.prototype.Fg=function(d){var a,e,c;a=0;for(e=this.r.length;a<e;a++)if(c=this.r[a],c.name===d)return c;return null};n.prototype.Mk=function(){var d,a,e,c,f,k;a=d=0;for(e=this.Hd.length;d<
e;d++){c=this.Hd[d];f=this.b.i[c[1]];k=this.b.Oh(f);f=!0;if(!k||this.P.oe)c=this.b.Zc(c,this,!0),g.push(c),c.type.global&&(f=!1);f&&(this.Hd[a]=this.Hd[d],a++)}this.Hd.length=a;this.b.xa();!this.b.k&&this.r.length&&(this.Ea=this.$k);this.je=Ha(this.Ea);this.b.g&&Ia(this,this.Ea,this.b.g)};n.prototype.dn=function(){if(this.fb){var d,a;d=0;for(a=this.d.length;d<a;d++)this.d[d].xd=d;this.fb=!1}};n.prototype.Ra=function(d){return this.Nl()*(this.b.ob||d?this.b.fe:1)};n.prototype.Nl=function(){return(this.scale*
this.P.scale-1)*this.Vh+1};n.prototype.kc=function(){return this.$c?0:V(this.P.j+this.j)};n.prototype.Jb=function(d){this.Nc=this.Ag||1!==this.opacity||0!==this.Ea;var a=this.b.canvas,e=d,c=!1;d.globalAlpha=1;d.globalCompositeOperation="source-over";this.Nc&&(this.b.Af||(this.b.Af=document.createElement("canvas"),a=this.b.Af,a.width=this.b.F,a.height=this.b.D,this.b.nj=a.getContext("2d"),c=!0),a=this.b.Af,e=this.b.nj,a.width!==this.b.F&&(a.width=this.b.F,c=!0),a.height!==this.b.D&&(a.height=this.b.D,
c=!0),c&&(e.webkitImageSmoothingEnabled=this.b.J,e.mozImageSmoothingEnabled=this.b.J,e.msImageSmoothingEnabled=this.b.J,e.imageSmoothingEnabled=this.b.J),this.vd&&e.clearRect(0,0,this.b.F,this.b.D));this.vd||(e.fillStyle="rgb("+this.wc[0]+","+this.wc[1]+","+this.wc[2]+")",e.fillRect(0,0,this.b.F,this.b.D));e.save();this.$c=!0;var c=this.Cd(!0),f=this.Cd(!1);this.$c=!1;this.b.Sb&&(c=c+0.5|0,f=f+0.5|0);this.wh(c,f,e);var k=this.Ra();e.scale(k,k);e.translate(-c,-f);for(var m,c=0,f=this.d.length;c<f;c++)k=
this.d[c],k.visible&&0!==k.width&&0!==k.height&&(k.kb(),m=k.Da,m.right<this.ab||m.bottom<this.cb||m.left>this.bb||m.top>this.$a||(e.globalCompositeOperation=k.je,k.Jb(e)));e.restore();this.Nc&&(d.globalCompositeOperation=this.je,d.globalAlpha=this.opacity,d.drawImage(a,0,0))};n.prototype.wh=function(d,a,e){var c=this.Ra();this.ab=d;this.cb=a;this.bb=d+this.b.F*(1/c);this.$a=a+this.b.D*(1/c);d=this.kc();0!==d&&(e&&(e.translate(this.b.F/2,this.b.D/2),e.rotate(-d),e.translate(this.b.F/-2,this.b.D/-2)),
this.rc.set(this.ab,this.cb,this.bb,this.$a),this.rc.offset((this.ab+this.bb)/-2,(this.cb+this.$a)/-2),this.bk.Tj(this.rc,d),this.bk.li(this.rc),this.rc.offset((this.ab+this.bb)/2,(this.cb+this.$a)/2),this.ab=this.rc.left,this.cb=this.rc.top,this.bb=this.rc.right,this.$a=this.rc.bottom)};n.prototype.nb=function(d){var a=this.b.F,e=this.b.D,c=0,f=0;if(this.Nc=this.Ag||1!==this.opacity||0<this.I.length||0!==this.Ea){this.b.jb||(this.b.jb=d.gc(this.b.F,this.b.D,this.b.J));if(this.b.jb.he!==this.b.F||
this.b.jb.ge!==this.b.D)d.deleteTexture(this.b.jb),this.b.jb=d.gc(this.b.F,this.b.D,this.b.J);d.Wb(this.b.jb);this.vd&&d.clear(0,0,0,0)}this.vd||d.clear(this.wc[0]/255,this.wc[1]/255,this.wc[2]/255,1);this.$c=!0;var f=this.Cd(!0),k=this.Cd(!1);this.$c=!1;this.b.Sb&&(f=f+0.5|0,k=k+0.5|0);this.wh(f,k,null);k=this.Ra();d.Ub();d.scale(k,k);d.xh(-this.kc());d.translate((this.ab+this.bb)/-2,(this.cb+this.$a)/-2);d.Zb();var m,b,g;m=0;for(b=this.d.length;m<b;m++)if(g=this.d[m],g.visible&&0!==g.width&&0!==
g.height&&(g.kb(),c=g.Da,!(c.right<this.ab||c.bottom<this.cb||c.left>this.bb||c.top>this.$a)))if(g.jk)if(c=g.I[0].ta,f=g.I[0].index,1!==g.I.length||d.nh(c)||d.Lm(c)||(g.j||g.e.kc())&&d.Le(c)||1!==g.opacity||g.type.qa.uj)this.P.uh(d,this,g,this.Nc?this.b.jb:this.P.pe()),d.Ub(),d.scale(k,k),d.xh(-this.kc()),d.translate((this.ab+this.bb)/-2,(this.cb+this.$a)/-2),d.Zb();else{d.Xb(c);d.Oc(g.Ba,g.ya);d.Lf(c)&&(this.b.N=!0);var l=0,h=0,n=0,p=0;d.Le(c)&&(c=g.Da,l=this.fa(c.left,c.top,!0),h=this.fa(c.left,
c.top,!1),n=this.fa(c.right,c.bottom,!0),c=this.fa(c.right,c.bottom,!1),l/=a,h=1-h/e,n/=a,p=1-c/e);d.Vd(this.Nc?this.b.jb:this.P.pe(),1/g.width,1/g.height,l,h,n,p,this.Ra(),g.W[f]);g.nb(d)}else d.Xb(0),d.Oc(g.Ba,g.ya),g.nb(d);this.Nc&&(c=this.I.length?this.I[0].ta:0,f=this.I.length?this.I[0].index:0,0===this.I.length||1===this.I.length&&!d.nh(c)&&1===this.opacity?(1===this.I.length?(d.Xb(c),d.Vd(this.P.pe(),1/this.b.F,1/this.b.D,0,0,1,1,this.Ra(),this.W[f]),d.Lf(c)&&(this.b.N=!0)):d.Xb(0),d.Wb(this.P.pe()),
d.sd(this.opacity),d.Wa(this.b.jb),d.Oc(this.Ba,this.ya),d.Ub(),d.Zb(),a=this.b.F/2,e=this.b.D/2,d.Nf(-a,e,a,e,a,-e,-a,-e),d.Wa(null)):this.P.uh(d,this,null,this.P.pe()))};n.prototype.Cd=function(d){var a=0,e=0,c=this.b.devicePixelRatio;this.b.jd&&(a*=c,e*=c);var c=this.b.Dj,f=this.b.Ej,c=(this.P.scrollX-c)*this.Rd+c,f=(this.P.scrollY-f)*this.Sd+f,k=1/this.Ra(!1),c=c-this.b.F*k/2,f=f-this.b.D*k/2,c=c+a*k,f=f+e*k,e=this.kc();0!==e&&(c-=this.P.scrollX,f-=this.P.scrollY,a=Math.cos(e),e=Math.sin(e),k=
c*a-f*e,f=f*a+c*e,c=k+this.P.scrollX,f+=this.P.scrollY);return d?c:f};n.prototype.fa=function(d,a,e){var c=this.kc();if(0!==c){d-=this.P.scrollX;a-=this.P.scrollY;var f=Math.cos(-c),c=Math.sin(-c),k=d*f-a*c;a=a*f+d*c;d=k+this.P.scrollX;a+=this.P.scrollY}f=this.b.Dj;c=this.b.Ej;f=(this.P.scrollX-f)*this.Rd+f;c=(this.P.scrollY-c)*this.Sd+c;k=1/this.Ra(!1);f-=this.b.F*k/2;c-=this.b.D*k/2;f=(d-f)/k;c=(a-c)/k;d=this.b.devicePixelRatio;this.b.jd&&(f/=d,c/=d);return e?f:c};n.prototype.Cb=function(){var d,
a,e,c={s:this.scale,a:this.j,vl:this.ab,vt:this.cb,vr:this.bb,vb:this.$a,v:this.visible,bc:this.wc,t:this.vd,px:this.Rd,py:this.Sd,o:this.opacity,zr:this.Vh,fx:[],instances:[]};d=0;for(a=this.r.length;d<a;d++)e=this.r[d],c.fx.push({name:e.name,active:e.ac,params:this.W[e.index]});return c};n.prototype.pc=function(d){var a,e;this.scale=d.s;this.j=d.a;this.ab=d.vl;this.cb=d.vt;this.bb=d.vr;this.$a=d.vb;this.visible=d.v;this.wc=d.bc;this.vd=d.t;this.Rd=d.px;this.Sd=d.py;this.opacity=d.o;this.Vh=d.zr;
var c=d.fx;d=0;for(a=c.length;d<a;d++)if(e=this.Fg(c[d].name))e.ac=c[d].active,this.W[e.index]=c[d].params;this.sc();this.d.sort(l);this.fb=!0};ob=n})();
(function(){function h(b,a){var c,f=b.length;switch(f){case 0:return!0;case 1:return b[0]===a[0];case 2:return b[0]===a[0]&&b[1]===a[1];default:for(c=0;c<f;c++)if(b[c]!==a[c])return!1;return!0}}function n(b,a){return b.index-a.index}function l(b){var a,c,f,d;2===b.length?b[0].index>b[1].index&&(a=b[0],b[0]=b[1],b[1]=a):2<b.length&&b.sort(n);b.length>=s.length&&(s.length=b.length+1);s[b.length]||(s[b.length]=[]);d=s[b.length];a=0;for(c=d.length;a<c;a++)if(f=d[a],h(b,f))return f;d.push(b);return b}
function g(b,a){this.b=b;this.dk={};this.Ei={};this.Jg=!1;this.Vi=new I;this.name=a[0];var c=a[1];this.Cc=[];var f,d;f=0;for(d=c.length;f<d;f++)this.Xi(c[f],null,this.Cc)}function d(b){this.type=b;this.d=[];this.K=[];this.da=!0}function a(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.$=[];this.Pc=[];this.Ti=this.Zf=this.Lh=this.Mg=this.group=this.Wj=!1;this.X=[];this.wb=[];this.ub=[];c[1]?(this.re=c[1][1].toLowerCase(),this.group=!0,this.Mg=!!c[1][0],this.b.Ad.push(this),this.b.Xe[this.re.toLowerCase()]=
this.Mg):(this.re="",this.Mg=this.group=!1);this.Rb=c[2];this.G=c[4];this.group||(this.b.ki[this.G.toString()]=this);var f=c[5];b=0;for(a=f.length;b<a;b++){var d=new pb(this,f[b]);d.index=b;this.X.push(d);this.ai(d.type)}f=c[6];b=0;for(a=f.length;b<a;b++)d=new qb(this,f[b]),d.index=b,this.wb.push(d);if(8===c.length)for(c=c[7],b=0,a=c.length;b<a;b++)this.sheet.Xi(c[b],this,this.ub);this.uf=!1;this.X.length&&(this.uf=null==this.X[0].type&&this.X[0].ba==Z.prototype.R.mk)}function e(b,a){var c,f,d;if(b&&
(-1===a.indexOf(b)&&a.push(b),b.zb))for(c=0,f=b.Ga.length;c<f;c++)d=b.Ga[c],b!==d&&-1===a.indexOf(d)&&a.push(d)}function c(b,a){this.gb=b;this.sheet=b.sheet;this.b=b.b;this.n=[];this.A=[];this.Y={};this.index=-1;this.ba=a[1];this.trigger=0<a[3];this.Di=2===a[3];this.ue=a[5];this.ym=a[6];this.G=a[7];this.b.Dd[this.G.toString()]=this;-1===a[0]?(this.type=null,this.ia=this.Ah,this.Xc=null,this.oa=-1):(this.type=this.b.i[a[0]],this.ia=this.ym?this.Sm:this.zh,a[2]?(this.Xc=this.type.nf(a[2]),this.oa=this.type.Eg(a[2])):
(this.Xc=null,this.oa=-1),this.gb.parent&&this.gb.parent.Qf());this.Di&&(this.ia=this.Tm);if(10===a.length){var c,f,d=a[9];c=0;for(f=d.length;c<f;c++){var e=new rb(this,d[c]);this.n.push(e)}this.A.length=d.length}}function f(b,a){this.gb=b;this.sheet=b.sheet;this.b=b.b;this.n=[];this.A=[];this.Y={};this.index=-1;this.ba=a[1];-1===a[0]?(this.type=null,this.ia=this.Ah,this.Xc=null,this.oa=-1):(this.type=this.b.i[a[0]],this.ia=this.zh,a[2]?(this.Xc=this.type.nf(a[2]),this.oa=this.type.Eg(a[2])):(this.Xc=
null,this.oa=-1));this.G=a[3];this.b.zd[this.G.toString()]=this;if(6===a.length){var c,f,d=a[5];c=0;for(f=d.length;c<f;c++){var e=new rb(this,d[c]);this.n.push(e)}this.A.length=d.length}}function k(b,a){this.p=b;this.gb=b.gb;this.sheet=b.sheet;this.b=b.b;this.type=a[0];this.Kb=null;this.ri=this.Qc=0;this.P=null;this.key=0;this.object=null;this.index=0;this.cg=this.Zd=this.Fi=this.bd=this.Ve=null;var c,f,d;switch(a[0]){case 0:case 7:this.Kb=new W(this,a[1]);this.Qc=0;this.get=this.Wl;break;case 1:this.Kb=
new W(this,a[1]);this.Qc=0;this.get=this.Xl;break;case 5:this.Kb=new W(this,a[1]);this.Qc=0;this.get=this.am;break;case 3:case 8:this.ri=a[1];this.get=this.Ul;break;case 6:this.P=this.b.Vg[a[1]];this.get=this.cm;break;case 9:this.key=a[1];this.get=this.$l;break;case 4:this.object=this.b.i[a[1]];this.get=this.dm;this.gb.ai(this.object);this.p instanceof qb?this.gb.Qf():this.gb.parent&&this.gb.parent.Qf();break;case 10:this.index=a[1];this.get=b.type.u?this.Yl:this.Zl;break;case 11:this.Ve=a[1];this.bd=
null;this.get=this.Vl;break;case 2:case 12:this.Fi=a[1];this.get=this.Tl;break;case 13:for(this.get=this.em,this.Zd=[],this.cg=[],c=1,f=a.length;c<f;c++)d=new rb(this.p,a[c]),this.Zd.push(d),this.cg.push(0)}}function m(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.$=[];this.name=c[1];this.Lg=c[3];this.xe=!!c[4];this.tf=!!c[5];this.G=c[6];this.b.ae[this.G.toString()]=this;this.data=this.Lg;this.parent?(this.od=this.xe||this.tf?-1:this.b.Xm++,this.b.Bk.push(this)):(this.od=-1,this.b.Ak.push(this))}
function b(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.$=[];this.se=null;this.jm=c[1]}function q(){this.Xj=[];this.reset(null)}var s=[];g.prototype.toString=G("name");g.prototype.Xi=function(b,a,c){switch(b[0]){case 0:b=new sb(this,a,b);if(b.Rb)for(c.push(b),c=0,a=b.X.length;c<a;c++)b.X[c].trigger&&this.Yi(b,c);else b.ej()?this.Yi(b,0):c.push(b);break;case 1:b=new lb(this,a,b);c.push(b);break;case 2:b=new tb(this,a,b),c.push(b)}};g.prototype.Z=function(){var b,a;b=0;for(a=this.Cc.length;b<a;b++)this.Cc[b].Z(b<
a-1&&this.Cc[b+1].uf)};g.prototype.ia=function(b){this.b.Go||(this.Jg=!0,b||(this.b.Rg=!0));var a,c;a=0;for(c=this.Cc.length;a<c;a++){var f=this.Cc[a];f.ia();this.b.qg(f.$);this.b.Hb.Ec()&&!this.b.Pa.length||this.b.xa()}b||(this.b.Rg=!1)};g.prototype.Yi=function(b,a){b.Rb||this.b.$f.push(b);var c,f,d=b.X[a],e;e=d.type?d.type.name:"system";var k=(c=d.Di)?this.Ei:this.dk;k[e]||(k[e]=[]);e=k[e];k=d.ba;if(c){if(d.n.length&&(d=d.n[0],1===d.type&&2===d.Kb.type)){d=d.Kb.value.toLowerCase();c=0;for(f=e.length;c<
f;c++)if(e[c].method==k){c=e[c].gf;c[d]?c[d].push([b,a]):c[d]=[[b,a]];return}c={};c[d]=[[b,a]];e.push({method:k,gf:c})}}else{c=0;for(f=e.length;c<f;c++)if(e[c].method==k){e[c].gf.push([b,a]);return}e.push({method:k,gf:[[b,a]]})}};db=g;d.prototype.Ri=function(){return this.da?this.type.d.length:this.d.length};d.prototype.Mb=function(){return this.da?this.type.d:this.d};d.prototype.Ke=function(b){b&&(b.b.Qa().yb.Rb?(this.da&&(this.d.length=0,pa(this.K,b.type.d),this.da=!1),b=this.K.indexOf(b),-1!==
b&&(this.d.push(this.K[b]),this.K.splice(b,1))):(this.da=!1,this.d.length=1,this.d[0]=b))};Na=d;window._c2hh_="F32A8700DD44E7D50C81D58E06E5B697E7851981";a.prototype.Z=function(b){var a,c=this.parent;if(this.group)for(this.Zf=!0;c;){if(!c.group){this.Zf=!1;break}c=c.parent}this.Lh=!this.ej()&&(!this.parent||this.parent.group&&this.parent.Zf);this.Ti=!!b;this.Pc=this.$.slice(0);for(c=this.parent;c;){b=0;for(a=c.$.length;b<a;b++)this.zk(c.$[b]);c=c.parent}this.$=l(this.$);this.Pc=l(this.Pc);b=0;for(a=
this.X.length;b<a;b++)this.X[b].Z();b=0;for(a=this.wb.length;b<a;b++)this.wb[b].Z();b=0;for(a=this.ub.length;b<a;b++)this.ub[b].Z(b<a-1&&this.ub[b+1].uf)};a.prototype.ai=function(b){e(b,this.$)};a.prototype.zk=function(b){e(b,this.Pc)};a.prototype.Qf=function(){this.Wj=!0;this.parent&&this.parent.Qf()};a.prototype.ej=function(){return this.X.length?this.X[0].trigger:!1};a.prototype.ia=function(){var b,a=!1,c,f=this.b.Qa();f.yb=this;this.uf||(f.vg=!1);if(this.Rb){0===this.X.length&&(a=!0);f.Fa=0;for(b=
this.X.length;f.Fa<b;f.Fa++)this.X[f.Fa].trigger||(c=this.X[f.Fa].ia())&&(a=!0);(f.ld=a)&&this.yh()}else{f.Fa=0;for(b=this.X.length;f.Fa<b;f.Fa++)if(c=this.X[f.Fa].ia(),!c){f.ld=!1;!this.Lh||this.b.Hb.Ec()&&!this.b.Pa.length||this.b.xa();return}f.ld=!0;this.yh()}this.bl(f)};a.prototype.bl=function(b){b.ld&&this.Ti&&(b.vg=!0);!this.Lh||this.b.Hb.Ec()&&!this.b.Pa.length||this.b.xa()};a.prototype.Qm=function(b){this.b.Qa().yb=this;this.X[b].ia()&&(this.yh(),this.b.Qa().ld=!0)};a.prototype.yh=function(){var b=
this.b.Qa(),a;b.lb=0;for(a=this.wb.length;b.lb<a;b.lb++)if(this.wb[b.lb].ia())return;this.Oj()};a.prototype.Om=function(){var b=this.b.Qa(),a;for(a=this.wb.length;b.lb<a;b.lb++)if(this.wb[b.lb].ia())return;this.Oj()};a.prototype.Oj=function(){if(this.ub.length){var b,a,c,f,d=this.ub.length-1;this.b.ph(this);if(this.Wj)for(b=0,a=this.ub.length;b<a;b++)c=this.ub[b],(f=!this.Zf||!this.group&&b<d)&&this.b.oh(c.$),c.ia(),f?this.b.Td(c.$):this.b.qg(c.$);else for(b=0,a=this.ub.length;b<a;b++)this.ub[b].ia();
this.b.Hj()}};a.prototype.Rm=function(){var b=this.b.Qa();b.yb=this;var a=!1,c;b.Fa=0;for(c=this.X.length;b.Fa<c;b.Fa++)if(this.X[b.Fa].ia())a=!0;else if(!this.Rb)return!1;return this.Rb?a:!0};a.prototype.um=function(b){var a=b.index;if(0===a)return!0;for(--a;0<=a;--a)if(this.X[a].type===b.type)return!1;return!0};sb=a;c.prototype.Z=function(){var b,a;b=0;for(a=this.n.length;b<a;b++)this.n[b].Z()};c.prototype.Tm=H(!0);c.prototype.Ah=function(){var b,a;b=0;for(a=this.n.length;b<a;b++)this.A[b]=this.n[b].get();
return za(this.ba.apply(this.b.Yb,this.A),this.ue)};c.prototype.Sm=function(){var b,a;b=0;for(a=this.n.length;b<a;b++)this.A[b]=this.n[b].get(b);b=this.ba.apply(this.Xc?this.Xc:this.type,this.A);this.type.Wc();return b};c.prototype.zh=function(){var b,a,c,f,d,e,k,m=this.type.U(),g=this.gb.Rb&&!this.trigger,l=0,h=this.type.zb;if(m.da){m.d.length=0;b=m.K.length=0;for(c=this.type.d.length;b<c;b++){e=this.type.d[b];a=0;for(f=this.n.length;a<f;a++)this.A[a]=this.n[a].get(b);-1<this.oa?(this.type.u&&(l=
e.type.Gd[this.type.Lb]),a=this.ba.apply(e.B[this.oa+l],this.A)):a=this.ba.apply(e,this.A);(d=za(a,this.ue))?m.d.push(e):g&&m.K.push(e)}this.type.finish&&this.type.finish(!0);m.da=!1;this.type.Wc();return m.Ri()}var q=0,n=(d=g&&!this.gb.um(this))?m.K:m.d,s=!1;b=0;for(c=n.length;b<c;b++){e=n[b];a=0;for(f=this.n.length;a<f;a++)this.A[a]=this.n[a].get(b);-1<this.oa?(this.type.u&&(l=e.type.Gd[this.type.Lb]),a=this.ba.apply(e.B[this.oa+l],this.A)):a=this.ba.apply(e,this.A);if(za(a,this.ue))if(s=!0,d){if(m.d.push(e),
h)for(a=0,f=e.siblings.length;a<f;a++)k=e.siblings[a],k.type.U().d.push(k)}else{n[q]=e;if(h)for(a=0,f=e.siblings.length;a<f;a++)k=e.siblings[a],k.type.U().d[q]=k;q++}else if(d){n[q]=e;if(h)for(a=0,f=e.siblings.length;a<f;a++)k=e.siblings[a],k.type.U().K[q]=k;q++}else if(g&&(m.K.push(e),h))for(a=0,f=e.siblings.length;a<f;a++)k=e.siblings[a],k.type.U().K.push(k)}n.length=q;if(h)for(b=0,c=this.type.Ga.length;b<c;b++)e=this.type.Ga[b].U(),d?e.K.length=q:e.d.length=q;l=s;if(d&&!s)for(b=0,c=m.d.length;b<
c;b++){e=m.d[b];a=0;for(f=this.n.length;a<f;a++)this.A[a]=this.n[a].get(b);a=-1<this.oa?this.ba.apply(e.B[this.oa],this.A):this.ba.apply(e,this.A);if(za(a,this.ue)){s=!0;break}}this.type.finish&&this.type.finish(l||g);return g?s:m.Ri()};pb=c;f.prototype.Z=function(){var b,a;b=0;for(a=this.n.length;b<a;b++)this.n[b].Z()};f.prototype.Ah=function(){var b,a;b=0;for(a=this.n.length;b<a;b++)this.A[b]=this.n[b].get();return this.ba.apply(this.b.Yb,this.A)};f.prototype.zh=function(){var b=this.type.U().Mb(),
a,c,f,d,e;a=0;for(f=b.length;a<f;a++){e=b[a];c=0;for(d=this.n.length;c<d;c++)this.A[c]=this.n[c].get(a);-1<this.oa?(c=0,this.type.u&&(c=e.type.Gd[this.type.Lb]),this.ba.apply(e.B[this.oa+c],this.A)):this.ba.apply(e,this.A)}return!1};qb=f;var t=[],u=-1;k.prototype.Z=function(){var b,a;if(11===this.type)this.bd=this.b.Mi(this.Ve,this.gb.parent);else if(13===this.type)for(b=0,a=this.Zd.length;b<a;b++)this.Zd[b].Z();this.Kb&&this.Kb.Z()};k.prototype.ga=function(){u++;t.length===u&&t.push(new ub);return t[u]};
k.prototype.ca=function(){u--};k.prototype.Wl=function(b){this.Qc=b||0;b=this.ga();this.Kb.get(b);this.ca();return b.data};k.prototype.Xl=function(b){this.Qc=b||0;b=this.ga();this.Kb.get(b);this.ca();return L(b.data)?b.data:""};k.prototype.dm=G("object");k.prototype.Ul=G("ri");k.prototype.am=function(b){this.Qc=b||0;b=this.ga();this.Kb.get(b);this.ca();return b.ka()?this.b.Ml(b.data):this.b.Ll(b.data)};k.prototype.cm=G("P");k.prototype.$l=G("key");k.prototype.Zl=G("index");k.prototype.Yl=function(b){var a=
this.p.type,c=null,c=a.U(),f=c.Mb(),c=f.length?f[b%f.length].type:c.K[b%c.K.length].type;return this.index+c.jf[a.Lb]};k.prototype.Vl=G("bd");k.prototype.Tl=G("Fi");k.prototype.em=function(){var b,a;b=0;for(a=this.Zd.length;b<a;b++)this.cg[b]=this.Zd[b].get();return this.cg};rb=k;m.prototype.Z=function(){this.$=l(this.$)};m.prototype.Wm=function(b){var a=this.b.Ki();this.parent&&!this.xe&&a?(this.od>=a.length&&(a.length=this.od+1),a[this.od]=b):this.data=b};m.prototype.Sl=function(){var b=this.b.Ki();
return!this.parent||this.xe||!b||this.tf?this.data:this.od>=b.length||"undefined"===typeof b[this.od]?this.Lg:b[this.od]};m.prototype.ia=function(){!this.parent||this.xe||this.tf||this.Wm(this.Lg)};lb=m;b.prototype.toString=function(){return"include:"+this.se.toString()};b.prototype.Z=function(){this.se=this.b.xg[this.jm];this.sheet.Vi.add(this);this.$=l(this.$)};b.prototype.ia=function(){this.parent&&this.b.Ne(this.b.i);this.se.Jg||this.se.ia(!0);this.parent&&this.b.Td(this.b.i)};b.prototype.mm=
function(){for(var b=this.parent;b;){if(b.group&&!this.b.Xe[b.re.toLowerCase()])return!1;b=b.parent}return!0};tb=b;q.prototype.reset=function(b){this.yb=b;this.lb=this.Fa=0;this.Xj.length=0;this.vg=this.ld=!1};kb=q})();
(function(){function h(l,g){this.p=l;this.b=l.b;this.type=g[0];this.get=[this.nl,this.jl,this.wl,this.zl,this.dl,this.xl,this.rl,this.gl,this.ql,this.ul,this.el,this.tl,this.hl,this.sl,this.ol,this.pl,this.kl,this.ll,this.fl,this.yl,this.Bi,this.ml,this.Bi,this.il][this.type];var d=null;this.Va=this.n=this.A=this.ba=this.Wf=this.na=this.first=this.value=null;this.oa=-1;this.lc=null;this.Rh=-1;this.bd=this.Ve=null;this.Oe=!1;switch(this.type){case 0:case 1:case 2:this.value=g[1];break;case 3:this.first=
new W(l,g[1]);break;case 18:this.first=new W(l,g[1]);this.na=new W(l,g[2]);this.Wf=new W(l,g[3]);break;case 19:this.ba=g[1];this.A=[];this.n=[];3===g.length?(d=g[2],this.A.length=d.length+1):this.A.length=1;break;case 20:this.Va=this.b.i[g[1]];this.oa=-1;this.ba=g[2];this.Oe=g[3];this.lc=g[4]?new W(l,g[4]):null;this.A=[];this.n=[];6===g.length?(d=g[5],this.A.length=d.length+1):this.A.length=1;break;case 21:this.Va=this.b.i[g[1]];this.Oe=g[2];this.lc=g[3]?new W(l,g[3]):null;this.Rh=g[4];break;case 22:this.Va=
this.b.i[g[1]];this.Va.nf(g[2]);this.oa=this.Va.Eg(g[2]);this.ba=g[3];this.Oe=g[4];this.lc=g[5]?new W(l,g[5]):null;this.A=[];this.n=[];7===g.length?(d=g[6],this.A.length=d.length+1):this.A.length=1;break;case 23:this.Ve=g[1],this.bd=null}4<=this.type&&17>=this.type&&(this.first=new W(l,g[1]),this.na=new W(l,g[2]));if(d){var a,e;a=0;for(e=d.length;a<e;a++)this.n.push(new W(l,d[a]))}}function n(l,g){this.type=l||X.de;this.data=g||0;this.Od=null;this.type==X.de&&(this.data=Math.floor(this.data))}h.prototype.Z=
function(){23===this.type&&(this.bd=this.p.b.Mi(this.Ve,this.p.gb.parent));this.first&&this.first.Z();this.na&&this.na.Z();this.Wf&&this.Wf.Z();this.lc&&this.lc.Z();if(this.n){var l,g;l=0;for(g=this.n.length;l<g;l++)this.n[l].Z()}};h.prototype.yl=function(l){this.A[0]=l;l=this.p.ga();var g,d;g=0;for(d=this.n.length;g<d;g++)this.n[g].get(l),this.A[g+1]=l.data;this.p.ca();this.ba.apply(this.b.Yb,this.A)};h.prototype.Bi=function(l){var g=this.Va.U(),d=g.Mb();if(!d.length)if(g.K.length)d=g.K;else{this.Oe?
l.sb(""):l.O(0);return}this.A[0]=l;l.Od=this.Va;l=this.p.ga();var a,g=0;for(a=this.n.length;g<a;g++)this.n[g].get(l),this.A[g+1]=l.data;g=this.p.Qc;this.lc&&(this.lc.get(l),l.ka()&&(g=l.data,d=this.Va.d));this.p.ca();g%=d.length;0>g&&(g+=d.length);d=d[g];-1<this.oa?(l=0,this.Va.u&&(l=d.type.Gd[this.Va.Lb]),this.ba.apply(d.B[this.oa+l],this.A)):this.ba.apply(d,this.A)};h.prototype.ml=function(l){var g=this.Va.U(),d=g.Mb();if(!d.length)if(g.K.length)d=g.K;else{this.Oe?l.sb(""):l.O(0);return}g=this.p.Qc;
if(this.lc){var a=this.p.ga();this.lc.get(a);if(a.ka()){g=a.data;d=this.Va.d;g%=d.length;0>g&&(g+=d.length);d=d[g].ea[this.Rh];L(d)?l.sb(d):l.M(d);this.p.ca();return}this.p.ca()}g%=d.length;0>g&&(g+=d.length);d=d[g];g=0;this.Va.u&&(g=d.type.jf[this.Va.Lb]);d=d.ea[this.Rh+g];L(d)?l.sb(d):l.M(d)};h.prototype.nl=function(l){l.type=X.de;l.data=this.value};h.prototype.jl=function(l){l.type=X.be;l.data=this.value};h.prototype.wl=function(l){l.type=X.fg;l.data=this.value};h.prototype.zl=function(l){this.first.get(l);
l.ka()&&(l.data=-l.data)};h.prototype.dl=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.ka()&&g.ka()&&(l.data+=g.data,g.Id()&&l.Nd());this.p.ca()};h.prototype.xl=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.ka()&&g.ka()&&(l.data-=g.data,g.Id()&&l.Nd());this.p.ca()};h.prototype.rl=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.ka()&&g.ka()&&(l.data*=g.data,g.Id()&&l.Nd());this.p.ca()};h.prototype.gl=function(l){this.first.get(l);var g=this.p.ga();
this.na.get(g);l.ka()&&g.ka()&&(l.data/=g.data,l.Nd());this.p.ca()};h.prototype.ql=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.ka()&&g.ka()&&(l.data%=g.data,g.Id()&&l.Nd());this.p.ca()};h.prototype.ul=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.ka()&&g.ka()&&(l.data=Math.pow(l.data,g.data),g.Id()&&l.Nd());this.p.ca()};h.prototype.el=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.ka()?g.vf()?l.sb(l.data.toString()+g.data):l.data&&g.data?l.O(1):
l.O(0):l.vf()&&(l.data=g.vf()?l.data+g.data:l.data+(Math.round(1E10*g.data)/1E10).toString());this.p.ca()};h.prototype.tl=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.ka()&&g.ka()&&(l.data||g.data?l.O(1):l.O(0));this.p.ca()};h.prototype.fl=function(l){this.first.get(l);l.data?this.na.get(l):this.Wf.get(l)};h.prototype.hl=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.O(l.data===g.data?1:0);this.p.ca()};h.prototype.sl=function(l){this.first.get(l);var g=this.p.ga();
this.na.get(g);l.O(l.data!==g.data?1:0);this.p.ca()};h.prototype.ol=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.O(l.data<g.data?1:0);this.p.ca()};h.prototype.pl=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.O(l.data<=g.data?1:0);this.p.ca()};h.prototype.kl=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.O(l.data>g.data?1:0);this.p.ca()};h.prototype.ll=function(l){this.first.get(l);var g=this.p.ga();this.na.get(g);l.O(l.data>=g.data?1:0);this.p.ca()};
h.prototype.il=function(l){var g=this.bd.Sl();K(g)?l.M(g):l.sb(g)};W=h;n.prototype.Id=function(){return this.type===X.be};n.prototype.ka=function(){return this.type===X.de||this.type===X.be};n.prototype.vf=function(){return this.type===X.fg};n.prototype.Nd=function(){this.Id()||(this.vf()&&(this.data=parseFloat(this.data)),this.type=X.be)};n.prototype.O=function(l){this.type=X.de;this.data=Math.floor(l)};n.prototype.M=function(l){this.type=X.be;this.data=l};n.prototype.sb=function(l){this.type=X.fg;
this.data=l};ub=n;X={de:0,be:1,fg:2}})();function Z(h){this.b=h;this.eb=[]}
Z.prototype.Cb=function(){var h={},n,l,g,d,a,e,c,f;h.waits=[];var k=h.waits,m;n=0;for(l=this.eb.length;n<l;n++){e=this.eb[n];m={t:e.time,ev:e.me.G,sm:[],sols:{}};e.me.wb[e.lb]&&(m.act=e.me.wb[e.lb].G);g=0;for(d=e.$.length;g<d;g++)m.sm.push(e.$[g].G);for(a in e.Xa)if(e.Xa.hasOwnProperty(a)){c=this.b.i[parseInt(a,10)];f={sa:e.Xa[a].Pj,insts:[]};g=0;for(d=e.Xa[a].gd.length;g<d;g++)f.insts.push(e.Xa[a].gd[g].uid);m.sols[c.G.toString()]=f}k.push(m)}return h};
Z.prototype.pc=function(h){h=h.waits;var n,l,g,d,a,e,c,f,k,m,b;n=this.eb.length=0;for(l=h.length;n<l;n++)if(e=h[n],f=this.b.ki[e.ev.toString()]){k=-1;g=0;for(d=f.wb.length;g<d;g++)if(f.wb[g].G===e.act){k=g;break}if(-1!==k){c={Xa:{},$:[],xi:!1};c.time=e.t;c.me=f;c.lb=k;g=0;for(d=e.sm.length;g<d;g++)(f=this.b.pf(e.sm[g]))&&c.$.push(f);for(a in e.sols)if(e.sols.hasOwnProperty(a)&&(f=this.b.pf(parseInt(a,10)))){k=e.sols[a];m={Pj:k.sa,gd:[]};g=0;for(d=k.insts.length;g<d;g++)(b=this.b.Qi(k.insts[g]))&&
m.gd.push(b);c.Xa[f.index.toString()]=m}this.eb.push(c)}}};
(function(){function h(){}function n(){}var l=Z.prototype;h.prototype.Wh=H(!0);h.prototype.tk=H(!0);h.prototype.mk=function(){var a=this.b.Qa();return a.vg?!1:!a.ld};h.prototype.Xh=H(!0);h.prototype.qk=H(!0);h.prototype.eg=H(!0);h.prototype.uk=H(!0);h.prototype.dg=H(!0);l.R=new h;var g=[],d=[];l.cc=new (F());n.prototype["int"]=function(a,d){L(d)?(a.O(parseInt(d,10)),isNaN(a.data)&&(a.data=0)):a.O(d)};n.prototype["float"]=function(a,d){L(d)?(a.M(parseFloat(d)),isNaN(a.data)&&(a.data=0)):a.M(d)};n.prototype.sqrt=
function(a,d){a.M(Math.sqrt(d))};n.prototype.round=function(a,d){a.O(Math.round(d))};n.prototype.floor=function(a,d){a.O(Math.floor(d))};n.prototype.ceil=function(a,d){a.O(Math.ceil(d))};n.prototype.sin=function(a,d){a.M(Math.sin(U(d)))};n.prototype.cos=function(a,d){a.M(Math.cos(U(d)))};n.prototype.tan=function(a,d){a.M(Math.tan(U(d)))};n.prototype.acos=function(a,d){a.M(qa(Math.acos(d)))};n.prototype.max=function(a){var d=arguments[1],c,f;c=2;for(f=arguments.length;c<f;c++)d<arguments[c]&&(d=arguments[c]);
a.M(d)};n.prototype.min=function(a){var d=arguments[1],c,f;c=2;for(f=arguments.length;c<f;c++)d>arguments[c]&&(d=arguments[c]);a.M(d)};n.prototype.Ed=function(a){a.M(this.b.Ed)};n.prototype.Te=function(a){a.M(this.b.Te)};n.prototype.time=function(a){a.M(this.b.Jd.Ja)};n.prototype.qc=function(a){a.O(this.b.qc)};n.prototype.Hf=function(a){a.O(this.b.Hf)};n.prototype.Bg=function(a){a.O(this.b.Bg)};n.prototype.j=function(a,d,c,f,k){a.M(qa(ua(d,c,f,k)))};n.prototype.ln=function(a){a.O(this.b.width)};n.prototype.kn=
function(a){a.O(this.b.height)};n.prototype.left=function(a,d,c){a.sb(L(d)?d.substr(0,c):"")};n.prototype.right=function(a,d,c){a.sb(L(d)?d.substr(d.length-c):"")};n.prototype.replace=function(a,d,c,f){L(d)&&L(c)&&L(f)?a.sb(d.replace(RegExp(Ea(c),"gi"),f)):a.sb(L(d)?d:"")};n.prototype.rg=function(a){a.M(this.b.rg/1E3)};n.prototype.Ff=function(a){a.M(this.b.Ff)};l.Dc=new n;l.Pm=function(){var a,e,c,f,k,m,b=this.b.Qa();a=0;for(c=this.eb.length;a<c;a++)if(f=this.eb[a],!(f.time>this.b.Jd.Ja)){b.yb=f.me;
b.lb=f.lb;b.Fa=0;for(e in f.Xa)f.Xa.hasOwnProperty(e)&&(k=this.b.i[parseInt(e,10)].U(),m=f.Xa[e],k.da=m.Pj,pa(k.d,m.gd),k=m,k.gd.length=0,d.push(k));f.me.Om();this.b.qg(f.$);f.xi=!0}e=a=0;for(c=this.eb.length;a<c;a++)f=this.eb[a],this.eb[e]=f,f.xi?(Ba(f.Xa),f.$.length=0,g.push(f)):e++;this.eb.length=e}})();
(function(){Ma=function(h){var l=h[0].prototype,g=h[1],d=h[3],a=h[4],e=h[5],c=h[6],f=h[7];h=h[8];l.R||(l.R={});l.cc||(l.cc={});l.Dc||(l.Dc={});var k=l.R,m=l.cc,l=l.Dc;d&&(k.xn=function(b,a){return vb(this.x,b,a)},k.yn=function(b,a){return vb(this.y,b,a)},k.Hn=function(){var b=this.e;this.kb();var a=this.Da;return!(a.right<b.ab||a.bottom<b.cb||a.left>b.bb||a.top>b.$a)},k.In=function(){this.kb();var b=this.Da,a=this.b.S;return 0>b.right||0>b.bottom||b.left>a.width||b.top>a.height},k.Un=function(b,a,
c){var f=this.U(),d=f.Mb();if(!d.length)return!1;var e=d[0],k=e,m=ya(e.x,e.y,a,c),g,l,h;g=1;for(l=d.length;g<l;g++)if(e=d[g],h=ya(e.x,e.y,a,c),0===b&&h<m||1===b&&h>m)m=h,k=e;f.Ke(k);return!0},m.po=function(b){this.x!==b&&(this.x=b,this.ra())},m.qo=function(b){this.y!==b&&(this.y=b,this.ra())},m.ko=function(b,a){if(this.x!==b||this.y!==a)this.x=b,this.y=a,this.ra()},m.lo=function(b,a){var c=b.Ol(this);if(c){var f;c.Hg?(f=c.Hg(a,!0),c=c.Hg(a,!1)):(f=c.x,c=c.y);if(this.x!==f||this.y!==c)this.x=f,this.y=
c,this.ra()}},m.Nn=function(b){0!==b&&(this.x+=Math.cos(this.j)*b,this.y+=Math.sin(this.j)*b,this.ra())},m.Mn=function(b,a){0!==a&&(this.x+=Math.cos(U(b))*a,this.y+=Math.sin(U(b))*a,this.ra())},l.vo=function(b){b.M(this.x)},l.wo=function(b){b.M(this.y)},l.Ed=function(b){b.M(this.b.Li(this))});a&&(k.wn=function(b,a){return vb(this.width,b,a)},k.tn=function(b,a){return vb(this.height,b,a)},m.vk=function(b){this.width!==b&&(this.width=b,this.ra())},m.ho=function(b){this.height!==b&&(this.height=b,this.ra())},
m.mo=function(b,a){if(this.width!==b||this.height!==a)this.width=b,this.height=a,this.ra()},l.uo=function(b){b.M(this.width)},l.Bn=function(b){b.M(this.height)},l.qn=function(b){this.kb();b.M(this.Da.left)},l.sn=function(b){this.kb();b.M(this.Da.top)},l.rn=function(b){this.kb();b.M(this.Da.right)},l.pn=function(b){this.kb();b.M(this.Da.bottom)});e&&(k.on=function(b,a){return va(this.j,U(a))<=U(b)},k.Fn=function(b){return xa(this.j,U(b))},k.Dn=function(b,a){var c=ta(b),f=ta(a),d=V(this.j);return xa(f,
c)?xa(d,c)&&!xa(d,f):!(!xa(d,c)&&xa(d,f))},m.bo=function(b){b=U(ra(b));isNaN(b)||this.j===b||(this.j=b,this.ra())},m.Yn=function(b){0===b||isNaN(b)||(this.j+=U(b),this.j=V(this.j),this.ra())},m.Zn=function(b){0===b||isNaN(b)||(this.j-=U(b),this.j=V(this.j),this.ra())},m.$n=function(b,a){var c=wa(this.j,U(a),U(b));isNaN(c)||this.j===c||(this.j=c,this.ra())},m.ao=function(b,a,c){b=wa(this.j,Math.atan2(c-this.y,a-this.x),U(b));isNaN(b)||this.j===b||(this.j=b,this.ra())},m.no=function(b,a){var c=Math.atan2(a-
this.y,b-this.x);isNaN(c)||this.j===c||(this.j=c,this.ra())},l.nn=function(b){b.M(sa(this.j))});g||(k.un=function(b,a,c){return vb(this.ea[b],a,c)},k.En=function(b){return this.ea[b]},k.Vn=function(b,a){var c=this.U(),f=c.Mb();if(!f.length)return!1;var d=f[0],e=d,k=d.ea[a],m,g,l;m=1;for(g=f.length;m<g;m++)if(d=f[m],l=d.ea[a],0===b&&l<k||1===b&&l>k)k=l,e=d;c.Ke(e);return!0},k.Tn=function(b){var a,c,f,d,e;if(this.b.Gl().ue){e=this.U();if(e.da)for(e.da=!1,e.d.length=0,e.K.length=0,f=this.d,a=0,c=f.length;a<
c;a++)d=f[a],d.uid===b?e.K.push(d):e.d.push(d);else{f=a=0;for(c=e.d.length;a<c;a++)d=e.d[a],e.d[f]=d,d.uid===b?e.K.push(d):f++;e.d.length=f}this.Wc();return!!e.d.length}d=this.b.Qi(b);if(!d)return!1;e=this.U();if(!e.da&&-1===e.d.indexOf(d))return!1;if(this.u)for(b=d.type.Q,a=0,c=b.length;a<c;a++){if(b[a]===this)return e.Ke(d),this.Wc(),!0}else if(d.type===this)return e.Ke(d),this.Wc(),!0;return!1},k.rk=H(!0),k.sk=H(!0),m.io=function(b,a){var c=this.ea;K(c[b])?c[b]=K(a)?a:parseFloat(a):L(c[b])&&(c[b]=
L(a)?a:a.toString())},m.mn=function(b,a){var c=this.ea;K(c[b])?c[b]=K(a)?c[b]+a:c[b]+parseFloat(a):L(c[b])&&(c[b]=L(a)?c[b]+a:c[b]+a.toString())},m.ro=function(b,a){var c=this.ea;K(c[b])&&(c[b]=K(a)?c[b]-a:c[b]-parseFloat(a))},m.co=function(b,a){this.ea[b]=a?1:0},m.so=function(b){this.ea[b]=1-this.ea[b]},m.An=function(){this.b.yd(this)},m.nk||(m.nk=function(b){var a,c;try{a=JSON.parse(b)}catch(f){return}this.b.Df(this,a,!0);this.vc&&this.vc();if(this.B)for(b=0,a=this.B.length;b<a;++b)c=this.B[b],
c.vc&&c.vc()}),l.zn=function(b){var a=b.Od.d.length,c,f,d;c=0;for(f=this.b.Pa.length;c<f;c++)d=this.b.Pa[c],b.Od.u?0<=d.type.Q.indexOf(b.Od)&&a++:d.type===b.Od&&a++;b.O(a)},l.Xn=function(b){b.O(b.Od.U().Mb().length)},l.to=function(b){b.O(this.uid)},l.Cn=function(b){b.O(this.qe())},l.lk||(l.lk=function(b){b.sb(JSON.stringify(this.b.Bh(this,!0)))}));c&&(k.Jn=G("visible"),m.oo=function(b){!b!==!this.visible&&(this.visible=b,this.b.N=!0)},k.vn=function(b,a){return vb(Ja(100*this.opacity),b,a)},m.jo=function(b){b/=
100;0>b?b=0:1<b&&(b=1);b!==this.opacity&&(this.opacity=b,this.b.N=!0)},l.Opacity=function(b){b.M(Ja(100*this.opacity))});f&&(k.Gn=function(b){return b?this.e===b:!1},k.Wn=function(b){var a=this.U(),c=a.Mb();if(!c.length)return!1;var f=c[0],d=f,e,k;e=1;for(k=c.length;e<k;e++)if(f=c[e],0===b){if(f.e.index>d.e.index||f.e.index===d.e.index&&f.ib()>d.ib())d=f}else if(f.e.index<d.e.index||f.e.index===d.e.index&&f.ib()<d.ib())d=f;a.Ke(d);return!0},m.Qn=function(){var b=this.ib();b!==this.e.d.length-1&&(Q(this.e.d,
b),this.e.d.push(this),this.b.N=!0,this.e.fb=!0)},m.On=function(){var b=this.ib();0!==b&&(Q(this.e.d,b),this.e.d.unshift(this),this.b.N=!0,this.e.fb=!0)},m.Pn=function(b){b&&b!=this.e&&(Q(this.e.d,this.ib()),this.e.fb=!0,this.e=b,this.xd=b.d.length,b.d.push(this),this.b.N=!0)},m.yo=function(b,a){var c=0===b;if(a){var f=a.Hl(this);if(f&&f.uid!==this.uid){this.e.index!==f.e.index&&(Q(this.e.d,this.ib()),this.e.fb=!0,this.e=f.e,this.xd=f.e.d.length,f.e.d.push(this));var d=this.ib(),f=f.ib();Q(this.e.d,
d);d<f&&f--;c&&f++;f===this.e.d.length?this.e.d.push(this):this.e.d.splice(f,0,this);this.e.fb=!0;this.b.N=!0}}},l.Ln=function(b){b.O(this.e.yj)},l.Kn=function(b){b.sb(this.e.name)},l.xo=function(b){b.O(this.ib())});h&&(m.eo=function(b,a){if(this.b.k){var c=this.type.Gg(a);if(!(0>c)){var f=1===b;this.uc[c]!==f&&(this.uc[c]=f,this.sc(),this.b.N=!0)}}},m.fo=function(b,a,c){if(this.b.k){var f=this.type.Gg(b);0>f||(b=this.type.r[f],f=this.W[f],a=Math.floor(a),0>a||a>=f.length||(1===this.b.k.Rl(b.ta,a)&&
(c/=100),f[a]!==c&&(f[a]=c,b.ac&&(this.b.N=!0))))}})};eb=function(){this.ig=!0;this.type.di=!0;this.b.N=!0;var h,l,g=this.jg;h=0;for(l=g.length;h<l;++h)g[h](this)};fb=function(h){h&&this.jg.push(h)};var h=new P(0,0,0,0);hb=function(){if(this.ig){var n=this.Da,l=this.yc;n.set(this.x,this.y,this.x+this.width,this.y+this.height);n.offset(-this.Ha*this.width,-this.Ia*this.height);this.j?(n.offset(-this.x,-this.y),l.Tj(n,this.j),l.offset(this.x,this.y),l.li(n)):l.Rf(n);n.normalize();this.ig=!1;if(this.ie){var l=
this.type.qi,g=this.Ze;h.set(l.Zh(n.left),l.$h(n.top),l.Zh(n.right),l.$h(n.bottom));g.cl(h)||(g.right<g.left?l.update(this,null,h):l.update(this,g,h),g.copy(h))}}};gb=function(h,l){return this.Da.zc(h,l)&&this.yc.zc(h,l)?this.Gb&&!this.Gb.wm()?(this.Gb.Gk(this.width,this.height,this.j),this.Gb.zc(h-this.x,l-this.y)):!0:!1};ab=function(){this.type.ag();return this.ed};ib=function(){this.e.dn();return this.xd};jb=function(){this.I.length=0;var h,l;h=0;for(l=this.uc.length;h<l;h++)this.uc[h]&&this.I.push(this.type.r[h]);
this.jk=!!this.I.length};bb=function(){return"Inst"+this.Lj};Pa=function(h){if(h&&h.zb&&h.type!=this){var l,g,d;l=0;for(g=h.siblings.length;l<g;l++)if(d=h.siblings[l],d.type==this)return d}h=this.U().Mb();return h.length?h[0]:null};Qa=function(h){var l=this.U().Mb();return l.length?l[h.qe()%l.length]:null};Oa=function(){if(this.Yd&&!this.u){var h,l;h=0;for(l=this.d.length;h<l;h++)this.d[h].ed=h;var g=h,d=this.b.Pa;h=0;for(l=d.length;h<l;++h)d[h].type===this&&(d[h].ed=g++);this.Yd=!1}};Za=function(h){if(h<
this.d.length)return this.d[h];h-=this.d.length;var l=this.b.Pa,g,d;g=0;for(d=l.length;g<d;++g)if(l[g].type===this){if(0===h)return l[g];--h}return null};Ra=function(){return this.Rc[this.ic]};Sa=function(){this.ic++;this.ic===this.Rc.length?this.Rc.push(new Na(this)):this.Rc[this.ic].da=!0};Ta=function(){this.ic++;this.ic===this.Rc.length&&this.Rc.push(new Na(this));var h=this.Rc[this.ic],l=this.Rc[this.ic-1];l.da?h.da=!0:(h.da=!1,pa(h.d,l.d),pa(h.K,l.K))};Ua=function(){this.ic--};Va=function(h){var l,
g,d,a,e,c=0;if(!this.u)for(l=0,g=this.Q.length;l<g;l++)for(e=this.Q[l],d=0,a=e.aa.length;d<a;d++){if(h===e.aa[d].name)return this.Y.hj=c,e.aa[d];c++}l=0;for(g=this.aa.length;l<g;l++){if(h===this.aa[l].name)return this.Y.hj=c,this.aa[l];c++}return null};Wa=function(h){return this.nf(h)?this.Y.hj:-1};Xa=function(h){var l,g;l=0;for(g=this.r.length;l<g;l++)if(this.r[l].name===h)return l;return-1};Ya=function(){if(this.zb&&!this.u){var h,l,g,d,a,e,c;this.ag();e=this.U();var f=e.da,k=(h=this.b.Qa())&&h.yb&&
h.yb.Rb;h=0;for(l=this.Ga.length;h<l;h++)if(a=this.Ga[h],a!==this&&(a.ag(),c=a.U(),c.da=f,!f)){c.d.length=e.d.length;g=0;for(d=e.d.length;g<d;g++)c.d[g]=a.Ni(e.d[g].ed);if(k)for(c.K.length=e.K.length,g=0,d=e.K.length;g<d;g++)c.K[g]=a.Ni(e.K[g].ed)}}};$a=function(){return"Type"+this.G};vb=function(h,l,g){if("undefined"===typeof h||"undefined"===typeof g)return!1;switch(l){case 0:return h===g;case 1:return h!==g;case 2:return h<g;case 3:return h<=g;case 4:return h>g;case 5:return h>=g;default:return!1}}})();
var Cb={};function Eb(h){this.b=h}
(function(){function h(){if(0===this.ug.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var c=a.getContext("2d");this.Xd?c.drawImage(this.C,this.Pd,this.Qd,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.C,0,0,this.width,this.height);this.ug=a.toDataURL("image/png")}return this.ug}function n(){}var l=Eb.prototype;l.Tc=function(a){this.qa=a;this.b=a.b};var g=l.Tc.prototype;g.za=function(){if(!this.u){var a,c,d,b,e,g,l,n,p;this.xb=[];this.rf=
!1;a=0;for(c=this.Ka.length;a<c;a++){e=this.Ka[a];l={};l.name=e[0];l.speed=e[1];l.loop=e[2];l.vh=e[3];l.Pf=e[4];l.Fj=e[5];l.G=e[6];l.frames=[];d=0;for(b=e[7].length;d<b;d++)g=e[7][d],n={},n.Ih=g[0],n.Jh=g[1],n.Pd=g[2],n.Qd=g[3],n.width=g[4],n.height=g[5],n.duration=g[6],n.Ha=g[7],n.Ia=g[8],n.Kg=g[9],n.Kf=g[10],n.Gj=g[11],n.Xd=0!==n.width,n.ug="",n.Bo=h,p={left:0,top:0,right:1,bottom:1},n.Eh=p,n.T=null,(p=this.b.Cl(g[0]))?n.C=p:(n.C=new Image,n.C.idtkLoadDisposed=!0,n.C.src=g[0],n.C.Kk=g[0],n.C.si=
g[1],n.C.Fk=null,this.b.tc.push(n.C)),l.frames.push(n),this.xb.push(n);this.Ka[a]=l}}};g.cn=function(){var a,c,d;a=0;for(c=this.d.length;a<c;a++)d=this.d[a],d.cf=d.mb.T};g.Jf=function(){if(!this.u){var a,c,d;a=0;for(c=this.xb.length;a<c;++a)d=this.xb[a],d.C.Fk=null,d.T=null}};g.hh=function(){if(!this.u&&this.d.length){var a,c,d;a=0;for(c=this.xb.length;a<c;++a)d=this.xb[a],d.T=this.b.k.Ef(d.C,!1,this.b.J,d.Gj);this.cn()}};g.Xg=function(){if(!this.u&&!this.rf&&this.b.k){var a,c,d;a=0;for(c=this.xb.length;a<
c;++a)d=this.xb[a],d.T=this.b.k.Ef(d.C,!1,this.b.J,d.Gj);this.rf=!0}};g.Ph=function(){if(!this.u&&!this.d.length&&this.rf){var a,c,d;a=0;for(c=this.xb.length;a<c;++a)d=this.xb[a],this.b.k.deleteTexture(d.T);this.rf=!1}};var d=[];g.mh=function(a){var c,e,b;c=d.length=0;for(e=this.xb.length;c<e;++c)b=this.xb[c].C,-1===d.indexOf(b)&&(a.drawImage(b,0,0),d.push(b))};l.Eb=function(a){this.type=a;this.b=a.b;a=this.type.Ka[0].frames[0].Kf;this.rb?this.Gb.Pe(a):this.Gb=new Fa(a)};var a=l.Eb.prototype;a.za=
function(){this.visible=0===this.Aa[0];this.ie=0!==this.Aa[3];1===this.type.Ka.length&&1===this.type.Ka[0].frames.length||0===this.type.Ka[0].speed||this.b.ak(this);this.V=this.Ii(this.Aa[1])||this.type.Ka[0];this.m=this.Aa[2];0>this.m&&(this.m=0);this.m>=this.V.frames.length&&(this.m=this.V.frames.length-1);var a=this.V.frames[this.m];this.Gb.Pe(a.Kf);this.Ha=a.Ha;this.Ia=a.Ia;this.ke=this.V.speed;this.rb?this.Fb.reset():this.Fb=new Da;this.jc=this.Fb.Ja;this.Vc=!0;this.ec=0;this.Uc=!0;this.og=this.bi=
"";this.Jk=0;this.ng=-1;this.type.Xg();var c,d,b,e,g,h,l,a=0;for(c=this.type.Ka.length;a<c;a++)for(e=this.type.Ka[a],d=0,b=e.frames.length;d<b;d++)g=e.frames[d],0===g.width&&(g.width=g.C.width,g.height=g.C.height),g.Xd&&(l=g.C,h=g.Eh,h.left=g.Pd/l.width,h.top=g.Qd/l.height,h.right=(g.Pd+g.width)/l.width,h.bottom=(g.Qd+g.height)/l.height,0===g.Pd&&0===g.Qd&&g.width===l.width&&g.height===l.height&&(g.Xd=!1));this.mb=this.V.frames[this.m];this.cf=this.mb.T};a.Cb=function(){var a={a:this.V.G,f:this.m,
cas:this.ke,fs:this.jc,ar:this.ec,at:this.Fb.Ja};this.Vc||(a.ap=this.Vc);this.Uc||(a.af=this.Uc);return a};a.pc=function(a){var c=this.El(a.a);c&&(this.V=c);this.m=a.f;0>this.m&&(this.m=0);this.m>=this.V.frames.length&&(this.m=this.V.frames.length-1);this.ke=a.cas;this.jc=a.fs;this.ec=a.ar;this.Fb.reset();this.Fb.Ja=a.at;this.Vc=a.hasOwnProperty("ap")?a.ap:!0;this.Uc=a.hasOwnProperty("af")?a.af:!0;this.mb=this.V.frames[this.m];this.cf=this.mb.T;this.Gb.Pe(this.mb.Kf);this.Ha=this.mb.Ha;this.Ia=this.mb.Ia};
a.hg=function(a){this.m=a?0:this.V.frames.length-1;this.Vc=!1;this.bi=this.V.name;this.b.trigger(Eb.prototype.R.pk,this);this.b.trigger(Eb.prototype.R.ok,this);this.ec=0};a.Co=function(){return this.Fb.Ja};a.ud=function(){this.Fb.add(this.b.Li(this));this.og.length&&this.Nk();0<=this.ng&&this.Ok();var a=this.Fb.Ja,c=this.V,d=c.frames[this.m],b=d.duration/this.ke;this.Vc&&a>=this.jc+b&&(this.Uc?this.m++:this.m--,this.jc+=b,this.m>=c.frames.length&&(c.Fj?(this.Uc=!1,this.m=c.frames.length-2):c.loop?
this.m=c.Pf:(this.ec++,this.ec>=c.vh?this.hg(!1):this.m=c.Pf)),0>this.m&&(c.Fj?(this.m=1,this.Uc=!0,c.loop||(this.ec++,this.ec>=c.vh&&this.hg(!0))):c.loop?this.m=c.Pf:(this.ec++,this.ec>=c.vh?this.hg(!0):this.m=c.Pf)),0>this.m?this.m=0:this.m>=c.frames.length&&(this.m=c.frames.length-1),a>this.jc+c.frames[this.m].duration/this.ke&&(this.jc=a),a=c.frames[this.m],this.ee(d,a),this.b.N=!0)};a.Ii=function(a){var c,d,b;c=0;for(d=this.type.Ka.length;c<d;c++)if(b=this.type.Ka[c],Ka(b.name,a))return b;return null};
a.El=function(a){var c,d,b;c=0;for(d=this.type.Ka.length;c<d;c++)if(b=this.type.Ka[c],b.G===a)return b;return null};a.Nk=function(){var a=this.V.frames[this.m],c=this.Ii(this.og);this.og="";!c||Ka(c.name,this.V.name)&&this.Vc||(this.V=c,this.ke=c.speed,0>this.m&&(this.m=0),this.m>=this.V.frames.length&&(this.m=this.V.frames.length-1),1===this.Jk&&(this.m=0),this.Vc=!0,this.jc=this.Fb.Ja,this.Uc=!0,this.ee(a,this.V.frames[this.m]),this.b.N=!0)};a.Ok=function(){var a=this.V.frames[this.m],c=this.m;
this.m=N(this.ng);0>this.m&&(this.m=0);this.m>=this.V.frames.length&&(this.m=this.V.frames.length-1);c!==this.m&&(this.ee(a,this.V.frames[this.m]),this.jc=this.Fb.Ja,this.b.N=!0);this.ng=-1};a.ee=function(a,c){var d=a.width,b=a.height,e=c.width,g=c.height;d!=e&&(this.width*=e/d);b!=g&&(this.height*=g/b);this.Ha=c.Ha;this.Ia=c.Ia;this.Gb.Pe(c.Kf);this.ra();this.mb=c;this.cf=c.T;d=0;for(b=this.B.length;d<b;d++)e=this.B[d],e.Dm&&e.Dm(a,c);this.b.trigger(Eb.prototype.R.ee,this)};a.Jb=function(a){a.globalAlpha=
this.opacity;var c=this.mb,d=c.Xd,b=c.C,e=this.x,g=this.y,h=this.width,l=this.height;if(0===this.j&&0<=h&&0<=l)e-=this.Ha*h,g-=this.Ia*l,this.b.Sb&&(e=e+0.5|0,g=g+0.5|0),d?a.drawImage(b,c.Pd,c.Qd,c.width,c.height,e,g,h,l):a.drawImage(b,e,g,h,l);else{this.b.Sb&&(e=e+0.5|0,g=g+0.5|0);a.save();var n=0<h?1:-1,v=0<l?1:-1;a.translate(e,g);1===n&&1===v||a.scale(n,v);a.rotate(this.j*n*v);e=0-this.Ha*M(h);g=0-this.Ia*M(l);d?a.drawImage(b,c.Pd,c.Qd,c.width,c.height,e,g,M(h),M(l)):a.drawImage(b,e,g,M(h),M(l));
a.restore()}};a.nb=function(a){a.Wa(this.cf);a.sd(this.opacity);var c=this.mb,d=this.yc;if(this.b.Sb){var b=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;c.Xd?a.Tb(d.ua+b,d.wa+e,d.Ya+b,d.Za+e,d.Na+b,d.Oa+e,d.La+b,d.Ma+e,c.Eh):a.Nf(d.ua+b,d.wa+e,d.Ya+b,d.Za+e,d.Na+b,d.Oa+e,d.La+b,d.Ma+e)}else c.Xd?a.Tb(d.ua,d.wa,d.Ya,d.Za,d.Na,d.Oa,d.La,d.Ma,c.Eh):a.Nf(d.ua,d.wa,d.Ya,d.Za,d.Na,d.Oa,d.La,d.Ma)};a.Jl=function(a){var c=this.mb,d,b;d=0;for(b=c.Kg.length;d<b;d++)if(Ka(a,c.Kg[d][0]))return d;return-1};a.Hg=
function(a,c){var d=this.mb,b=d.Kg,e;e=L(a)?this.Jl(a):a-1;e=N(e);if(0>e||e>=b.length)return c?this.x:this.y;var g=(b[e][1]-d.Ha)*this.width,b=b[e][2],b=(b-d.Ia)*this.height,d=Math.cos(this.j);e=Math.sin(this.j);var h=g*d-b*e,b=b*d+g*e,g=h+this.x,b=b+this.y;return c?g:b};var e=new I,c=!1;g.finish=function(a){if(c){if(a){var d=this.b.Qa().yb.Rb;a=null.U();var g=e.Ue(),b,h;if(a.da){a.da=!1;a.d.length=g.length;b=0;for(h=g.length;b<h;b++)a.d[b]=g[b];if(d)for(b=a.K.length=0,h=null.d.length;b<h;b++)g=null.d[b],
e.contains(g)||a.K.push(g)}else if(d)for(d=a.d.length,a.d.length=d+g.length,b=0,h=g.length;b<h;b++)a.d[d+b]=g[b],T(a.K,g[b]);else pa(a.d,g);null.Wc()}e.clear();c=!1}};n.prototype.ok=function(a){return Ka(this.bi,a)};n.prototype.pk=H(!0);n.prototype.ee=H(!0);l.R=new n;l.cc=new (F());l.Dc=new (F())})();function Fb(h){this.b=h}
(function(){function h(){return e.length?e.pop():{}}function n(a){var d,g;d=0;for(g=a.length;d<g;d++)e.push(a[d]);a.length=0}function l(){}var g=Fb.prototype;g.za=function(){g.cc.vk=function(a){this.width!==a&&(this.width=a,this.td=!0,this.ra())}};g.Tc=function(a){this.qa=a;this.b=a.b};var d=g.Tc.prototype;d.za=F();d.Jf=function(){if(!this.u){var a,d,e;a=0;for(d=this.d.length;a<d;a++)e=this.d[a],e.Qb=null,e.pd=null,e.Ua=null}};g.Eb=function(a){this.type=a;this.b=a.b;this.rb?this.Jc.length=0:this.Jc=
[];this.td=!0};d=g.Eb.prototype;d.za=function(){this.text=this.Aa[0];this.visible=0===this.Aa[1];this.font=this.Aa[2];this.color=this.Aa[3];this.qf=this.Aa[4];this.bg=this.Aa[5];this.Uh=0===this.Aa[7];this.Ug=this.zf=this.width;this.yf=this.height;this.Wg=this.Aa[8];this.lf=this.Fd="";this.Yj=this.Zj=this.Me=0;this.Em();this.Ua=this.pd=this.Qb=null;this.wj=!1;this.De=this.b.qc;this.rb?this.Mc.set(0,0,1,1):this.Mc=new P(0,0,1,1);this.b.k&&this.b.ak(this)};d.Em=function(){var a=this.font.split(" "),
d;for(d=0;d<a.length;d++)if("pt"===a[d].substr(a[d].length-2,2)){this.Me=parseInt(a[d].substr(0,a[d].length-2));this.qh=Math.ceil(96*(this.Me/72))+4;0<d&&(this.lf=a[d-1]);this.Fd=a[d+1];for(d+=2;d<a.length;d++)this.Fd+=" "+a[d];break}};d.Cb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.qf,va:this.bg,wr:this.Uh,lho:this.Wg,fn:this.Fd,fs:this.lf,ps:this.Me,pxh:this.qh,tw:this.Zj,th:this.Yj,lrt:this.De}};d.pc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.qf=a.ha;this.bg=
a.va;this.Uh=a.wr;this.Wg=a.lho;this.Fd=a.fn;this.lf=a.fs;this.Me=a.ps;this.qh=a.pxh;this.Zj=a.tw;this.Yj=a.th;this.De=a.lrt;this.td=!0;this.Ug=this.zf=this.width;this.yf=this.height};d.ud=function(){if(this.b.k&&this.Ua&&300<=this.b.qc-this.De){var a=this.e;this.kb();var d=this.Da;if(d.right<a.ab||d.bottom<a.cb||d.left>a.bb||d.top>a.$a)this.b.k.deleteTexture(this.Ua),this.Qb=this.pd=this.Ua=null}};d.Je=function(){this.Qb=this.pd=null;this.b.k&&this.Ua&&this.b.k.deleteTexture(this.Ua);this.Ua=null};
d.Ko=function(){this.font=this.lf+" "+this.Me.toString()+"pt "+this.Fd;this.td=!0;this.b.N=!0};d.Jb=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var e=1;d&&(e=this.e.Ra(),a.save(),a.scale(e,e));if(this.td||this.width!==this.Ug)this.type.qa.xk(this.text,this.Jc,a,this.width,this.Uh),this.td=!1,this.Ug=this.width;this.kb();var e=d?0:this.yc.ua,g=d?0:this.yc.wa;this.b.Sb&&(e=e+0.5|0,g=g+0.5|0);0===this.j||d||(a.save(),a.translate(e,g),a.rotate(this.j),
g=e=0);var b=g+this.height,h=this.qh,h=h+this.Wg,l,n;1===this.bg?g+=Math.max(this.height/2-this.Jc.length*h/2,0):2===this.bg&&(g+=Math.max(this.height-this.Jc.length*h-2,0));for(n=0;n<this.Jc.length&&!(l=e,1===this.qf?l=e+(this.width-this.Jc[n].width)/2:2===this.qf&&(l=e+(this.width-this.Jc[n].width)),a.fillText(this.Jc[n].text,l,g),g+=h,g>=b-h);n++);(0!==this.j||d)&&a.restore();this.De=this.b.qc};d.nb=function(a){if(!(1>this.width||1>this.height)){var d=this.td||this.wj;this.wj=!1;var e=this.e.Ra(),
g=this.e.kc(),b=this.Mc,h=e*this.width,l=e*this.height,n=Math.ceil(h),u=Math.ceil(l),p=this.b.F/2,v=this.b.D/2;this.pd||(this.Qb=document.createElement("canvas"),this.Qb.width=n,this.Qb.height=u,this.zf=n,this.yf=u,d=!0,this.pd=this.Qb.getContext("2d"));if(n!==this.zf||u!==this.yf)this.Qb.width=n,this.Qb.height=u,this.Ua&&(a.deleteTexture(this.Ua),this.Ua=null),d=!0;d&&(this.pd.clearRect(0,0,n,u),this.Jb(this.pd,!0),this.Ua||(this.Ua=a.gc(n,u,this.b.J,this.b.Fc)),a.jn(this.Qb,this.Ua,this.b.Fc));
this.zf=n;this.yf=u;a.Wa(this.Ua);a.sd(this.opacity);a.Ub();a.translate(-p,-v);a.Zb();var w=this.yc,A=this.b.devicePixelRatio;this.b.devicePixelRatio=1;var d=this.e.fa(w.ua,w.wa,!0),p=this.e.fa(w.ua,w.wa,!1),v=this.e.fa(w.Ya,w.Za,!0),R=this.e.fa(w.Ya,w.Za,!1),S=this.e.fa(w.Na,w.Oa,!0),C=this.e.fa(w.Na,w.Oa,!1),z=this.e.fa(w.La,w.Ma,!0),w=this.e.fa(w.La,w.Ma,!1);this.b.devicePixelRatio=A;if(this.b.Sb||0===this.j&&0===g)var A=(d+0.5|0)-d,r=(p+0.5|0)-p,d=d+A,p=p+r,v=v+A,R=R+r,S=S+A,C=C+r,z=z+A,w=w+r;
0===this.j&&0===g?(v=d+n,R=p,S=v,C=p+u,z=d,w=C,b.right=1,b.bottom=1):(b.right=h/n,b.bottom=l/u);a.Tb(d,p,v,R,S,C,z,w,b);a.Ub();a.scale(e,e);a.xh(-this.e.kc());a.translate((this.e.ab+this.e.bb)/-2,(this.e.cb+this.e.$a)/-2);a.Zb();this.De=this.b.qc}};var a=[];g.wk=function(c){a.length=0;for(var d="",e,g=0;g<c.length;)if(e=c.charAt(g),"\n"===e)d.length&&(a.push(d),d=""),a.push("\n"),++g;else if(" "===e||"\t"===e||"-"===e){do d+=c.charAt(g),g++;while(g<c.length&&(" "===c.charAt(g)||"\t"===c.charAt(g)));
a.push(d);d=""}else g<c.length&&(d+=e,g++);d.length&&a.push(d)};var e=[];g.xk=function(a,d,e,g,b){if(a&&a.length)if(2>=g)n(d);else{if(100>=a.length&&-1===a.indexOf("\n")){var l=e.measureText(a).width;if(l<=g){n(d);d.push(h());d[0].text=a;d[0].width=l;return}}this.yk(a,d,e,g,b)}else n(d)};g.yk=function(c,d,g,l,b){b&&(this.wk(c),c=a);var n="",s,t,u,p=0;for(u=0;u<c.length;u++)"\n"===c[u]?(p>=d.length&&d.push(h()),t=d[p],t.text=n,t.width=g.measureText(n).width,p++,n=""):(s=n,n+=c[u],t=g.measureText(n).width,
t>=l&&(p>=d.length&&d.push(h()),t=d[p],t.text=s,t.width=g.measureText(s).width,p++,n=c[u],b||" "!==n||(n="")));n.length&&(p>=d.length&&d.push(h()),t=d[p],t.text=n,t.width=g.measureText(n).width,p++);for(u=p;u<d.length;u++)e.push(d[u]);d.length=p};g.R=new (F());l.prototype.Yh=function(a){K(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.td=!0,this.b.N=!0)};g.cc=new l;g.Dc=new (F())})();function Gb(h){this.b=h}
(function(){var h=Gb.prototype;h.Tc=function(h){this.qa=h;this.b=h.b};var n=h.Tc.prototype;n.za=function(){this.u||(this.C=new Image,this.C.idtkLoadDisposed=!0,this.C.src=this.Ih,this.C.si=this.Jh,this.b.tc.push(this.C),this.T=this.pattern=null)};n.Jf=function(){this.u||(this.T=null)};n.hh=function(){if(!this.u&&this.d.length){this.T||(this.T=this.b.k.Ef(this.C,!0,this.b.J,this.Kh));var h,g;h=0;for(g=this.d.length;h<g;h++)this.d[h].T=this.T}};n.Xg=function(){this.u||this.T||!this.b.k||(this.T=this.b.k.Ef(this.C,
!0,this.b.J,this.Kh))};n.Ph=function(){this.u||this.d.length||!this.T||(this.b.k.deleteTexture(this.T),this.T=null)};n.mh=function(h){h.drawImage(this.C,0,0)};h.Eb=function(h){this.type=h;this.b=h.b};n=h.Eb.prototype;n.za=function(){this.visible=0===this.Aa[0];this.Mc=new P(0,0,0,0);this.Ui=!1;this.C=this.type.C;this.b.k?(this.type.Xg(),this.T=this.type.T):(this.type.pattern||(this.type.pattern=this.b.L.createPattern(this.type.C,"repeat")),this.pattern=this.type.pattern)};n.vc=function(){this.Ui=
!1;this.C=this.type.C};n.Je=function(){this.b.k&&this.Ui&&this.T&&(this.b.k.deleteTexture(this.T),this.T=null)};n.Jb=function(h){h.globalAlpha=this.opacity;h.save();h.fillStyle=this.pattern;var g=this.x,d=this.y;this.b.Sb&&(g=g+0.5|0,d=d+0.5|0);var a=-(this.Ha*this.width),e=-(this.Ia*this.height),c=a%this.C.width,f=e%this.C.height;0>c&&(c+=this.C.width);0>f&&(f+=this.C.height);h.translate(g,d);h.rotate(this.j);h.translate(c,f);h.fillRect(a-c,e-f,this.width,this.height);h.restore()};n.nb=function(h){h.Wa(this.T);
h.sd(this.opacity);var g=this.Mc;g.right=this.width/this.C.width;g.bottom=this.height/this.C.height;var d=this.yc;if(this.b.Sb){var a=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;h.Tb(d.ua+a,d.wa+e,d.Ya+a,d.Za+e,d.Na+a,d.Oa+e,d.La+a,d.Ma+e,g)}else h.Tb(d.ua,d.wa,d.Ya,d.Za,d.Na,d.Oa,d.La,d.Ma,g)};h.R=new (F());h.cc=new (F());h.Dc=new (F())})();
function Db(){return[null,null,[[Eb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[Fb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[Gb,!1,!0,!0,!0,!0,!0,!0,!0,!0]],[["t0",Gb,!1,[],0,0,["images/tiledbackground.png",1279965,1],null,[],!1,!1,0xf0d89a5b445db,[],null],["t1",Gb,!1,[],0,0,["images/tiledbackground2.png",156,4],null,[],!1,!1,5910102207872427,[],null],["t2",Fb,!1,[],0,0,null,null,[],!1,!1,0x532e45b1a6fc8,[],null],["t3",Fb,!1,[],0,0,null,null,[],!1,!1,8378877947041289,[],null],["t4",Eb,!1,[],0,0,null,[["Default",5,!1,1,0,!1,
5644827199061557,[["images/sprite-sheet0.png",1279965,0,0,1280,800,1,0.5,0.5,[],[],1]]]],[],!1,!1,0xd3c26ece0988f,[],null]],[],[["Layout 1",1280,797,!1,"Event sheet 1",0x84bb5bc38d84,[["Layer 0",0,4871208195731808,!0,[0,0,0],!1,1,1,1,!1,1,0,0,[[[166,88,0,200,30,0,0,1,0,0,0,0,[]],2,1,[],[],["Text",0,"12pt Arial","rgb(255,255,255)",0,0,0,0,0]],[[219,259,0,200,30,0,0,1,0,0,0,0,[]],3,2,[],[],["Text",0,"12pt Arial","rgb(255,255,255)",0,0,0,0,0]],[[640,396,0,1280,800,0,4.412273938214639E-6,1,0.5,0.5,0,
0,[]],4,0,[],[],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",[[0,null,!1,null,9444338911073432,[[-1,Z.prototype.R.Wh,null,1,!1,!1,!1,4861061868690461,!1]],[[2,Fb.prototype.cc.Yh,null,0x75944a3770ffa,!1,[[7,[19,Z.prototype.Dc.ln]]]],[3,Fb.prototype.cc.Yh,null,8658958962979421,!1,[[7,[19,Z.prototype.Dc.kn]]]]]]]]],"media/",!1,1280,797,4,!0,!0,!0,"1.0.0.0",!0,!1,0,2,3,!1,!0,[]]};
